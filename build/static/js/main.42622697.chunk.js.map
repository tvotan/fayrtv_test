{"version":3,"sources":["utils/index.ts","components/Home/Home.module.css","utils/generateName.ts","components/Chat/Chat.tsx","components/Modal/LoginModal.tsx","components/TopBar/TopBar.tsx","components/VBrowser/data.ts","components/VBrowser/events.ts","components/VBrowser/base.ts","components/VBrowser/VBrowser.tsx","components/VBrowser/index.ts","components/VideoChat/VideoChat.tsx","components/Settings/LocalSettings.tsx","components/Modal/MultiStreamModal.tsx","utils/examples.ts","components/SearchResult/SearchResult.tsx","components/ComboBox/ComboBox.tsx","components/SearchComponent/SearchComponent.tsx","components/Controls/Controls.tsx","components/Modal/SubscribeModal.tsx","components/Modal/VBrowserModal.tsx","components/Settings/SettingsTab.tsx","components/Modal/ErrorModal.tsx","components/Modal/PasswordModal.tsx","components/App/App.tsx","components/Home/Home.tsx","components/PrivacyTerms/PrivacyTerms.tsx","components/Footer/Footer.tsx","serviceWorker.js","index.tsx"],"names":["formatTimestamp","input","undefined","Number","isNaN","Infinity","hours","Math","floor","minutes","toString","padStart","seconds","formatSpeed","toFixed","colorCache","getColorHex","id","red","orange","yellow","olive","green","teal","blue","violet","purple","pink","brown","grey","black","colors","abs","i","hash","length","charCodeAt","hashString","getColor","getMediaType","startsWith","testAutoplay","a","canAutoplay","video","result","decodeEntities","DOMParser","parseFromString","documentElement","textContent","debounce","func","wait","immediate","timeout","context","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout","getMediaPathForList","list","match","name","decoded","decodeURIComponent","getDefaultPicture","background","isMobile","window","screen","width","iceServers","urls","username","credential","serverPath","process","REACT_APP_SERVER_HOST","location","protocol","hostname","getMediaPathResults","mediaPath","query","fetch","response","results","includes","text","xml","parseStringPromise","data","filtered","ListBucketResult","Contents","filter","file","Key","map","url","json","type","option","toLowerCase","getStreamPathResults","streamPath","encodeURIComponent","getYouTubeResults","openFileSelector","accept","Promise","resolve","inputElement","document","createElement","addEventListener","files","dispatchEvent","MouseEvent","getAndSaveClientId","clientId","localStorage","getItem","uuidv4","setItem","module","exports","capFirst","string","charAt","toUpperCase","slice","getRandomInt","min","max","random","generateName","name1","name2","Chat","state","chatMsg","isNearBottom","isPickerOpen","messagesRef","React","createRef","updateChatMsg","e","setState","value","sendChatMsg","chatTooLong","props","socket","emit","Boolean","onScroll","isChatNearBottom","current","scrollHeight","scrollTop","offsetHeight","scrollToBottom","formatMessage","cmd","msg","Fragment","style","textTransform","getMediaDisplayName","addEmoji","emoji","native","prevProps","scrollTimestamp","hide","className","display","flexDirection","flexGrow","minHeight","marginTop","marginBottom","padding","ref","position","Comment","Group","chat","key","timestamp","message","pictureMap","nameMap","Button","size","onClick","bottom","margin","PickerMenu","closeMenu","Input","inverted","fluid","onKeyPress","onChange","error","icon","placeholder","Icon","circular","link","opacity","role","aria-label","Component","ChatMessage","system","Avatar","src","Content","Author","as","Metadata","Date","toLocaleTimeString","Text","PickerMenuInner","handleClickOutside","set","sheetSize","theme","showPreview","showSkinTones","onSelect","onClickOutside","LoginModal","email","password","isCreateMode","resetPassword","firebase","sendPasswordResetEmail","closeLogin","emailSignIn","signInWithEmailAndPassword","createAccount","createUserWithEmailAndPassword","emailLinkSignIn","sendSignInLinkToEmail","href","handleCodeInApp","Modal","open","onClose","Header","Message","color","header","content","Form","Field","target","NewRoomButton","createRoom","method","headers","body","JSON","stringify","reload","Popup","SignInButton","isLoginOpen","facebookSignIn","provider","FacebookAuthProvider","signInWithPopup","googleSignIn","GoogleAuthProvider","signOut","user","height","labelPosition","ListRoomsButton","rooms","refreshRooms","getIdToken","token","axios","get","uid","deleteRoom","roomId","delete","room","Dropdown","labeled","button","Menu","Item","disabled","vanity","replace","marginLeft","paddingLeft","trigger","stopPropagation","TopBar","flexWrap","paddingBottom","alt","alignItems","hideNewRoom","hideMyRooms","hideSignin","OPCODE","EVENT","DISCONNECT","ANSWER","PROVIDE","LOCKED","RELEASE","REQUEST","REQUESTING","CLIPBOARD","GIVE","CONFIGURATIONS","RESOLUTION","SET","BAN","KICK","LOCK","UNLOCK","MUTE","UNMUTE","CONTROL","BaseClient","_ws","_peer","_channel","_timeout","_displayname","_state","_id","displayname","socketOpen","supported","Error","WebSocket","onmessage","onMessage","bind","onerror","event","onError","onclose","onDisconnected","onTimeout","err","close","peerConnected","connected","buffer","payload","ArrayBuffer","DataView","setUint8","setUint16","x","y","setInt16","send","sdp","lite","servers","RTCPeerConnection","onconnectionstatechange","connectionState","onsignalingstatechange","signalingState","oniceconnectionstatechange","iceConnectionState","onConnected","ontrack","onTrack","addTransceiver","direction","createDataChannel","onData","setRemoteDescription","createAnswer","then","d","setLocalDescription","catch","readyState","parse","ice","createPeer","track","kind","streams","label","reason","disconnect","prototype","OPEN","EventEmitter","VBrowser","focused","fullscreen","activeKeys","Set","controlling","scroll","scroll_invert","rate","keepAliveInterval","_container","_overlay","_video","$client","NekoClient","takeControl","sendMessage","once","changeResolution","resString","split","onFocus","navigator","clipboard","readText","onBlur","forEach","sendData","preventDefault","onContextMenu","onMousePos","w","h","rect","getBoundingClientRect","round","clientX","left","clientY","top","onWheel","deltaX","deltaY","onMouseDown","onMouseUp","onMouseMove","onMouseEnter","focus","onMouseLeave","blur","getCode","keyCode","onKeyDown","add","onKeyUp","onResize","setInterval","on","login","setResolution","stream","getElementById","srcObject","isAutoPlayable","muted","play","onClipboardChanged","passive","resolution","clearInterval","removeAllListeners","logout","writeText","tabIndex","clientWidth","clientHeight","scrollbarWidth","connect","console","warn","log","configurations","VideoChat","ourStream","videoRefs","videoPCs","handleSignal","from","pc","addIceCandidate","RTCIceCandidate","RTCSessionDescription","answer","sendSignal","localDescription","setupWebRTC","mediaDevices","getUserMedia","audio","stopWebRTC","getTracks","stop","Object","values","toggleVideoWebRTC","getVideoTracks","enabled","getVideoWebRTC","toggleAudioWebRTC","getAudioTracks","getAudioWebRTC","updateWebRTC","participants","isVideoChat","addStream","onicecandidate","candidate","onaddstream","onnegotiationneeded","createOffer","offer","to","off","rosterUpdateTS","tsMap","overflow","title","p","el","autoPlay","data-id","backgroundColor","borderRadius","fontSize","fontWeight","backdropFilter","textOverflow","whiteSpace","justifyContent","getCurrentSettings","setting","settings","validateSettingsString","settingObject","updateSettings","newSetting","MultiStreamModal","setMedia","resetMultiSelect","basic","closeIcon","Loader","List","Description","toLocaleString","examples","lastIndexOf","YouTubeSearchResult","img","MediaPathSearchResult","StreamPathSearchResult","launchMultiSelect","magnet","metadata","multiStreamSelection","sort","b","localeCompare","Label","empty","seeders","ComboBox","inputMedia","loading","lastResultTimestamp","debounced","doSearch","persist","vertical","maxHeight","zIndex","SearchComponent","resetDropdown","search","onSearchChange","Controls","showTimestamp","currTimestamp","posTimestamp","onMouseOver","onMouseOut","pct","duration","togglePlay","onSeek","fullScreen","toggleMute","toggleSubtitle","jumpToLeader","paused","subtitled","currentTime","leaderTime","isBehind","Progress","minWidth","total","pointerEvents","pointing","marginRight","getVolume","step","setVolume","stripePromise","REACT_APP_STRIPE_PUBLIC_KEY","loadStripe","SubscribeModal","onSubscribe","stripe","redirectToCheckout","lineItems","price","quantity","mode","successUrl","cancelUrl","customerEmail","clientReferenceId","isSubscriber","closeSubscribe","image","Table","definition","unstackable","striped","Row","HeaderCell","Body","Cell","textAlign","VBrowserModal","closeModal","startVBrowser","openSubscribe","LaunchButton","withGoogleReCaptcha","googleReCaptchaProps","large","executeRecaptcha","reCaptchaKey","REACT_APP_RECAPTCHA_SITE_KEY","useRecaptchaNet","SettingsTab","roomLock","setRoomLock","useState","updateTS","setUpdateTS","setVanity","setPassword","owner","setOwner","validVanity","setValidVanity","validVanityLoading","setValidVanityLoading","roomLink","setRoomLink","useEffect","handleRoomState","getRoomLink","origin","setRoomState","useCallback","setRoomOwner","checkValidVanity","lockDisabled","description","checked","undo","subOnly","action","primary","disableChatSound","SettingRow","Divider","horizontal","Radio","toggle","ErrorModal","PasswordModal","savedPasswords","firebaseConfig","REACT_APP_FIREBASE_CONFIG","initializeApp","App","currentMedia","currentMediaPaused","currentSubtitle","myName","myPicture","controlsTimestamp","watchOptions","isScreenSharing","isScreenSharingFile","isVBrowser","isYouTubeReady","downloaded","speed","connections","isErrorAuth","vBrowserResolution","isVBrowserLarge","nonPlayableMedia","currentTab","querystring","substring","tab","isSubscribeModalOpen","isVBrowserModalOpen","controller","errorMessage","successMessage","watchPartyYTPlayer","ytDebounce","screenShareStream","screenHostPC","screenSharePC","progressUpdater","loadSettings","customSettingsData","customSettings","loadSignInData","firstName","displayName","updateName","photoURL","updatePicture","updateUid","loadYouTube","tag","firstScriptTag","getElementsByTagName","parentNode","insertBefore","onYouTubeIframeAPIReady","ytPlayer","YT","Player","events","onReady","isYouTube","onStateChange","PlayerState","CUED","PLAYING","PAUSED","doPlay","doPause","init","join","savedPasswordsString","io","transports","userName","success","doSeek","isSubtitled","isScreenShare","stopScreenShare","isFileShare","stopVBrowser","subtitle","getVBrowserHost","setLoadingFalse","leftVideo","pause","stopVideo","setMute","doSrc","videoTS","visibilityState","Audio","push","syncSubtitle","updateScreenShare","sharer","sendSignalSS","getCurrentTime","setupFileShare","URL","createObjectURL","captureStream","onaddtrack","onended","setupScreenShare","getDisplayMedia","cursor","logicalSurface","find","setupVBrowser","rcToken","options","changeController","setSubtitle","reader","FileReader","subData","readAsText","isVideo","isHttp","getVBrowserPass","getDuration","isPaused","ended","getPlayerState","ENDED","isMuted","textTracks","getOption","languageCode","maxTS","getLeaderTime","time","innerHTML","videoId","altVideoId","cueVideoById","playVideo","pauseVideo","seekTo","shouldPlay","onVideoKeydown","bVideoOnly","container","fullscreenElement","requestFullscreen","bChangeElements","exitFullscreen","mute","unMute","volume","loadSubtitles","subtitleSrc","subtitlePath","getFileName","arrayBuffer","vttConverter","VTTConverter","Blob","getURL","srclang","appendChild","offset","cues","cue","origStart","startTime","origEnd","endTime","setOption","tracks","magnetUrl","torrent","decode","onManage","return_url","resp","session","assign","locked","haveLock","onfullscreenchange","auth","onAuthStateChanged","controls","negative","right","positive","Grid","stackable","celled","Column","selection","Dimmer","active","allowFullScreen","frameBorder","allow","widths","Separator","flexShrink","Home","styles","heroText","subText","featureSection","Step","Title","Feature","flex","fitted","featureTitle","featureText","Hero","hero","heroInner","mdStyle","maxWidth","Privacy","Terms","FAQ","Footer","Debug","lazy","ReactDOM","render","StrictMode","path","exact","params","fallback","serviceWorker","ready","registration","unregister"],"mappings":"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,IACd,IAAIC,EAAQ,CACV,YACA,OACA,WACA,WACA,cACA,WACA,aACA,YACA,eACA,WACA,SACA,SACA,YACA,SACA,SACA,QACA,YACA,UACA,aACA,WACA,SACA,WACA,SACA,eACA,OACA,cACA,aACA,QACA,WACA,YACA,YACA,OACA,UACA,WACA,QACA,YACA,QACA,MACA,aACA,UACA,YACA,QACA,SACA,UACA,WACA,UACA,UACA,QACA,YACA,WACA,SACA,UACA,UACA,UACA,MACA,eACA,cACA,MACA,SACA,OACA,WACA,WACA,UACA,UACA,cACA,WACA,WACA,YACA,aACA,UACA,YACA,aACA,YACA,aACA,UACA,QACA,UACA,QACA,UACA,UACA,MACA,OACA,QACA,OACA,SACA,QACA,YACA,UACA,UACA,aACA,SACA,OACA,YACA,MACA,cACA,gBACA,aACA,SACA,QACA,kBACA,QACA,QACA,UACA,QACA,QACA,WACA,QACA,OACA,WACA,QACA,UACA,OACA,OACA,SACA,QACA,OACA,SACA,YACA,QACA,QACA,YACA,QACA,SACA,YACA,QACA,SACA,SACA,QACA,UACA,SACA,QACA,QACA,UACA,aACA,QACA,WACA,OACA,UACA,UACA,cACA,OACA,SACA,SACA,UACA,WACA,UACA,WACA,SACA,WACA,YACA,aACA,WACA,QACA,WACA,SACA,QACA,SACA,SACA,WACA,UACA,QACA,QACA,YACA,SACA,QACA,SACA,SACA,WACA,SACA,YACA,SACA,OACA,WACA,YACA,WACA,cACA,SACA,gBACA,YACA,WACA,UACA,cACA,WACA,YACA,WACA,WACA,YACA,cACA,WACA,UACA,eACA,SACA,OACA,cACA,cACA,QACA,UACA,SACA,aACA,YACA,SACA,QACA,SACA,WACA,SACA,WACA,QACA,WACA,UACA,UACA,QACA,WACA,SACA,aACA,WACA,aACA,QACA,QACA,OACA,cACA,UACA,OACA,YACA,SACA,SACA,UACA,OACA,WACA,OACA,SACA,YACA,OACA,UACA,SACA,UACA,WACA,OACA,cACA,YACA,UACA,YACA,WACA,aACA,UACA,aACA,YACA,aACA,YACA,YACA,QACA,SACA,aACA,YACA,cACA,WACA,WACA,aACA,UACA,YACA,YACA,UACA,WACA,MACA,UACA,YACA,SACA,aACA,WACA,aACA,aACA,WACA,SACA,UACA,YACA,SACA,QACA,YACA,YACA,SACA,UACA,WACA,YACA,QACA,QACA,SACA,SACA,YACA,OACA,SACA,WACA,SACA,SACA,MACA,OACA,OACA,UACA,OACA,QACA,UACA,QACA,OACA,aACA,WACA,SACA,WACA,YACA,UACA,SACA,UACA,WACA,UACA,aACA,aACA,cACA,cACA,UACA,YACA,QACA,YACA,aACA,YACA,cACA,WACA,UACA,SACA,UACA,QACA,aACA,YACA,WACA,UACA,WACA,OACA,YACA,cACA,QACA,OACA,UACA,YACA,YACA,YACA,YACA,UACA,WACA,SACA,YACA,cACA,SACA,aACA,cACA,cACA,cACA,WACA,UACA,QACA,OACA,WACA,OACA,QACA,WACA,SACA,QACA,YACA,MACA,UACA,YACA,UACA,OACA,MACA,QACA,WACA,YACA,WACA,UACA,WACA,SACA,SACA,SACA,WACA,MACA,SACA,SACA,OACA,WACA,OACA,QACA,YACA,UACA,QACA,QACA,aACA,SACA,OACA,SACA,WACA,aACA,SACA,WACA,UACA,SACA,QACA,YACA,UACA,OACA,YACA,UACA,WACA,SACA,SACA,WACA,aACA,YACA,WACA,QACA,QACA,SACA,OACA,SACA,QACA,WACA,WACA,aACA,cACA,SACA,SACA,SACA,YACA,QACA,SACA,SACA,SACA,WACA,OACA,WACA,aACA,QACA,QACA,QACA,aACA,UACA,UACA,WACA,SACA,UACA,QACA,QACA,WACA,SACA,SACA,YACA,UACA,QACA,WACA,UACA,aACA,aACA,SACA,WACA,SACA,OACA,SACA,OACA,eACA,WACA,WACA,WACA,QACA,YACA,WACA,WACA,QACA,OACA,QACA,SACA,QACA,aACA,OACA,QACA,WACA,WACA,QACA,YACA,UACA,WACA,UACA,WACA,QACA,SACA,WACA,SACA,SACA,WACA,QACA,QACA,OACA,WACA,WACA,QACA,QACA,iBACA,OACA,eACA,UACA,WACA,aACA,QACA,QACA,UACA,WACA,UACA,YACA,SACA,WACA,QACA,QACA,UACA,WACA,SACA,UACA,OACA,aACA,YACA,SACA,SACA,SACA,SACA,YACA,UACA,UACA,WACA,aACA,MACA,OACA,SACA,cACA,UACA,YACA,SACA,UACA,QACA,OACA,MACA,QACA,aACA,YACA,OACA,UACA,WACA,WACA,MACA,UACA,YACA,eACA,aACA,cACA,YACA,cACA,aACA,aACA,YACA,UACA,cACA,aACA,YACA,YACA,gBACA,SACA,WACA,YACA,aACA,cACA,iBACA,aACA,aACA,SACA,SACA,eACA,eACA,aACA,kBACA,aACA,YACA,gBACA,WACA,WACA,YACA,aACA,WACA,WACA,WACA,WACA,WACA,YACA,gBACA,YACA,cACA,gBACA,cACA,SACA,cACA,cACA,WACA,gBACA,WACA,WACA,gBACA,aACA,QACA,QACA,SACA,aACA,SACA,UACA,UACA,QACA,QACA,SACA,SACA,SACA,WACA,YACA,QACA,QACA,SACA,QACA,WACA,gBACA,OACA,MACA,OACA,cACA,SACA,SACA,SACA,SACA,gBACA,UACA,QACA,QACA,SACA,OACA,QACA,QACA,OACA,UACA,OACA,SACA,SACA,OACA,UACA,OACA,QACA,OACA,QACA,aACA,QACA,eACA,UACA,SACA,UACA,OACA,UACA,SACA,QACA,SACA,SACA,OACA,SACA,QACA,YACA,OACA,SACA,OACA,YACA,QACA,WACA,OACA,OACA,UACA,SACA,SACA,MACA,QACA,QACA,YACA,WACA,QACA,WACA,YACA,MACA,UACA,cACA,WACA,QACA,OACA,UACA,UACA,YACA,YACA,UACA,SACA,SACA,QACA,OACA,SACA,QACA,UACA,WACA,SACA,OACA,SACA,UACA,YACA,WACA,QACA,QACA,WACA,OACA,QACA,WACA,YACA,QACA,QACA,YACA,UACA,YACA,QACA,QACA,SACA,SACA,QACA,YACA,UACA,aACA,QACA,YACA,WACA,aACA,cACA,QACA,UACA,eACA,UACA,QACA,QACA,QACA,QACA,aACA,QACA,SACA,QACA,UACA,UACA,WACA,OACA,OACA,YACA,QACA,WACA,YACA,aACA,cACA,UACA,MACA,OACA,OACA,QACA,SACA,QACA,YACA,QACA,UACA,SACA,UACA,QACA,aACA,QACA,UACA,OACA,aACA,QACA,WACA,QACA,SACA,OACA,SACA,UACA,aACA,MACA,UACA,UACA,YACA,WACA,MACA,gBACA,OACA,OACA,UACA,aACA,UACA,SACA,UACA,UACA,SACA,SACA,WACA,WACA,QACA,MACA,WACA,WACA,aACA,aACA,cACA,OACA,aACA,UACA,YACA,aACA,YACA,OACA,SACA,WACA,UACA,UACA,aACA,OACA,SACA,WACA,UACA,UACA,WACA,WACA,QACA,WACA,YACA,QACA,cACA,QACA,QACA,WACA,WACA,OACA,UACA,QACA,YACA,UACA,UACA,WACA,UACA,WACA,QACA,QACA,WACA,SACA,YACA,UACA,YACA,SACA,OACA,UACA,SACA,OACA,WACA,WACA,UACA,WACA,YACA,YACA,WACA,UACA,cACA,SACA,WACA,WACA,SACA,UACA,UACA,QACA,WACA,UACA,QACA,WACA,aACA,aACA,UACA,SACA,QACA,UACA,WACA,UACA,OACA,OACA,SACA,QACA,SACA,UACA,WACA,SACA,YACA,cACA,YACA,SACA,YACA,eACA,QACA,eACA,QACA,iBACA,SACA,WACA,YACA,UACA,SACA,QACA,OACA,OACA,MACA,SACA,WACA,cACA,QACA,OACA,YACA,aACA,MACA,aACA,QACA,UACA,WACA,WACA,aACA,aACA,SACA,YACA,WACA,aACA,cACA,YACA,YACA,YACA,OACA,QACA,QACA,SACA,OACA,UACA,SACA,OACA,WACA,SACA,QACA,QACA,QACA,QACA,UACA,UACA,QACA,OACA,QACA,QACA,QACA,MACA,OACA,QACA,OACA,QACA,OACA,YACA,WACA,YACA,QACA,SACA,SACA,QACA,UACA,YACA,aACA,WACA,WACA,UACA,SACA,YACA,cACA,SACA,eACA,eACA,UACA,cACA,WACA,SACA,UACA,aACA,UACA,SACA,SACA,UACA,QACA,UACA,WACA,YACA,QACA,aACA,QACA,UACA,WACA,SACA,QACA,aACA,QACA,SACA,MACA,OACA,SACA,QACA,QACA,SACA,UACA,SACA,aACA,SACA,SACA,WACA,WACA,SACA,SACA,SACA,OACA,QACA,WACA,OACA,SACA,QACA,QACA,SACA,SACA,OACA,SACA,WACA,SACA,YACA,SACA,WACA,OACA,QACA,QACA,SACA,OACA,YACA,gBACA,OACA,YACA,UACA,QACA,OACA,UACA,YACA,SACA,WACA,cACA,SACA,QACA,SACA,WACA,WACA,WACA,WACA,UACA,OACA,SACA,UACA,WACA,SACA,QACA,UACA,QACA,WACA,UACA,QACA,SACA,QACA,SACA,QACA,cACA,SACA,SACA,WACA,UACA,QACA,SACA,WACA,WACA,UACA,SACA,WACA,WACA,aACA,SACA,SACA,UACA,UACA,aACA,cACA,SACA,WACA,SACA,SACA,QACA,QACA,SACA,cACA,WACA,aACA,cACA,YACA,aACA,SACA,SACA,QACA,aACA,QACA,cACA,OACA,YACA,OACA,MACA,WACA,OACA,QACA,WACA,OACA,UACA,UACA,WACA,SACA,QACA,QACA,WACA,WACA,QACA,WACA,OACA,QACA,QACA,OACA,QACA,UACA,OACA,WACA,SACA,QACA,aACA,aACA,UACA,aACA,OACA,QACA,SACA,SACA,OACA,QACA,OACA,QACA,QACA,YACA,YACA,aACA,SACA,UACA,aACA,aACA,SACA,WACA,OACA,UACA,WACA,OACA,WACA,cACA,SACA,WACA,QACA,YACA,OACA,OACA,WACA,eACA,UACA,gBACA,WACA,cACA,cACA,YACA,SACA,aACA,QACA,WACA,cACA,UACA,YACA,UACA,cACA,SACA,SACA,UACA,UACA,WACA,UACA,UACA,YACA,aACA,cACA,SACA,SACA,YACA,YACA,WACA,SACA,SACA,WACA,UACA,SACA,SACA,UACA,YACA,WACA,YACA,YACA,YACA,SACA,UACA,QACA,QACA,SACA,OACA,SACA,UACA,WACA,QACA,SACA,QACA,OACA,QACA,WACA,QACA,WACA,OACA,UACA,YACA,WACA,aACA,UACA,UACA,aACA,WACA,WACA,aACA,SACA,UACA,UACA,WACA,UACA,QACA,YACA,QACA,aACA,MACA,UACA,OACA,cACA,SACA,OACA,WACA,WACA,cACA,SACA,OACA,UACA,OACA,QACA,SACA,MACA,SACA,QACA,UACA,QACA,UACA,kBACA,eACA,gBACA,WACA,YACA,WACA,aACA,YACA,MACA,QACA,YACA,YACA,YACA,QACA,QACA,WACA,SACA,OACA,YACA,SACA,OACA,UACA,SACA,UACA,QACA,SACA,OACA,OACA,QACA,SACA,SACA,YACA,SACA,QACA,QACA,UACA,OACA,UACA,YACA,QACA,QACA,YACA,aACA,SACA,WACA,WACA,WACA,QACA,MACA,UACA,SACA,SACA,YACA,QACA,WACA,QACA,OACA,UACA,QACA,SACA,SAGEC,EAAQ,CACV,SACA,UACA,MACA,MACA,QACA,cACA,MACA,SACA,aACA,SACA,SACA,WACA,OACA,OACA,SACA,QACA,SACA,UACA,SACA,OACA,OACA,gBACA,SACA,MACA,OACA,aACA,UACA,WACA,UACA,YACA,QACA,UACA,YACA,OACA,WACA,aACA,UACA,UACA,SACA,OACA,UACA,OACA,cACA,aACA,OACA,UACA,WACA,QACA,WACA,QACA,QACA,OACA,YACA,aACA,SACA,UACA,cACA,WACA,aACA,SACA,UACA,QACA,OACA,WACA,UACA,OACA,QACA,eACA,YACA,UACA,WACA,SACA,SACA,UACA,QACA,YACA,YACA,WACA,aACA,OACA,SACA,UACA,QACA,cACA,QACA,WACA,QACA,QACA,YACA,aACA,UACA,UACA,aACA,aACA,OACA,OACA,WACA,UACA,SACA,SACA,WACA,OACA,cACA,UACA,UACA,WACA,aACA,UACA,gBACA,QACA,YACA,UACA,OACA,SACA,SACA,OACA,OACA,OACA,cACA,WACA,UACA,WACA,YACA,YACA,OACA,SACA,WACA,WACA,YACA,WACA,QACA,WACA,WACA,UACA,OACA,cACA,eACA,gBACA,SACA,aACA,YACA,OACA,WACA,YACA,UACA,eACA,cACA,cACA,SACA,SACA,SACA,WACA,YACA,eACA,WACA,OACA,SACA,SACA,UACA,OACA,SACA,UACA,QACA,QACA,aACA,cACA,UACA,WACA,QACA,aACA,UACA,YACA,YACA,OACA,QACA,SACA,QACA,SACA,aACA,aACA,UACA,UACA,UACA,iBACA,YACA,QACA,YACA,SACA,cACA,OACA,SACA,QACA,SACA,aACA,cACA,QACA,cACA,QACA,SACA,SACA,QACA,aACA,aACA,cACA,UACA,aACA,WACA,UACA,KACA,SACA,UACA,aACA,YACA,OACA,cACA,SACA,WACA,YACA,WACA,iBACA,SACA,WACA,WACA,cACA,aACA,iBACA,WACA,YACA,UACA,UACA,UACA,WACA,YACA,WACA,WACA,UACA,OACA,aACA,aACA,cACA,QACA,QACA,YACA,SACA,WACA,aACA,cACA,QACA,cACA,QACA,UACA,aACA,SACA,WACA,OACA,YACA,QACA,QACA,YACA,WACA,SACA,aACA,QACA,WACA,SACA,WACA,WACA,QACA,QACA,QACA,WACA,aACA,aACA,UACA,YACA,UACA,aACA,YACA,QACA,UACA,aACA,YACA,eACA,WACA,UACA,WACA,WACA,QACA,SACA,aACA,OACA,UACA,YACA,YACA,UACA,SACA,iBACA,SACA,UACA,SACA,WACA,SACA,aACA,aACA,SACA,WACA,SACA,WACA,SACA,MACA,UACA,aACA,eACA,YACA,aACA,eACA,aACA,UACA,UACA,SACA,SACA,SACA,QACA,UACA,YACA,SACA,UACA,SACA,SACA,UACA,OACA,UACA,aACA,WACA,MACA,cACA,OACA,MACA,SACA,SACA,SACA,cACA,YACA,QACA,QACA,WACA,aACA,eACA,SACA,YACA,eACA,OACA,QACA,OACA,UACA,SACA,OACA,WACA,UACA,cACA,UACA,aACA,WACA,UACA,YACA,eACA,WACA,aACA,QACA,cACA,SACA,OACA,OACA,OACA,YACA,WACA,SACA,cACA,cACA,eACA,OACA,aACA,MACA,OACA,WACA,WACA,YACA,cACA,aACA,QACA,MACA,SACA,MACA,UACA,UACA,SACA,SACA,SACA,aACA,SACA,QACA,QACA,YACA,aACA,eACA,SACA,UACA,OACA,SACA,gBACA,cACA,UACA,UACA,QACA,aACA,cACA,eACA,SACA,aACA,YACA,OACA,SACA,OACA,UACA,QACA,SACA,aACA,YACA,WACA,WACA,cACA,QACA,SACA,cACA,SACA,WACA,UACA,SACA,WACA,UACA,QACA,aACA,YACA,WACA,UACA,OACA,WACA,cACA,eACA,QACA,SACA,cACA,YACA,UACA,OACA,MACA,UACA,aACA,UACA,OACA,aACA,MACA,aACA,YACA,OACA,WACA,cACA,aACA,YACA,QACA,WACA,OACA,YACA,cACA,aACA,QACA,UACA,WACA,UACA,WACA,OACA,SACA,UACA,QACA,QACA,OACA,OACA,OACA,QACA,QACA,UACA,QACA,WACA,QACA,OACA,OACA,OACA,MACA,MACA,QACA,SACA,OACA,QACA,OACA,OACA,UACA,OACA,OACA,aACA,MACA,OACA,MACA,QACA,OACA,OACA,UACA,QACA,OACA,SACA,QACA,WACA,QACA,QACA,SACA,UACA,QACA,OACA,OACA,OACA,OACA,QACA,OACA,OACA,QACA,OACA,OACA,MACA,QACA,MACA,QACA,WACA,OACA,SACA,MACA,SACA,QACA,QACA,WACA,WACA,QACA,UACA,QACA,MACA,OACA,QACA,MACA,QACA,OACA,OACA,OACA,SACA,QACA,QACA,SACA,OACA,OACA,QACA,MACA,UACA,SACA,SACA,QACA,OACA,SACA,SACA,OACA,SACA,WACA,QACA,OACA,QACA,QACA,SACA,MACA,MACA,OACA,SACA,SACA,UACA,WACA,QACA,OACA,QACA,SACA,OACA,QACA,MACA,OACA,UACA,QACA,OACA,QACA,UACA,SACA,SACA,MACA,QACA,SACA,YACA,QACA,UACA,UACA,SACA,UACA,OACA,WACA,UACA,WACA,OACA,OACA,MACA,QACA,MACA,MACA,SACA,QACA,MACA,OACA,SACA,OACA,QACA,QACA,MACA,OACA,QACA,OACA,SACA,UACA,WACA,MACA,WACA,MACA,OACA,WACA,WACA,SACA,YACA,UACA,MACA,QACA,QACA,OACA,QACA,OACA,OACA,QACA,QACA,SACA,OACA,SACA,YACA,OACA,UACA,OACA,aACA,SACA,QACA,UACA,MACA,QACA,SACA,SACA,OACA,SACA,UACA,QACA,OACA,OACA,UACA,UACA,SACA,UACA,UACA,MACA,OACA,QACA,OACA,YACA,UACA,SACA,MACA,OACA,MACA,UACA,QACA,SACA,UACA,OACA,SACA,OACA,OACA,OACA,QACA,UACA,YACA,SACA,OACA,OACA,QACA,SACA,OACA,QACA,WACA,OACA,SACA,QACA,UACA,OACA,SACA,QACA,QACA,QACA,OACA,QACA,SACA,QACA,SACA,OACA,MACA,YACA,SACA,OACA,OACA,OACA,SACA,WACA,UACA,OACA,UACA,QACA,QACA,SACA,OACA,SACA,SACA,SACA,WACA,OACA,SACA,SACA,SACA,UACA,QACA,YACA,WACA,MACA,QACA,QACA,QACA,UACA,OACA,SACA,WACA,YACA,OACA,OACA,WACA,MACA,SACA,OACA,UACA,QACA,SACA,OACA,OACA,UACA,OACA,OACA,SACA,OACA,aACA,QACA,OACA,SACA,QACA,QACA,QACA,SACA,SACA,MACA,WACA,UACA,OACA,YACA,SACA,QACA,OACA,QACA,UACA,OACA,MACA,SACA,MACA,QACA,YACA,WACA,OACA,SACA,SACA,SACA,SACA,OACA,OACA,OACA,QACA,aACA,OACA,OACA,UACA,OACA,WACA,UACA,MACA,QACA,SACA,QACA,SACA,OACA,QACA,OACA,YACA,aACA,WACA,SACA,SACA,MACA,QACA,OACA,QACA,SACA,MACA,UACA,OACA,QACA,OACA,OACA,QACA,QACA,OACA,SACA,QACA,YACA,OACA,QACA,YACA,MACA,QACA,QACA,QACA,QACA,gBACA,QACA,OACA,SACA,OACA,YACA,MACA,OACA,UACA,OACA,WACA,QACA,QACA,MACA,OACA,SACA,OACA,OACA,SACA,QACA,OACA,OACA,QACA,OACA,WACA,YACA,MACA,OACA,UACA,SACA,QACA,MACA,WACA,OACA,OACA,SACA,SACA,YACA,OACA,OACA,YACA,QACA,UACA,MACA,SACA,UACA,OACA,UACA,UACA,UACA,OACA,UACA,WACA,WACA,YACA,MACA,SACA,UACA,MACA,SACA,MACA,OACA,SACA,OACA,OACA,QACA,WACA,YACA,QACA,OACA,YACA,UACA,YACA,OACA,QACA,MACA,QACA,UACA,SACA,QACA,OACA,UACA,OACA,UACA,WACA,OACA,QACA,WACA,UACA,UACA,QACA,SACA,QACA,OACA,SACA,OACA,WACA,WACA,QACA,UACA,SACA,UACA,QACA,WACA,OACA,QACA,OACA,MACA,QACA,YACA,MACA,OACA,SACA,SACA,SACA,UACA,QACA,QACA,OACA,QACA,QACA,WACA,QACA,OACA,SACA,QACA,MACA,OACA,QACA,OACA,QACA,QACA,YACA,SACA,OACA,OACA,SACA,UACA,SACA,UACA,MACA,OACA,QACA,UACA,SACA,QACA,UACA,OACA,SACA,SACA,OACA,QACA,SACA,OACA,MACA,OACA,OACA,QACA,MACA,QACA,QACA,SACA,OACA,SACA,UACA,aACA,QACA,OACA,OACA,OACA,QACA,SACA,QACA,UACA,WACA,QACA,OACA,QACA,OACA,QACA,SACA,MACA,WACA,QACA,QACA,QACA,WACA,OACA,aACA,UACA,UACA,OACA,QACA,OACA,UACA,OACA,QACA,SACA,QACA,SACA,QACA,QACA,UACA,UACA,SACA,cACA,OACA,OACA,SACA,UACA,OACA,SACA,OACA,UACA,QACA,SACA,OACA,OACA,QACA,QACA,OACA,aACA,SACA,SACA,QACA,OACA,OACA,QACA,QACA,MACA,SACA,OACA,MACA,OACA,QACA,SACA,MACA,WACA,UACA,QACA,UACA,MACA,QACA,WACA,WACA,QACA,QACA,MACA,OACA,YACA,WACA,SACA,OACA,OACA,MACA,MACA,OACA,QACA,QACA,UACA,MACA,QACA,SACA,QACA,UACA,WACA,SACA,OACA,OACA,OACA,OACA,SACA,SACA,OACA,UACA,MACA,QACA,QACA,UACA,MACA,OACA,QACA,MACA,OACA,OACA,OACA,OACA,KACA,QACA,QACA,QACA,SACA,OACA,OACA,QACA,OACA,QACA,QACA,UACA,WACA,OACA,OACA,OACA,OACA,MACA,SACA,MACA,SACA,SACA,OACA,MACA,WACA,aACA,QACA,WACA,UACA,WACA,MACA,UACA,WACA,OACA,MACA,QACA,SACA,OACA,OACA,MACA,MACA,WACA,SACA,aACA,OACA,MACA,MACA,QACA,OACA,OACA,QACA,YACA,eACA,gBACA,SACA,OACA,cACA,UACA,UACA,QACA,QACA,SACA,OACA,aACA,MACA,WACA,OACA,UACA,QACA,OACA,YACA,WACA,UACA,SACA,UACA,QACA,OACA,WACA,OACA,OACA,QACA,QACA,UACA,OACA,SACA,SACA,MACA,UACA,MACA,YACA,SACA,UACA,UACA,cACA,QACA,WACA,QACA,OACA,QACA,QACA,YACA,SACA,SACA,QACA,WACA,OACA,OACA,QACA,SACA,SACA,QACA,SACA,OACA,OACA,QACA,SACA,OACA,SACA,UACA,QACA,OACA,MACA,UACA,OACA,QACA,UACA,UACA,WACA,MACA,WACA,QACA,cACA,OACA,OACA,OACA,QACA,QACA,QACA,OACA,SACA,WACA,QACA,SACA,UACA,OACA,UACA,OACA,SACA,SACA,QACA,OACA,SACA,SACA,SACA,QACA,OACA,QACA,OACA,UACA,OACA,MACA,YACA,QACA,QACA,SACA,WACA,MACA,OACA,UACA,OACA,WACA,MACA,OACA,SACA,OACA,OACA,WACA,OACA,QACA,SACA,QACA,QACA,OACA,QACA,OACA,OACA,UACA,QACA,QACA,QACA,YACA,UACA,UACA,OACA,SACA,OACA,QACA,MACA,OACA,WACA,OACA,OACA,YACA,MACA,MACA,SACA,QACA,WACA,OACA,QACA,QACA,QACA,OACA,MACA,OACA,QACA,OACA,QACA,SACA,SACA,QACA,OACA,QACA,OACA,UACA,UACA,SACA,QACA,OACA,QACA,QACA,OACA,UACA,UACA,MACA,SACA,aACA,OACA,OACA,UACA,QACA,UACA,YACA,SACA,MACA,QACA,QACA,QACA,SACA,SACA,OACA,QACA,SACA,QACA,MACA,UACA,OACA,SACA,SACA,WACA,OACA,UACA,QACA,MACA,SACA,QACA,WACA,UACA,QACA,SACA,QACA,SACA,WACA,OACA,QACA,QACA,OACA,SACA,UACA,QACA,YACA,OACA,QACA,OACA,OACA,OACA,SACA,QACA,UACA,UACA,OACA,OACA,OACA,QACA,UACA,QACA,QACA,QACA,WACA,QACA,SACA,QACA,OACA,cACA,WACA,QACA,OACA,OACA,SACA,QACA,SACA,SACA,SACA,OACA,QACA,QACA,QACA,QACA,OACA,WACA,OACA,YACA,OACA,OACA,QACA,QACA,SACA,QACA,aACA,SACA,OACA,OACA,MACA,QACA,OACA,QACA,iBACA,SACA,MACA,MACA,QACA,QACA,QACA,UACA,SACA,OACA,YACA,WACA,OACA,OACA,YACA,SACA,MACA,UAOF,OAHEX,EAASU,EAAML,EAAa,EAAGK,EAAM5G,OAAS,KAC9C,IACAkG,EAASW,EAAMN,EAAa,EAAGM,EAAM7G,OAAS,K,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","file":"static/js/main.42622697.chunk.js","sourcesContent":["//@ts-ignore\nimport canAutoplay from 'can-autoplay';\nimport { parseStringPromise } from 'xml2js';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport function formatTimestamp(input: any) {\n  if (\n    input === null ||\n    input === undefined ||\n    input === false ||\n    Number.isNaN(input) ||\n    input === Infinity\n  ) {\n    return '';\n  }\n  let hours = Math.floor(Number(input) / 3600);\n  let minutes = (Math.floor(Number(input) / 60) % 60)\n    .toString()\n    .padStart(2, '0');\n  let seconds = Math.floor(Number(input) % 60)\n    .toString()\n    .padStart(2, '0');\n  return `${hours}:${minutes}:${seconds}`;\n}\n\nexport function formatSpeed(input: number) {\n  if (input >= 1000000) {\n    return (input / 1000000).toFixed(2) + ' MiB/s';\n  }\n  if (input >= 1000) {\n    return (input / 1000).toFixed(0) + ' KiB/s';\n  }\n  return input + ' B/s';\n}\n\nexport function hashString(input: string) {\n  var hash = 0,\n    i,\n    chr;\n  for (i = 0; i < input.length; i++) {\n    chr = input.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0; // Convert to 32bit integer\n  }\n  return hash;\n}\n\nlet colorCache = {} as NumberDict;\nexport function getColor(id: string) {\n  let colors = [\n    'red',\n    'orange',\n    'yellow',\n    'olive',\n    'green',\n    'teal',\n    'blue',\n    'violet',\n    'purple',\n    'pink',\n    'brown',\n    'grey',\n  ];\n  if (colorCache[id]) {\n    return colors[colorCache[id]];\n  }\n  colorCache[id] = Math.abs(hashString(id)) % colors.length;\n  return colors[colorCache[id]];\n}\n\nexport function getColorHex(id: string) {\n  let mappings: StringDict = {\n    red: 'B03060',\n    orange: 'FE9A76',\n    yellow: 'FFD700',\n    olive: '32CD32',\n    green: '016936',\n    teal: '008080',\n    blue: '0E6EB8',\n    violet: 'EE82EE',\n    purple: 'B413EC',\n    pink: 'FF1493',\n    brown: 'A52A2A',\n    grey: 'A0A0A0',\n    black: '000000',\n  };\n  return mappings[getColor(id)];\n}\n\nexport const getFbPhoto = (fbId: string) =>\n  `https://graph.facebook.com/${fbId}/picture?type=normal`;\n\nexport const getMediaType = (input: string) => {\n  if (!input) {\n    return '';\n  }\n  if (\n    input.startsWith('https://www.youtube.com/') ||\n    input.startsWith('https://youtu.be/')\n  ) {\n    return 'youtube';\n  }\n  return 'video';\n};\n\nexport async function testAutoplay() {\n  const result = await canAutoplay.video();\n  return result.result;\n}\n\nexport function decodeEntities(input: string) {\n  const doc = new DOMParser().parseFromString(input, 'text/html');\n  return doc.documentElement.textContent;\n}\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nexport function debounce(func: Function, wait: number, immediate?: boolean) {\n  var timeout: any;\n\n  // This is the function that is actually executed when\n  // the DOM event is triggered.\n  return function executedFunction() {\n    // Store the context of this and any\n    // parameters passed to executedFunction\n    //@ts-ignore\n    var context = this;\n    var args = arguments;\n\n    // The function to be called after\n    // the debounce time has elapsed\n    var later = function () {\n      // null timeout to indicate the debounce ended\n      timeout = null;\n\n      // Call function now if you did not on the leading end\n      if (!immediate) func.apply(context, args);\n    };\n\n    // Determine if you should call the function\n    // on the leading or trail end\n    var callNow = immediate && !timeout;\n\n    // This will reset the waiting every function execution.\n    // This is the step that prevents the function from\n    // being executed because it will never reach the\n    // inside of the previous setTimeout\n    clearTimeout(timeout);\n\n    // Restart the debounce waiting period.\n    // setTimeout returns a truthy value (it differs in web vs node)\n    timeout = setTimeout(later, wait);\n\n    // Call immediately if you're dong a leading\n    // end execution\n    if (callNow) func.apply(context, args);\n  };\n}\n\nexport const getMediaPathForList = (list: string) => {\n  if (list.startsWith('https://gitlab.com/')) {\n    const match = list.match(\n      /https:\\/\\/gitlab.com\\/api\\/v4\\/projects\\/(.*)\\/repository\\/tree/\n    );\n    const name = match && match[1];\n    const decoded = decodeURIComponent(name || '');\n    return `https://glcdn.githack.com/${decoded}/-/raw/master/`;\n  }\n  // Nginx servers use the same mediapath as list, add trailing /\n  return list + '/';\n};\n\nexport const getDefaultPicture = (name: string, background = 'a0a0a0') => {\n  return `https://ui-avatars.com/api/?name=${name}&background=${background}&size=256&color=ffffff`;\n};\n\nexport const isMobile = () => {\n  return window.screen.width <= 600;\n};\n\nexport function shuffle(array: any[]) {\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * i);\n    const temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n}\n\nexport const iceServers = () => [\n  { urls: 'stun:stun.l.google.com:19302' },\n  // { urls: 'turn:13.66.162.252:3478', username: 'username', credential: 'password' },\n  {\n    urls: 'turn:212.47.251.184:3478',\n    username: 'username',\n    credential: 'password',\n  },\n  {\n    urls: 'turn:numb.viagenie.ca',\n    credential: 'watchparty',\n    username: 'howardzchung@gmail.com',\n  },\n];\n\nexport const serverPath =\n  process.env.REACT_APP_SERVER_HOST ||\n  `${window.location.protocol}//${window.location.hostname}${\n    process.env.NODE_ENV === 'production' ? '' : ':8080'\n  }`;\n\nexport async function getMediaPathResults(\n  mediaPath: string,\n  query: string\n): Promise<SearchResult[]> {\n  // Get media list if provided\n  const response = await window.fetch(mediaPath);\n  let results: SearchResult[] = [];\n  if (mediaPath.includes('s3.')) {\n    // S3-style buckets return data in XML\n    const xml = await response.text();\n    const data = await parseStringPromise(xml);\n    let filtered = data.ListBucketResult.Contents.filter(\n      (file: any) => !file.Key[0].includes('/')\n    );\n    results = filtered.map((file: any) => ({\n      url: mediaPath + '/' + file.Key[0],\n      name: mediaPath + '/' + file.Key[0],\n    }));\n  } else {\n    const data = await response.json();\n    results = data\n      .filter((file: any) => file.type === 'file')\n      .map((file: any) => ({\n        url: file.url || getMediaPathForList(mediaPath) + file.name,\n        name: getMediaPathForList(mediaPath) + file.name,\n      }));\n  }\n  results = results.filter((option: SearchResult) =>\n    option.name.toLowerCase().includes(query.toLowerCase())\n  );\n  return results;\n}\n\nexport async function getStreamPathResults(\n  streamPath: string,\n  query: string\n): Promise<SearchResult[]> {\n  const response = await window.fetch(\n    streamPath + '/search?q=' + encodeURIComponent(query)\n  );\n  const data = await response.json();\n  return data;\n}\n\nexport async function getYouTubeResults(\n  query: string\n): Promise<SearchResult[]> {\n  const response = await window.fetch(\n    serverPath + '/youtube?q=' + encodeURIComponent(query)\n  );\n  const data = await response.json();\n  return data;\n}\n\nexport async function openFileSelector(accept?: string) {\n  return new Promise<FileList | null>((resolve) => {\n    // Create an input element\n    const inputElement = document.createElement('input');\n\n    // Set its type to file\n    inputElement.type = 'file';\n\n    // Set accept to the file types you want the user to select.\n    // Include both the file extension and the mime type\n    if (accept) {\n      inputElement.accept = accept;\n    }\n\n    // set onchange event to call callback when user has selected file\n    inputElement.addEventListener('change', () => {\n      resolve(inputElement.files);\n    });\n\n    // dispatch a click event to open the file dialog\n    inputElement.dispatchEvent(new MouseEvent('click'));\n  });\n}\n\nexport function getAndSaveClientId() {\n  let clientId = window.localStorage.getItem('watchparty-clientid');\n  if (!clientId) {\n    // Generate a new clientID and save it\n    clientId = uuidv4();\n    window.localStorage.setItem('watchparty-clientid', clientId);\n  }\n  return clientId;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__1ukFy\",\"hero\":\"Home_hero__1zBE5\",\"green\":\"Home_green__3PMJt\",\"heroInner\":\"Home_heroInner__3w7l9\",\"heroText\":\"Home_heroText__21xIv\",\"subText\":\"Home_subText__363Kx\",\"featureSection\":\"Home_featureSection__1E5B_\",\"featureTitle\":\"Home_featureTitle__37GMX\",\"featureText\":\"Home_featureText__2VOwD\"};","function capFirst(string: string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nfunction getRandomInt(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nexport function generateName() {\n  var name1 = [\n    'abandoned',\n    'able',\n    'absolute',\n    'adorable',\n    'adventurous',\n    'academic',\n    'acceptable',\n    'acclaimed',\n    'accomplished',\n    'accurate',\n    'aching',\n    'acidic',\n    'acrobatic',\n    'active',\n    'actual',\n    'adept',\n    'admirable',\n    'admired',\n    'adolescent',\n    'adorable',\n    'adored',\n    'advanced',\n    'afraid',\n    'affectionate',\n    'aged',\n    'aggravating',\n    'aggressive',\n    'agile',\n    'agitated',\n    'agonizing',\n    'agreeable',\n    'ajar',\n    'alarmed',\n    'alarming',\n    'alert',\n    'alienated',\n    'alive',\n    'all',\n    'altruistic',\n    'amazing',\n    'ambitious',\n    'ample',\n    'amused',\n    'amusing',\n    'anchored',\n    'ancient',\n    'angelic',\n    'angry',\n    'anguished',\n    'animated',\n    'annual',\n    'another',\n    'antique',\n    'anxious',\n    'any',\n    'apprehensive',\n    'appropriate',\n    'apt',\n    'arctic',\n    'arid',\n    'aromatic',\n    'artistic',\n    'ashamed',\n    'assured',\n    'astonishing',\n    'athletic',\n    'attached',\n    'attentive',\n    'attractive',\n    'austere',\n    'authentic',\n    'authorized',\n    'automatic',\n    'avaricious',\n    'average',\n    'aware',\n    'awesome',\n    'awful',\n    'awkward',\n    'babyish',\n    'bad',\n    'back',\n    'baggy',\n    'bare',\n    'barren',\n    'basic',\n    'beautiful',\n    'belated',\n    'beloved',\n    'beneficial',\n    'better',\n    'best',\n    'bewitched',\n    'big',\n    'big-hearted',\n    'biodegradable',\n    'bite-sized',\n    'bitter',\n    'black',\n    'black-and-white',\n    'bland',\n    'blank',\n    'blaring',\n    'bleak',\n    'blind',\n    'blissful',\n    'blond',\n    'blue',\n    'blushing',\n    'bogus',\n    'boiling',\n    'bold',\n    'bony',\n    'boring',\n    'bossy',\n    'both',\n    'bouncy',\n    'bountiful',\n    'bowed',\n    'brave',\n    'breakable',\n    'brief',\n    'bright',\n    'brilliant',\n    'brisk',\n    'broken',\n    'bronze',\n    'brown',\n    'bruised',\n    'bubbly',\n    'bulky',\n    'bumpy',\n    'buoyant',\n    'burdensome',\n    'burly',\n    'bustling',\n    'busy',\n    'buttery',\n    'buzzing',\n    'calculating',\n    'calm',\n    'candid',\n    'canine',\n    'capital',\n    'carefree',\n    'careful',\n    'careless',\n    'caring',\n    'cautious',\n    'cavernous',\n    'celebrated',\n    'charming',\n    'cheap',\n    'cheerful',\n    'cheery',\n    'chief',\n    'chilly',\n    'chubby',\n    'circular',\n    'classic',\n    'clean',\n    'clear',\n    'clear-cut',\n    'clever',\n    'close',\n    'closed',\n    'cloudy',\n    'clueless',\n    'clumsy',\n    'cluttered',\n    'coarse',\n    'cold',\n    'colorful',\n    'colorless',\n    'colossal',\n    'comfortable',\n    'common',\n    'compassionate',\n    'competent',\n    'complete',\n    'complex',\n    'complicated',\n    'composed',\n    'concerned',\n    'concrete',\n    'confused',\n    'conscious',\n    'considerate',\n    'constant',\n    'content',\n    'conventional',\n    'cooked',\n    'cool',\n    'cooperative',\n    'coordinated',\n    'corny',\n    'corrupt',\n    'costly',\n    'courageous',\n    'courteous',\n    'crafty',\n    'crazy',\n    'creamy',\n    'creative',\n    'creepy',\n    'criminal',\n    'crisp',\n    'critical',\n    'crooked',\n    'crowded',\n    'cruel',\n    'crushing',\n    'cuddly',\n    'cultivated',\n    'cultured',\n    'cumbersome',\n    'curly',\n    'curvy',\n    'cute',\n    'cylindrical',\n    'damaged',\n    'damp',\n    'dangerous',\n    'dapper',\n    'daring',\n    'darling',\n    'dark',\n    'dazzling',\n    'dead',\n    'deadly',\n    'deafening',\n    'dear',\n    'dearest',\n    'decent',\n    'decimal',\n    'decisive',\n    'deep',\n    'defenseless',\n    'defensive',\n    'defiant',\n    'deficient',\n    'definite',\n    'definitive',\n    'delayed',\n    'delectable',\n    'delicious',\n    'delightful',\n    'delirious',\n    'demanding',\n    'dense',\n    'dental',\n    'dependable',\n    'dependent',\n    'descriptive',\n    'deserted',\n    'detailed',\n    'determined',\n    'devoted',\n    'different',\n    'difficult',\n    'digital',\n    'diligent',\n    'dim',\n    'dimpled',\n    'dimwitted',\n    'direct',\n    'disastrous',\n    'discrete',\n    'disfigured',\n    'disgusting',\n    'disloyal',\n    'dismal',\n    'distant',\n    'downright',\n    'dreary',\n    'dirty',\n    'disguised',\n    'dishonest',\n    'dismal',\n    'distant',\n    'distinct',\n    'distorted',\n    'dizzy',\n    'dopey',\n    'doting',\n    'double',\n    'downright',\n    'drab',\n    'drafty',\n    'dramatic',\n    'dreary',\n    'droopy',\n    'dry',\n    'dual',\n    'dull',\n    'dutiful',\n    'each',\n    'eager',\n    'earnest',\n    'early',\n    'easy',\n    'easy-going',\n    'ecstatic',\n    'edible',\n    'educated',\n    'elaborate',\n    'elastic',\n    'elated',\n    'elderly',\n    'electric',\n    'elegant',\n    'elementary',\n    'elliptical',\n    'embarrassed',\n    'embellished',\n    'eminent',\n    'emotional',\n    'empty',\n    'enchanted',\n    'enchanting',\n    'energetic',\n    'enlightened',\n    'enormous',\n    'enraged',\n    'entire',\n    'envious',\n    'equal',\n    'equatorial',\n    'essential',\n    'esteemed',\n    'ethical',\n    'euphoric',\n    'even',\n    'evergreen',\n    'everlasting',\n    'every',\n    'evil',\n    'exalted',\n    'excellent',\n    'exemplary',\n    'exhausted',\n    'excitable',\n    'excited',\n    'exciting',\n    'exotic',\n    'expensive',\n    'experienced',\n    'expert',\n    'extraneous',\n    'extroverted',\n    'extra-large',\n    'extra-small',\n    'fabulous',\n    'failing',\n    'faint',\n    'fair',\n    'faithful',\n    'fake',\n    'false',\n    'familiar',\n    'famous',\n    'fancy',\n    'fantastic',\n    'far',\n    'faraway',\n    'far-flung',\n    'far-off',\n    'fast',\n    'fat',\n    'fatal',\n    'fatherly',\n    'favorable',\n    'favorite',\n    'fearful',\n    'fearless',\n    'feisty',\n    'feline',\n    'female',\n    'feminine',\n    'few',\n    'fickle',\n    'filthy',\n    'fine',\n    'finished',\n    'firm',\n    'first',\n    'firsthand',\n    'fitting',\n    'fixed',\n    'flaky',\n    'flamboyant',\n    'flashy',\n    'flat',\n    'flawed',\n    'flawless',\n    'flickering',\n    'flimsy',\n    'flippant',\n    'flowery',\n    'fluffy',\n    'fluid',\n    'flustered',\n    'focused',\n    'fond',\n    'foolhardy',\n    'foolish',\n    'forceful',\n    'forked',\n    'formal',\n    'forsaken',\n    'forthright',\n    'fortunate',\n    'fragrant',\n    'frail',\n    'frank',\n    'frayed',\n    'free',\n    'French',\n    'fresh',\n    'frequent',\n    'friendly',\n    'frightened',\n    'frightening',\n    'frigid',\n    'frilly',\n    'frizzy',\n    'frivolous',\n    'front',\n    'frosty',\n    'frozen',\n    'frugal',\n    'fruitful',\n    'full',\n    'fumbling',\n    'functional',\n    'funny',\n    'fussy',\n    'fuzzy',\n    'gargantuan',\n    'gaseous',\n    'general',\n    'generous',\n    'gentle',\n    'genuine',\n    'giant',\n    'giddy',\n    'gigantic',\n    'gifted',\n    'giving',\n    'glamorous',\n    'glaring',\n    'glass',\n    'gleaming',\n    'gleeful',\n    'glistening',\n    'glittering',\n    'gloomy',\n    'glorious',\n    'glossy',\n    'glum',\n    'golden',\n    'good',\n    'good-natured',\n    'gorgeous',\n    'graceful',\n    'gracious',\n    'grand',\n    'grandiose',\n    'granular',\n    'grateful',\n    'grave',\n    'gray',\n    'great',\n    'greedy',\n    'green',\n    'gregarious',\n    'grim',\n    'grimy',\n    'gripping',\n    'grizzled',\n    'gross',\n    'grotesque',\n    'grouchy',\n    'grounded',\n    'growing',\n    'growling',\n    'grown',\n    'grubby',\n    'gruesome',\n    'grumpy',\n    'guilty',\n    'gullible',\n    'gummy',\n    'hairy',\n    'half',\n    'handmade',\n    'handsome',\n    'handy',\n    'happy',\n    'happy-go-lucky',\n    'hard',\n    'hard-to-find',\n    'harmful',\n    'harmless',\n    'harmonious',\n    'harsh',\n    'hasty',\n    'hateful',\n    'haunting',\n    'healthy',\n    'heartfelt',\n    'hearty',\n    'heavenly',\n    'heavy',\n    'hefty',\n    'helpful',\n    'helpless',\n    'hidden',\n    'hideous',\n    'high',\n    'high-level',\n    'hilarious',\n    'hoarse',\n    'hollow',\n    'homely',\n    'honest',\n    'honorable',\n    'honored',\n    'hopeful',\n    'horrible',\n    'hospitable',\n    'hot',\n    'huge',\n    'humble',\n    'humiliating',\n    'humming',\n    'humongous',\n    'hungry',\n    'hurtful',\n    'husky',\n    'icky',\n    'icy',\n    'ideal',\n    'idealistic',\n    'identical',\n    'idle',\n    'idiotic',\n    'idolized',\n    'ignorant',\n    'ill',\n    'illegal',\n    'ill-fated',\n    'ill-informed',\n    'illiterate',\n    'illustrious',\n    'imaginary',\n    'imaginative',\n    'immaculate',\n    'immaterial',\n    'immediate',\n    'immense',\n    'impassioned',\n    'impeccable',\n    'impartial',\n    'imperfect',\n    'imperturbable',\n    'impish',\n    'impolite',\n    'important',\n    'impossible',\n    'impractical',\n    'impressionable',\n    'impressive',\n    'improbable',\n    'impure',\n    'inborn',\n    'incomparable',\n    'incompatible',\n    'incomplete',\n    'inconsequential',\n    'incredible',\n    'indelible',\n    'inexperienced',\n    'indolent',\n    'infamous',\n    'infantile',\n    'infatuated',\n    'inferior',\n    'infinite',\n    'informal',\n    'innocent',\n    'insecure',\n    'insidious',\n    'insignificant',\n    'insistent',\n    'instructive',\n    'insubstantial',\n    'intelligent',\n    'intent',\n    'intentional',\n    'interesting',\n    'internal',\n    'international',\n    'intrepid',\n    'ironclad',\n    'irresponsible',\n    'irritating',\n    'itchy',\n    'jaded',\n    'jagged',\n    'jam-packed',\n    'jaunty',\n    'jealous',\n    'jittery',\n    'joint',\n    'jolly',\n    'jovial',\n    'joyful',\n    'joyous',\n    'jubilant',\n    'judicious',\n    'juicy',\n    'jumbo',\n    'junior',\n    'jumpy',\n    'juvenile',\n    'kaleidoscopic',\n    'keen',\n    'key',\n    'kind',\n    'kindhearted',\n    'kindly',\n    'klutzy',\n    'knobby',\n    'knotty',\n    'knowledgeable',\n    'knowing',\n    'known',\n    'kooky',\n    'kosher',\n    'lame',\n    'lanky',\n    'large',\n    'last',\n    'lasting',\n    'late',\n    'lavish',\n    'lawful',\n    'lazy',\n    'leading',\n    'lean',\n    'leafy',\n    'left',\n    'legal',\n    'legitimate',\n    'light',\n    'lighthearted',\n    'likable',\n    'likely',\n    'limited',\n    'limp',\n    'limping',\n    'linear',\n    'lined',\n    'liquid',\n    'little',\n    'live',\n    'lively',\n    'livid',\n    'loathsome',\n    'lone',\n    'lonely',\n    'long',\n    'long-term',\n    'loose',\n    'lopsided',\n    'lost',\n    'loud',\n    'lovable',\n    'lovely',\n    'loving',\n    'low',\n    'loyal',\n    'lucky',\n    'lumbering',\n    'luminous',\n    'lumpy',\n    'lustrous',\n    'luxurious',\n    'mad',\n    'made-up',\n    'magnificent',\n    'majestic',\n    'major',\n    'male',\n    'mammoth',\n    'married',\n    'marvelous',\n    'masculine',\n    'massive',\n    'mature',\n    'meager',\n    'mealy',\n    'mean',\n    'measly',\n    'meaty',\n    'medical',\n    'mediocre',\n    'medium',\n    'meek',\n    'mellow',\n    'melodic',\n    'memorable',\n    'menacing',\n    'merry',\n    'messy',\n    'metallic',\n    'mild',\n    'milky',\n    'mindless',\n    'miniature',\n    'minor',\n    'minty',\n    'miserable',\n    'miserly',\n    'misguided',\n    'misty',\n    'mixed',\n    'modern',\n    'modest',\n    'moist',\n    'monstrous',\n    'monthly',\n    'monumental',\n    'moral',\n    'mortified',\n    'motherly',\n    'motionless',\n    'mountainous',\n    'muddy',\n    'muffled',\n    'multicolored',\n    'mundane',\n    'murky',\n    'mushy',\n    'musty',\n    'muted',\n    'mysterious',\n    'naive',\n    'narrow',\n    'nasty',\n    'natural',\n    'naughty',\n    'nautical',\n    'near',\n    'neat',\n    'necessary',\n    'needy',\n    'negative',\n    'neglected',\n    'negligible',\n    'neighboring',\n    'nervous',\n    'new',\n    'next',\n    'nice',\n    'nifty',\n    'nimble',\n    'nippy',\n    'nocturnal',\n    'noisy',\n    'nonstop',\n    'normal',\n    'notable',\n    'noted',\n    'noteworthy',\n    'novel',\n    'noxious',\n    'numb',\n    'nutritious',\n    'nutty',\n    'obedient',\n    'obese',\n    'oblong',\n    'oily',\n    'oblong',\n    'obvious',\n    'occasional',\n    'odd',\n    'oddball',\n    'offbeat',\n    'offensive',\n    'official',\n    'old',\n    'old-fashioned',\n    'only',\n    'open',\n    'optimal',\n    'optimistic',\n    'opulent',\n    'orange',\n    'orderly',\n    'organic',\n    'ornate',\n    'ornery',\n    'ordinary',\n    'original',\n    'other',\n    'our',\n    'outlying',\n    'outgoing',\n    'outlandish',\n    'outrageous',\n    'outstanding',\n    'oval',\n    'overcooked',\n    'overdue',\n    'overjoyed',\n    'overlooked',\n    'palatable',\n    'pale',\n    'paltry',\n    'parallel',\n    'parched',\n    'partial',\n    'passionate',\n    'past',\n    'pastel',\n    'peaceful',\n    'peppery',\n    'perfect',\n    'perfumed',\n    'periodic',\n    'perky',\n    'personal',\n    'pertinent',\n    'pesky',\n    'pessimistic',\n    'petty',\n    'phony',\n    'physical',\n    'piercing',\n    'pink',\n    'pitiful',\n    'plain',\n    'plaintive',\n    'plastic',\n    'playful',\n    'pleasant',\n    'pleased',\n    'pleasing',\n    'plump',\n    'plush',\n    'polished',\n    'polite',\n    'political',\n    'pointed',\n    'pointless',\n    'poised',\n    'poor',\n    'popular',\n    'portly',\n    'posh',\n    'positive',\n    'possible',\n    'potable',\n    'powerful',\n    'powerless',\n    'practical',\n    'precious',\n    'present',\n    'prestigious',\n    'pretty',\n    'precious',\n    'previous',\n    'pricey',\n    'prickly',\n    'primary',\n    'prime',\n    'pristine',\n    'private',\n    'prize',\n    'probable',\n    'productive',\n    'profitable',\n    'profuse',\n    'proper',\n    'proud',\n    'prudent',\n    'punctual',\n    'pungent',\n    'puny',\n    'pure',\n    'purple',\n    'pushy',\n    'putrid',\n    'puzzled',\n    'puzzling',\n    'quaint',\n    'qualified',\n    'quarrelsome',\n    'quarterly',\n    'queasy',\n    'querulous',\n    'questionable',\n    'quick',\n    'quick-witted',\n    'quiet',\n    'quintessential',\n    'quirky',\n    'quixotic',\n    'quizzical',\n    'radiant',\n    'ragged',\n    'rapid',\n    'rare',\n    'rash',\n    'raw',\n    'recent',\n    'reckless',\n    'rectangular',\n    'ready',\n    'real',\n    'realistic',\n    'reasonable',\n    'red',\n    'reflecting',\n    'regal',\n    'regular',\n    'reliable',\n    'relieved',\n    'remarkable',\n    'remorseful',\n    'remote',\n    'repentant',\n    'required',\n    'respectful',\n    'responsible',\n    'repulsive',\n    'revolving',\n    'rewarding',\n    'rich',\n    'rigid',\n    'right',\n    'ringed',\n    'ripe',\n    'roasted',\n    'robust',\n    'rosy',\n    'rotating',\n    'rotten',\n    'rough',\n    'round',\n    'rowdy',\n    'royal',\n    'rubbery',\n    'rundown',\n    'ruddy',\n    'rude',\n    'runny',\n    'rural',\n    'rusty',\n    'sad',\n    'safe',\n    'salty',\n    'same',\n    'sandy',\n    'sane',\n    'sarcastic',\n    'sardonic',\n    'satisfied',\n    'scaly',\n    'scarce',\n    'scared',\n    'scary',\n    'scented',\n    'scholarly',\n    'scientific',\n    'scornful',\n    'scratchy',\n    'scrawny',\n    'second',\n    'secondary',\n    'second-hand',\n    'secret',\n    'self-assured',\n    'self-reliant',\n    'selfish',\n    'sentimental',\n    'separate',\n    'serene',\n    'serious',\n    'serpentine',\n    'several',\n    'severe',\n    'shabby',\n    'shadowy',\n    'shady',\n    'shallow',\n    'shameful',\n    'shameless',\n    'sharp',\n    'shimmering',\n    'shiny',\n    'shocked',\n    'shocking',\n    'shoddy',\n    'short',\n    'short-term',\n    'showy',\n    'shrill',\n    'shy',\n    'sick',\n    'silent',\n    'silky',\n    'silly',\n    'silver',\n    'similar',\n    'simple',\n    'simplistic',\n    'sinful',\n    'single',\n    'sizzling',\n    'skeletal',\n    'skinny',\n    'sleepy',\n    'slight',\n    'slim',\n    'slimy',\n    'slippery',\n    'slow',\n    'slushy',\n    'small',\n    'smart',\n    'smoggy',\n    'smooth',\n    'smug',\n    'snappy',\n    'snarling',\n    'sneaky',\n    'sniveling',\n    'snoopy',\n    'sociable',\n    'soft',\n    'soggy',\n    'solid',\n    'somber',\n    'some',\n    'spherical',\n    'sophisticated',\n    'sore',\n    'sorrowful',\n    'soulful',\n    'soupy',\n    'sour',\n    'Spanish',\n    'sparkling',\n    'sparse',\n    'specific',\n    'spectacular',\n    'speedy',\n    'spicy',\n    'spiffy',\n    'spirited',\n    'spiteful',\n    'splendid',\n    'spotless',\n    'spotted',\n    'spry',\n    'square',\n    'squeaky',\n    'squiggly',\n    'stable',\n    'staid',\n    'stained',\n    'stale',\n    'standard',\n    'starchy',\n    'stark',\n    'starry',\n    'steep',\n    'sticky',\n    'stiff',\n    'stimulating',\n    'stingy',\n    'stormy',\n    'straight',\n    'strange',\n    'steel',\n    'strict',\n    'strident',\n    'striking',\n    'striped',\n    'strong',\n    'studious',\n    'stunning',\n    'stupendous',\n    'stupid',\n    'sturdy',\n    'stylish',\n    'subdued',\n    'submissive',\n    'substantial',\n    'subtle',\n    'suburban',\n    'sudden',\n    'sugary',\n    'sunny',\n    'super',\n    'superb',\n    'superficial',\n    'superior',\n    'supportive',\n    'sure-footed',\n    'surprised',\n    'suspicious',\n    'svelte',\n    'sweaty',\n    'sweet',\n    'sweltering',\n    'swift',\n    'sympathetic',\n    'tall',\n    'talkative',\n    'tame',\n    'tan',\n    'tangible',\n    'tart',\n    'tasty',\n    'tattered',\n    'taut',\n    'tedious',\n    'teeming',\n    'tempting',\n    'tender',\n    'tense',\n    'tepid',\n    'terrible',\n    'terrific',\n    'testy',\n    'thankful',\n    'that',\n    'these',\n    'thick',\n    'thin',\n    'third',\n    'thirsty',\n    'this',\n    'thorough',\n    'thorny',\n    'those',\n    'thoughtful',\n    'threadbare',\n    'thrifty',\n    'thunderous',\n    'tidy',\n    'tight',\n    'timely',\n    'tinted',\n    'tiny',\n    'tired',\n    'torn',\n    'total',\n    'tough',\n    'traumatic',\n    'treasured',\n    'tremendous',\n    'tragic',\n    'trained',\n    'tremendous',\n    'triangular',\n    'tricky',\n    'trifling',\n    'trim',\n    'trivial',\n    'troubled',\n    'true',\n    'trusting',\n    'trustworthy',\n    'trusty',\n    'truthful',\n    'tubby',\n    'turbulent',\n    'twin',\n    'ugly',\n    'ultimate',\n    'unacceptable',\n    'unaware',\n    'uncomfortable',\n    'uncommon',\n    'unconscious',\n    'understated',\n    'unequaled',\n    'uneven',\n    'unfinished',\n    'unfit',\n    'unfolded',\n    'unfortunate',\n    'unhappy',\n    'unhealthy',\n    'uniform',\n    'unimportant',\n    'unique',\n    'united',\n    'unkempt',\n    'unknown',\n    'unlawful',\n    'unlined',\n    'unlucky',\n    'unnatural',\n    'unpleasant',\n    'unrealistic',\n    'unripe',\n    'unruly',\n    'unselfish',\n    'unsightly',\n    'unsteady',\n    'unsung',\n    'untidy',\n    'untimely',\n    'untried',\n    'untrue',\n    'unused',\n    'unusual',\n    'unwelcome',\n    'unwieldy',\n    'unwilling',\n    'unwitting',\n    'unwritten',\n    'upbeat',\n    'upright',\n    'upset',\n    'urban',\n    'usable',\n    'used',\n    'useful',\n    'useless',\n    'utilized',\n    'utter',\n    'vacant',\n    'vague',\n    'vain',\n    'valid',\n    'valuable',\n    'vapid',\n    'variable',\n    'vast',\n    'velvety',\n    'venerated',\n    'vengeful',\n    'verifiable',\n    'vibrant',\n    'vicious',\n    'victorious',\n    'vigilant',\n    'vigorous',\n    'villainous',\n    'violet',\n    'violent',\n    'virtual',\n    'virtuous',\n    'visible',\n    'vital',\n    'vivacious',\n    'vivid',\n    'voluminous',\n    'wan',\n    'warlike',\n    'warm',\n    'warmhearted',\n    'warped',\n    'wary',\n    'wasteful',\n    'watchful',\n    'waterlogged',\n    'watery',\n    'wavy',\n    'wealthy',\n    'weak',\n    'weary',\n    'webbed',\n    'wee',\n    'weekly',\n    'weepy',\n    'weighty',\n    'weird',\n    'welcome',\n    'well-documented',\n    'well-groomed',\n    'well-informed',\n    'well-lit',\n    'well-made',\n    'well-off',\n    'well-to-do',\n    'well-worn',\n    'wet',\n    'which',\n    'whimsical',\n    'whirlwind',\n    'whispered',\n    'white',\n    'whole',\n    'whopping',\n    'wicked',\n    'wide',\n    'wide-eyed',\n    'wiggly',\n    'wild',\n    'willing',\n    'wilted',\n    'winding',\n    'windy',\n    'winged',\n    'wiry',\n    'wise',\n    'witty',\n    'wobbly',\n    'woeful',\n    'wonderful',\n    'wooden',\n    'woozy',\n    'wordy',\n    'worldly',\n    'worn',\n    'worried',\n    'worrisome',\n    'worse',\n    'worst',\n    'worthless',\n    'worthwhile',\n    'worthy',\n    'wrathful',\n    'wretched',\n    'writhing',\n    'wrong',\n    'wry',\n    'yawning',\n    'yearly',\n    'yellow',\n    'yellowish',\n    'young',\n    'youthful',\n    'yummy',\n    'zany',\n    'zealous',\n    'zesty',\n    'zigzag',\n    'rocky',\n  ];\n\n  var name2 = [\n    'people',\n    'history',\n    'way',\n    'art',\n    'world',\n    'information',\n    'map',\n    'family',\n    'government',\n    'health',\n    'system',\n    'computer',\n    'meat',\n    'year',\n    'thanks',\n    'music',\n    'person',\n    'reading',\n    'method',\n    'data',\n    'food',\n    'understanding',\n    'theory',\n    'law',\n    'bird',\n    'literature',\n    'problem',\n    'software',\n    'control',\n    'knowledge',\n    'power',\n    'ability',\n    'economics',\n    'love',\n    'internet',\n    'television',\n    'science',\n    'library',\n    'nature',\n    'fact',\n    'product',\n    'idea',\n    'temperature',\n    'investment',\n    'area',\n    'society',\n    'activity',\n    'story',\n    'industry',\n    'media',\n    'thing',\n    'oven',\n    'community',\n    'definition',\n    'safety',\n    'quality',\n    'development',\n    'language',\n    'management',\n    'player',\n    'variety',\n    'video',\n    'week',\n    'security',\n    'country',\n    'exam',\n    'movie',\n    'organization',\n    'equipment',\n    'physics',\n    'analysis',\n    'policy',\n    'series',\n    'thought',\n    'basis',\n    'boyfriend',\n    'direction',\n    'strategy',\n    'technology',\n    'army',\n    'camera',\n    'freedom',\n    'paper',\n    'environment',\n    'child',\n    'instance',\n    'month',\n    'truth',\n    'marketing',\n    'university',\n    'writing',\n    'article',\n    'department',\n    'difference',\n    'goal',\n    'news',\n    'audience',\n    'fishing',\n    'growth',\n    'income',\n    'marriage',\n    'user',\n    'combination',\n    'failure',\n    'meaning',\n    'medicine',\n    'philosophy',\n    'teacher',\n    'communication',\n    'night',\n    'chemistry',\n    'disease',\n    'disk',\n    'energy',\n    'nation',\n    'road',\n    'role',\n    'soup',\n    'advertising',\n    'location',\n    'success',\n    'addition',\n    'apartment',\n    'education',\n    'math',\n    'moment',\n    'painting',\n    'politics',\n    'attention',\n    'decision',\n    'event',\n    'property',\n    'shopping',\n    'student',\n    'wood',\n    'competition',\n    'distribution',\n    'entertainment',\n    'office',\n    'population',\n    'president',\n    'unit',\n    'category',\n    'cigarette',\n    'context',\n    'introduction',\n    'opportunity',\n    'performance',\n    'driver',\n    'flight',\n    'length',\n    'magazine',\n    'newspaper',\n    'relationship',\n    'teaching',\n    'cell',\n    'dealer',\n    'debate',\n    'finding',\n    'lake',\n    'member',\n    'message',\n    'phone',\n    'scene',\n    'appearance',\n    'association',\n    'concept',\n    'customer',\n    'death',\n    'discussion',\n    'housing',\n    'inflation',\n    'insurance',\n    'mood',\n    'woman',\n    'advice',\n    'blood',\n    'effort',\n    'expression',\n    'importance',\n    'opinion',\n    'payment',\n    'reality',\n    'responsibility',\n    'situation',\n    'skill',\n    'statement',\n    'wealth',\n    'application',\n    'city',\n    'county',\n    'depth',\n    'estate',\n    'foundation',\n    'grandmother',\n    'heart',\n    'perspective',\n    'photo',\n    'recipe',\n    'studio',\n    'topic',\n    'collection',\n    'depression',\n    'imagination',\n    'passion',\n    'percentage',\n    'resource',\n    'setting',\n    'ad',\n    'agency',\n    'college',\n    'connection',\n    'criticism',\n    'debt',\n    'description',\n    'memory',\n    'patience',\n    'secretary',\n    'solution',\n    'administration',\n    'aspect',\n    'attitude',\n    'director',\n    'personality',\n    'psychology',\n    'recommendation',\n    'response',\n    'selection',\n    'storage',\n    'version',\n    'alcohol',\n    'argument',\n    'complaint',\n    'contract',\n    'emphasis',\n    'highway',\n    'loss',\n    'membership',\n    'possession',\n    'preparation',\n    'steak',\n    'union',\n    'agreement',\n    'cancer',\n    'currency',\n    'employment',\n    'engineering',\n    'entry',\n    'interaction',\n    'limit',\n    'mixture',\n    'preference',\n    'region',\n    'republic',\n    'seat',\n    'tradition',\n    'virus',\n    'actor',\n    'classroom',\n    'delivery',\n    'device',\n    'difficulty',\n    'drama',\n    'election',\n    'engine',\n    'football',\n    'guidance',\n    'hotel',\n    'match',\n    'owner',\n    'priority',\n    'protection',\n    'suggestion',\n    'tension',\n    'variation',\n    'anxiety',\n    'atmosphere',\n    'awareness',\n    'bread',\n    'climate',\n    'comparison',\n    'confusion',\n    'construction',\n    'elevator',\n    'emotion',\n    'employee',\n    'employer',\n    'guest',\n    'height',\n    'leadership',\n    'mall',\n    'manager',\n    'operation',\n    'recording',\n    'respect',\n    'sample',\n    'transportation',\n    'boring',\n    'charity',\n    'cousin',\n    'disaster',\n    'editor',\n    'efficiency',\n    'excitement',\n    'extent',\n    'feedback',\n    'guitar',\n    'homework',\n    'leader',\n    'mom',\n    'outcome',\n    'permission',\n    'presentation',\n    'promotion',\n    'reflection',\n    'refrigerator',\n    'resolution',\n    'revenue',\n    'session',\n    'singer',\n    'tennis',\n    'basket',\n    'bonus',\n    'cabinet',\n    'childhood',\n    'church',\n    'clothes',\n    'coffee',\n    'dinner',\n    'drawing',\n    'hair',\n    'hearing',\n    'initiative',\n    'judgment',\n    'lab',\n    'measurement',\n    'mode',\n    'mud',\n    'orange',\n    'poetry',\n    'police',\n    'possibility',\n    'procedure',\n    'queen',\n    'ratio',\n    'relation',\n    'restaurant',\n    'satisfaction',\n    'sector',\n    'signature',\n    'significance',\n    'song',\n    'tooth',\n    'town',\n    'vehicle',\n    'volume',\n    'wife',\n    'accident',\n    'airport',\n    'appointment',\n    'arrival',\n    'assumption',\n    'baseball',\n    'chapter',\n    'committee',\n    'conversation',\n    'database',\n    'enthusiasm',\n    'error',\n    'explanation',\n    'farmer',\n    'gate',\n    'girl',\n    'hall',\n    'historian',\n    'hospital',\n    'injury',\n    'instruction',\n    'maintenance',\n    'manufacturer',\n    'meal',\n    'perception',\n    'pie',\n    'poem',\n    'presence',\n    'proposal',\n    'reception',\n    'replacement',\n    'revolution',\n    'river',\n    'son',\n    'speech',\n    'tea',\n    'village',\n    'warning',\n    'winner',\n    'worker',\n    'writer',\n    'assistance',\n    'breath',\n    'buyer',\n    'chest',\n    'chocolate',\n    'conclusion',\n    'contribution',\n    'cookie',\n    'courage',\n    'desk',\n    'drawer',\n    'establishment',\n    'examination',\n    'garbage',\n    'grocery',\n    'honey',\n    'impression',\n    'improvement',\n    'independence',\n    'insect',\n    'inspection',\n    'inspector',\n    'king',\n    'ladder',\n    'menu',\n    'penalty',\n    'piano',\n    'potato',\n    'profession',\n    'professor',\n    'quantity',\n    'reaction',\n    'requirement',\n    'salad',\n    'sister',\n    'supermarket',\n    'tongue',\n    'weakness',\n    'wedding',\n    'affair',\n    'ambition',\n    'analyst',\n    'apple',\n    'assignment',\n    'assistant',\n    'bathroom',\n    'bedroom',\n    'beer',\n    'birthday',\n    'celebration',\n    'championship',\n    'cheek',\n    'client',\n    'consequence',\n    'departure',\n    'diamond',\n    'dirt',\n    'ear',\n    'fortune',\n    'friendship',\n    'funeral',\n    'gene',\n    'girlfriend',\n    'hat',\n    'indication',\n    'intention',\n    'lady',\n    'midnight',\n    'negotiation',\n    'obligation',\n    'passenger',\n    'pizza',\n    'platform',\n    'poet',\n    'pollution',\n    'recognition',\n    'reputation',\n    'shirt',\n    'speaker',\n    'stranger',\n    'surgery',\n    'sympathy',\n    'tale',\n    'throat',\n    'trainer',\n    'uncle',\n    'youth',\n    'time',\n    'work',\n    'film',\n    'water',\n    'money',\n    'example',\n    'while',\n    'business',\n    'study',\n    'game',\n    'life',\n    'form',\n    'air',\n    'day',\n    'place',\n    'number',\n    'part',\n    'field',\n    'fish',\n    'back',\n    'process',\n    'heat',\n    'hand',\n    'experience',\n    'job',\n    'book',\n    'end',\n    'point',\n    'type',\n    'home',\n    'economy',\n    'value',\n    'body',\n    'market',\n    'guide',\n    'interest',\n    'state',\n    'radio',\n    'course',\n    'company',\n    'price',\n    'size',\n    'card',\n    'list',\n    'mind',\n    'trade',\n    'line',\n    'care',\n    'group',\n    'risk',\n    'word',\n    'fat',\n    'force',\n    'key',\n    'light',\n    'training',\n    'name',\n    'school',\n    'top',\n    'amount',\n    'level',\n    'order',\n    'practice',\n    'research',\n    'sense',\n    'service',\n    'piece',\n    'web',\n    'boss',\n    'sport',\n    'fun',\n    'house',\n    'page',\n    'term',\n    'test',\n    'answer',\n    'sound',\n    'focus',\n    'matter',\n    'kind',\n    'soil',\n    'board',\n    'oil',\n    'picture',\n    'access',\n    'garden',\n    'range',\n    'rate',\n    'reason',\n    'future',\n    'site',\n    'demand',\n    'exercise',\n    'image',\n    'case',\n    'cause',\n    'coast',\n    'action',\n    'age',\n    'bad',\n    'boat',\n    'record',\n    'result',\n    'section',\n    'building',\n    'mouse',\n    'cash',\n    'class',\n    'period',\n    'plan',\n    'store',\n    'tax',\n    'side',\n    'subject',\n    'space',\n    'rule',\n    'stock',\n    'weather',\n    'chance',\n    'figure',\n    'man',\n    'model',\n    'source',\n    'beginning',\n    'earth',\n    'program',\n    'chicken',\n    'design',\n    'feature',\n    'head',\n    'material',\n    'purpose',\n    'question',\n    'rock',\n    'salt',\n    'act',\n    'birth',\n    'car',\n    'dog',\n    'object',\n    'scale',\n    'sun',\n    'note',\n    'profit',\n    'rent',\n    'speed',\n    'style',\n    'war',\n    'bank',\n    'craft',\n    'half',\n    'inside',\n    'outside',\n    'standard',\n    'bus',\n    'exchange',\n    'eye',\n    'fire',\n    'position',\n    'pressure',\n    'stress',\n    'advantage',\n    'benefit',\n    'box',\n    'frame',\n    'issue',\n    'step',\n    'cycle',\n    'face',\n    'item',\n    'metal',\n    'paint',\n    'review',\n    'room',\n    'screen',\n    'structure',\n    'view',\n    'account',\n    'ball',\n    'discipline',\n    'medium',\n    'share',\n    'balance',\n    'bit',\n    'black',\n    'bottom',\n    'choice',\n    'gift',\n    'impact',\n    'machine',\n    'shape',\n    'tool',\n    'wind',\n    'address',\n    'average',\n    'career',\n    'culture',\n    'morning',\n    'pot',\n    'sign',\n    'table',\n    'task',\n    'condition',\n    'contact',\n    'credit',\n    'egg',\n    'hope',\n    'ice',\n    'network',\n    'north',\n    'square',\n    'attempt',\n    'date',\n    'effect',\n    'link',\n    'post',\n    'star',\n    'voice',\n    'capital',\n    'challenge',\n    'friend',\n    'self',\n    'shot',\n    'brush',\n    'couple',\n    'exit',\n    'front',\n    'function',\n    'lack',\n    'living',\n    'plant',\n    'plastic',\n    'spot',\n    'summer',\n    'taste',\n    'theme',\n    'track',\n    'wing',\n    'brain',\n    'button',\n    'click',\n    'desire',\n    'foot',\n    'gas',\n    'influence',\n    'notice',\n    'rain',\n    'wall',\n    'base',\n    'damage',\n    'distance',\n    'feeling',\n    'pair',\n    'savings',\n    'staff',\n    'sugar',\n    'target',\n    'text',\n    'animal',\n    'author',\n    'budget',\n    'discount',\n    'file',\n    'ground',\n    'lesson',\n    'minute',\n    'officer',\n    'phase',\n    'reference',\n    'register',\n    'sky',\n    'stage',\n    'stick',\n    'title',\n    'trouble',\n    'bowl',\n    'bridge',\n    'campaign',\n    'character',\n    'club',\n    'edge',\n    'evidence',\n    'fan',\n    'letter',\n    'lock',\n    'maximum',\n    'novel',\n    'option',\n    'pack',\n    'park',\n    'quarter',\n    'skin',\n    'sort',\n    'weight',\n    'baby',\n    'background',\n    'carry',\n    'dish',\n    'factor',\n    'fruit',\n    'glass',\n    'joint',\n    'master',\n    'muscle',\n    'red',\n    'strength',\n    'traffic',\n    'trip',\n    'vegetable',\n    'appeal',\n    'chart',\n    'gear',\n    'ideal',\n    'kitchen',\n    'land',\n    'log',\n    'mother',\n    'net',\n    'party',\n    'principle',\n    'relative',\n    'sale',\n    'season',\n    'signal',\n    'spirit',\n    'street',\n    'tree',\n    'wave',\n    'belt',\n    'bench',\n    'commission',\n    'copy',\n    'drop',\n    'minimum',\n    'path',\n    'progress',\n    'project',\n    'sea',\n    'south',\n    'status',\n    'stuff',\n    'ticket',\n    'tour',\n    'angle',\n    'blue',\n    'breakfast',\n    'confidence',\n    'daughter',\n    'degree',\n    'doctor',\n    'dot',\n    'dream',\n    'duty',\n    'essay',\n    'father',\n    'fee',\n    'finance',\n    'hour',\n    'juice',\n    'luck',\n    'milk',\n    'mouth',\n    'peace',\n    'pipe',\n    'stable',\n    'storm',\n    'substance',\n    'team',\n    'trick',\n    'afternoon',\n    'bat',\n    'beach',\n    'blank',\n    'catch',\n    'chain',\n    'consideration',\n    'cream',\n    'crew',\n    'detail',\n    'gold',\n    'interview',\n    'kid',\n    'mark',\n    'mission',\n    'pain',\n    'pleasure',\n    'score',\n    'screw',\n    'sex',\n    'shop',\n    'shower',\n    'suit',\n    'tone',\n    'window',\n    'agent',\n    'band',\n    'bath',\n    'block',\n    'bone',\n    'calendar',\n    'candidate',\n    'cap',\n    'coat',\n    'contest',\n    'corner',\n    'court',\n    'cup',\n    'district',\n    'door',\n    'east',\n    'finger',\n    'garage',\n    'guarantee',\n    'hole',\n    'hook',\n    'implement',\n    'layer',\n    'lecture',\n    'lie',\n    'manner',\n    'meeting',\n    'nose',\n    'parking',\n    'partner',\n    'profile',\n    'rice',\n    'routine',\n    'schedule',\n    'swimming',\n    'telephone',\n    'tip',\n    'winter',\n    'airline',\n    'bag',\n    'battle',\n    'bed',\n    'bill',\n    'bother',\n    'cake',\n    'code',\n    'curve',\n    'designer',\n    'dimension',\n    'dress',\n    'ease',\n    'emergency',\n    'evening',\n    'extension',\n    'farm',\n    'fight',\n    'gap',\n    'grade',\n    'holiday',\n    'horror',\n    'horse',\n    'host',\n    'husband',\n    'loan',\n    'mistake',\n    'mountain',\n    'nail',\n    'noise',\n    'occasion',\n    'package',\n    'patient',\n    'pause',\n    'phrase',\n    'proof',\n    'race',\n    'relief',\n    'sand',\n    'sentence',\n    'shoulder',\n    'smoke',\n    'stomach',\n    'string',\n    'tourist',\n    'towel',\n    'vacation',\n    'west',\n    'wheel',\n    'wine',\n    'arm',\n    'aside',\n    'associate',\n    'bet',\n    'blow',\n    'border',\n    'branch',\n    'breast',\n    'brother',\n    'buddy',\n    'bunch',\n    'chip',\n    'coach',\n    'cross',\n    'document',\n    'draft',\n    'dust',\n    'expert',\n    'floor',\n    'god',\n    'golf',\n    'habit',\n    'iron',\n    'judge',\n    'knife',\n    'landscape',\n    'league',\n    'mail',\n    'mess',\n    'native',\n    'opening',\n    'parent',\n    'pattern',\n    'pin',\n    'pool',\n    'pound',\n    'request',\n    'salary',\n    'shame',\n    'shelter',\n    'shoe',\n    'silver',\n    'tackle',\n    'tank',\n    'trust',\n    'assist',\n    'bake',\n    'bar',\n    'bell',\n    'bike',\n    'blame',\n    'boy',\n    'brick',\n    'chair',\n    'closet',\n    'clue',\n    'collar',\n    'comment',\n    'conference',\n    'devil',\n    'diet',\n    'fear',\n    'fuel',\n    'glove',\n    'jacket',\n    'lunch',\n    'monitor',\n    'mortgage',\n    'nurse',\n    'pace',\n    'panic',\n    'peak',\n    'plane',\n    'reward',\n    'row',\n    'sandwich',\n    'shock',\n    'spite',\n    'spray',\n    'surprise',\n    'till',\n    'transition',\n    'weekend',\n    'welcome',\n    'yard',\n    'alarm',\n    'bend',\n    'bicycle',\n    'bite',\n    'blind',\n    'bottle',\n    'cable',\n    'candle',\n    'clerk',\n    'cloud',\n    'concert',\n    'counter',\n    'flower',\n    'grandfather',\n    'harm',\n    'knee',\n    'lawyer',\n    'leather',\n    'load',\n    'mirror',\n    'neck',\n    'pension',\n    'plate',\n    'purple',\n    'ruin',\n    'ship',\n    'skirt',\n    'slice',\n    'snow',\n    'specialist',\n    'stroke',\n    'switch',\n    'trash',\n    'tune',\n    'zone',\n    'anger',\n    'award',\n    'bid',\n    'bitter',\n    'boot',\n    'bug',\n    'camp',\n    'candy',\n    'carpet',\n    'cat',\n    'champion',\n    'channel',\n    'clock',\n    'comfort',\n    'cow',\n    'crack',\n    'engineer',\n    'entrance',\n    'fault',\n    'grass',\n    'guy',\n    'hell',\n    'highlight',\n    'incident',\n    'island',\n    'joke',\n    'jury',\n    'leg',\n    'lip',\n    'mate',\n    'motor',\n    'nerve',\n    'passage',\n    'pen',\n    'pride',\n    'priest',\n    'prize',\n    'promise',\n    'resident',\n    'resort',\n    'ring',\n    'roof',\n    'rope',\n    'sail',\n    'scheme',\n    'script',\n    'sock',\n    'station',\n    'toe',\n    'tower',\n    'truck',\n    'witness',\n    'can',\n    'will',\n    'other',\n    'use',\n    'make',\n    'good',\n    'look',\n    'help',\n    'go',\n    'great',\n    'being',\n    'still',\n    'public',\n    'read',\n    'keep',\n    'start',\n    'give',\n    'human',\n    'local',\n    'general',\n    'specific',\n    'long',\n    'play',\n    'feel',\n    'high',\n    'put',\n    'common',\n    'set',\n    'change',\n    'simple',\n    'past',\n    'big',\n    'possible',\n    'particular',\n    'major',\n    'personal',\n    'current',\n    'national',\n    'cut',\n    'natural',\n    'physical',\n    'show',\n    'try',\n    'check',\n    'second',\n    'call',\n    'move',\n    'pay',\n    'let',\n    'increase',\n    'single',\n    'individual',\n    'turn',\n    'ask',\n    'buy',\n    'guard',\n    'hold',\n    'main',\n    'offer',\n    'potential',\n    'professional',\n    'international',\n    'travel',\n    'cook',\n    'alternative',\n    'special',\n    'working',\n    'whole',\n    'dance',\n    'excuse',\n    'cold',\n    'commercial',\n    'low',\n    'purchase',\n    'deal',\n    'primary',\n    'worth',\n    'fall',\n    'necessary',\n    'positive',\n    'produce',\n    'search',\n    'present',\n    'spend',\n    'talk',\n    'creative',\n    'tell',\n    'cost',\n    'drive',\n    'green',\n    'support',\n    'glad',\n    'remove',\n    'return',\n    'run',\n    'complex',\n    'due',\n    'effective',\n    'middle',\n    'regular',\n    'reserve',\n    'independent',\n    'leave',\n    'original',\n    'reach',\n    'rest',\n    'serve',\n    'watch',\n    'beautiful',\n    'charge',\n    'active',\n    'break',\n    'negative',\n    'safe',\n    'stay',\n    'visit',\n    'visual',\n    'affect',\n    'cover',\n    'report',\n    'rise',\n    'walk',\n    'white',\n    'junior',\n    'pick',\n    'unique',\n    'classic',\n    'final',\n    'lift',\n    'mix',\n    'private',\n    'stop',\n    'teach',\n    'western',\n    'concern',\n    'familiar',\n    'fly',\n    'official',\n    'broad',\n    'comfortable',\n    'gain',\n    'rich',\n    'save',\n    'stand',\n    'young',\n    'heavy',\n    'lead',\n    'listen',\n    'valuable',\n    'worry',\n    'handle',\n    'leading',\n    'meet',\n    'release',\n    'sell',\n    'finish',\n    'normal',\n    'press',\n    'ride',\n    'secret',\n    'spread',\n    'spring',\n    'tough',\n    'wait',\n    'brown',\n    'deep',\n    'display',\n    'flow',\n    'hit',\n    'objective',\n    'shoot',\n    'touch',\n    'cancel',\n    'chemical',\n    'cry',\n    'dump',\n    'extreme',\n    'push',\n    'conflict',\n    'eat',\n    'fill',\n    'formal',\n    'jump',\n    'kick',\n    'opposite',\n    'pass',\n    'pitch',\n    'remote',\n    'total',\n    'treat',\n    'vast',\n    'abuse',\n    'beat',\n    'burn',\n    'deposit',\n    'print',\n    'raise',\n    'sleep',\n    'somewhere',\n    'advance',\n    'consist',\n    'dark',\n    'double',\n    'draw',\n    'equal',\n    'fix',\n    'hire',\n    'internal',\n    'join',\n    'kill',\n    'sensitive',\n    'tap',\n    'win',\n    'attack',\n    'claim',\n    'constant',\n    'drag',\n    'drink',\n    'guess',\n    'minor',\n    'pull',\n    'raw',\n    'soft',\n    'solid',\n    'wear',\n    'weird',\n    'wonder',\n    'annual',\n    'count',\n    'dead',\n    'doubt',\n    'feed',\n    'forever',\n    'impress',\n    'repeat',\n    'round',\n    'sing',\n    'slide',\n    'strip',\n    'wish',\n    'combine',\n    'command',\n    'dig',\n    'divide',\n    'equivalent',\n    'hang',\n    'hunt',\n    'initial',\n    'march',\n    'mention',\n    'spiritual',\n    'survey',\n    'tie',\n    'adult',\n    'brief',\n    'crazy',\n    'escape',\n    'gather',\n    'hate',\n    'prior',\n    'repair',\n    'rough',\n    'sad',\n    'scratch',\n    'sick',\n    'strike',\n    'employ',\n    'external',\n    'hurt',\n    'illegal',\n    'laugh',\n    'lay',\n    'mobile',\n    'nasty',\n    'ordinary',\n    'respond',\n    'royal',\n    'senior',\n    'split',\n    'strain',\n    'struggle',\n    'swim',\n    'train',\n    'upper',\n    'wash',\n    'yellow',\n    'convert',\n    'crash',\n    'dependent',\n    'fold',\n    'funny',\n    'grab',\n    'hide',\n    'miss',\n    'permit',\n    'quote',\n    'recover',\n    'resolve',\n    'roll',\n    'sink',\n    'slip',\n    'spare',\n    'suspect',\n    'sweet',\n    'swing',\n    'twist',\n    'upstairs',\n    'usual',\n    'abroad',\n    'brave',\n    'calm',\n    'concentrate',\n    'estimate',\n    'grand',\n    'male',\n    'mine',\n    'prompt',\n    'quiet',\n    'refuse',\n    'regret',\n    'reveal',\n    'rush',\n    'shake',\n    'shift',\n    'shine',\n    'steal',\n    'suck',\n    'surround',\n    'bear',\n    'brilliant',\n    'dare',\n    'dear',\n    'delay',\n    'drunk',\n    'female',\n    'hurry',\n    'inevitable',\n    'invite',\n    'kiss',\n    'neat',\n    'pop',\n    'punch',\n    'quit',\n    'reply',\n    'representative',\n    'resist',\n    'rip',\n    'rub',\n    'silly',\n    'smile',\n    'spell',\n    'stretch',\n    'stupid',\n    'tear',\n    'temporary',\n    'tomorrow',\n    'wake',\n    'wrap',\n    'yesterday',\n    'Thomas',\n    'Tom',\n    'Lieuwe',\n  ];\n\n  var name =\n    capFirst(name1[getRandomInt(0, name1.length + 1)]) +\n    ' ' +\n    capFirst(name2[getRandomInt(0, name2.length + 1)]);\n  return name;\n}\n","import React from 'react';\nimport { Button, Comment, Icon, Input } from 'semantic-ui-react';\nimport { Socket } from 'socket.io';\nimport 'emoji-mart/css/emoji-mart.css';\nimport { EmojiData, Picker } from 'emoji-mart';\nimport onClickOutside from 'react-onclickoutside';\n\nimport { formatTimestamp, getColorHex, getDefaultPicture } from '../../utils';\nimport { Separator } from '../App/App';\n\ninterface ChatProps {\n  chat: ChatMessage[];\n  nameMap: StringDict;\n  pictureMap: StringDict;\n  socket: Socket;\n  scrollTimestamp: number;\n  className?: string;\n  getMediaDisplayName: Function;\n  hide?: boolean;\n}\n\nexport class Chat extends React.Component<ChatProps> {\n  public state = { chatMsg: '', isNearBottom: true, isPickerOpen: false };\n  messagesRef = React.createRef<HTMLDivElement>();\n\n  componentDidMount() {\n    this.scrollToBottom();\n    this.messagesRef.current?.addEventListener('scroll', this.onScroll);\n  }\n\n  componentDidUpdate(prevProps: ChatProps) {\n    if (this.props.scrollTimestamp !== prevProps.scrollTimestamp) {\n      if (prevProps.scrollTimestamp === 0 || this.state.isNearBottom) {\n        this.scrollToBottom();\n      }\n    }\n    if (this.props.hide !== prevProps.hide) {\n      this.scrollToBottom();\n    }\n  }\n\n  updateChatMsg = (e: any, data: { value: string }) => {\n    // console.log(e.target.selectionStart);\n    this.setState({ chatMsg: data.value });\n  };\n\n  sendChatMsg = () => {\n    if (!this.state.chatMsg) {\n      return;\n    }\n    if (this.chatTooLong()) {\n      return;\n    }\n    this.setState({ chatMsg: '' });\n    this.props.socket.emit('CMD:chat', this.state.chatMsg);\n  };\n\n  chatTooLong = () => {\n    return Boolean(this.state.chatMsg?.length > 10000);\n  };\n\n  onScroll = () => {\n    this.setState({ isNearBottom: this.isChatNearBottom() });\n  };\n\n  isChatNearBottom = () => {\n    return (\n      this.messagesRef.current &&\n      this.messagesRef.current.scrollHeight -\n        this.messagesRef.current.scrollTop -\n        this.messagesRef.current.offsetHeight <\n        100\n    );\n  };\n\n  scrollToBottom = () => {\n    if (this.messagesRef.current) {\n      this.messagesRef.current.scrollTop = this.messagesRef.current.scrollHeight;\n    }\n  };\n\n  formatMessage = (cmd: string, msg: string): React.ReactNode | string => {\n    if (cmd === 'host') {\n      return (\n        <React.Fragment>\n          {`changed the video to `}\n          <span style={{ textTransform: 'initial' }}>\n            {this.props.getMediaDisplayName(msg)}\n          </span>\n        </React.Fragment>\n      );\n    } else if (cmd === 'seek') {\n      return `jumped to ${formatTimestamp(msg)}`;\n    } else if (cmd === 'play') {\n      return `started the video at ${formatTimestamp(msg)}`;\n    } else if (cmd === 'pause') {\n      return `paused the video at ${formatTimestamp(msg)}`;\n    } else if (cmd === 'lock') {\n      return `locked the room`;\n    } else if (cmd === 'unlock') {\n      return 'unlocked the room';\n    } else if (cmd === 'vBrowserTimeout') {\n      return (\n        <React.Fragment>\n          The VBrowser shut down automatically.\n          <br />\n          Subscribe for sessions up to 12 hours.\n        </React.Fragment>\n      );\n    } else if (cmd === 'vBrowserAlmostTimeout') {\n      return (\n        <React.Fragment>\n          The VBrowser will shut down soon.\n          <br />\n          Subscribe for sessions up to 12 hours.\n        </React.Fragment>\n      );\n    }\n    return cmd;\n  };\n\n  addEmoji = (emoji: EmojiData) => {\n    this.setState({ chatMsg: this.state.chatMsg + (emoji as any).native });\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        style={{\n          display: this.props.hide ? 'none' : 'flex',\n          flexDirection: 'column',\n          flexGrow: 1,\n          minHeight: 0,\n          marginTop: 0,\n          marginBottom: 0,\n          padding: '8px',\n        }}\n      >\n        <div\n          className=\"chatContainer\"\n          ref={this.messagesRef}\n          style={{ position: 'relative' }}\n        >\n          <Comment.Group>\n            {this.props.chat.map((msg) => (\n              <ChatMessage\n                key={msg.timestamp + msg.id}\n                message={msg}\n                pictureMap={this.props.pictureMap}\n                nameMap={this.props.nameMap}\n                formatMessage={this.formatMessage}\n              />\n            ))}\n            {/* <div ref={this.messagesEndRef} /> */}\n          </Comment.Group>\n          {!this.state.isNearBottom && (\n            <Button\n              size=\"tiny\"\n              onClick={this.scrollToBottom}\n              style={{\n                position: 'sticky',\n                bottom: 0,\n                display: 'block',\n                margin: '0 auto',\n              }}\n            >\n              Jump to bottom\n            </Button>\n          )}\n        </div>\n        <Separator />\n        {this.state.isPickerOpen && (\n          <PickerMenu\n            addEmoji={this.addEmoji}\n            closeMenu={() => this.setState({ isPickerOpen: false })}\n          />\n        )}\n        <Input\n          inverted\n          fluid\n          onKeyPress={(e: any) => e.key === 'Enter' && this.sendChatMsg()}\n          onChange={this.updateChatMsg}\n          value={this.state.chatMsg}\n          error={this.chatTooLong()}\n          icon\n          placeholder=\"Enter a message...\"\n        >\n          <input />\n          <Icon\n            // style={{ right: '40px' }}\n            onClick={() => this.setState({ isPickerOpen: true })}\n            name={'' as any}\n            inverted\n            circular\n            link\n            style={{ opacity: 1 }}\n          >\n            <span role=\"img\" aria-label=\"Emoji\">\n              \n            </span>\n          </Icon>\n          {/* <Icon onClick={this.sendChatMsg} name=\"send\" inverted circular link /> */}\n        </Input>\n      </div>\n    );\n  }\n}\n\nconst ChatMessage = ({\n  message,\n  nameMap,\n  pictureMap,\n  formatMessage,\n}: {\n  message: ChatMessage;\n  nameMap: StringDict;\n  pictureMap: StringDict;\n  formatMessage: (cmd: string, msg: string) => React.ReactNode;\n}) => {\n  const { id, timestamp, cmd, msg, system } = message;\n  return (\n    <Comment>\n      {id ? (\n        <Comment.Avatar\n          src={\n            pictureMap[id] || getDefaultPicture(nameMap[id], getColorHex(id))\n          }\n        />\n      ) : null}\n      <Comment.Content>\n        <Comment.Author as=\"a\" className=\"light\">\n          {Boolean(system) && 'System'}\n          {nameMap[id] || id}\n        </Comment.Author>\n        <Comment.Metadata className=\"dark\">\n          <div>{new Date(timestamp).toLocaleTimeString()}</div>\n        </Comment.Metadata>\n        <Comment.Text className=\"light system\">\n          {cmd && formatMessage(cmd, msg)}\n        </Comment.Text>\n        <Comment.Text className=\"light\">{!cmd && msg}</Comment.Text>\n      </Comment.Content>\n    </Comment>\n  );\n};\n\nclass PickerMenuInner extends React.Component<{\n  addEmoji: (emoji: EmojiData) => void;\n  closeMenu: Function;\n}> {\n  handleClickOutside = () => {\n    this.props.closeMenu();\n  };\n  render() {\n    return (\n      <div style={{ position: 'absolute', bottom: '60px' }}>\n        <Picker\n          set=\"google\"\n          sheetSize={64}\n          theme=\"dark\"\n          showPreview={false}\n          showSkinTones={false}\n          onSelect={this.props.addEmoji}\n        />\n      </div>\n    );\n  }\n}\n\nconst PickerMenu = onClickOutside(PickerMenuInner);\n","import React from 'react';\nimport { Modal, Button, Form, Message } from 'semantic-ui-react';\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\n\nexport class LoginModal extends React.Component<{\n  closeLogin: Function;\n}> {\n  public state = { email: '', password: '', isCreateMode: false, error: '' };\n\n  resetPassword = async () => {\n    try {\n      await firebase.auth().sendPasswordResetEmail(this.state.email);\n      this.props.closeLogin();\n    } catch (e) {\n      // handle exceptions\n      this.setState({ error: e.message });\n    }\n  };\n\n  emailSignIn = async (email: string, password: string) => {\n    try {\n      await firebase.auth().signInWithEmailAndPassword(email, password);\n\n      this.props.closeLogin();\n    } catch (e) {\n      // handle exceptions\n      this.setState({ error: e.message });\n    }\n  };\n\n  createAccount = async (email: string, password: string) => {\n    try {\n      await firebase.auth().createUserWithEmailAndPassword(email, password);\n    } catch (e) {\n      // handle exceptions\n      this.setState({ error: e.message });\n    }\n  };\n\n  emailLinkSignIn = async () => {\n    await firebase.auth().sendSignInLinkToEmail(this.state.email, {\n      url: window.location.href,\n      handleCodeInApp: true,\n    });\n  };\n\n  render() {\n    const { closeLogin } = this.props;\n    return (\n      <Modal open={true} onClose={closeLogin as any}>\n        <Modal.Header>\n          {this.state.isCreateMode ? 'Create an account' : 'Login'}\n        </Modal.Header>\n        <Modal.Content>\n          {this.state.error && (\n            <Message color=\"red\" header=\"Error\" content={this.state.error} />\n          )}\n          <Form>\n            <Form.Field>\n              <label>Email</label>\n              <input\n                placeholder=\"Email\"\n                value={this.state.email}\n                onChange={(e) => this.setState({ email: e.target.value })}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label>Password</label>\n              <input\n                type=\"password\"\n                placeholder=\"Password\"\n                value={this.state.password}\n                onChange={(e) => this.setState({ password: e.target.value })}\n              />\n            </Form.Field>\n            {!this.state.isCreateMode && (\n              <div>\n                Don't have an account?{' '}\n                <button\n                  type=\"button\"\n                  className=\"linkButton\"\n                  onClick={() => this.setState({ isCreateMode: true })}\n                >\n                  Create one.\n                </button>{' '}\n                Forgot your password? Enter your email and{' '}\n                <button\n                  type=\"button\"\n                  className=\"linkButton\"\n                  onClick={this.resetPassword}\n                >\n                  reset it.\n                </button>\n              </div>\n            )}\n            {this.state.isCreateMode ? (\n              <Button\n                type=\"submit\"\n                onClick={() =>\n                  this.createAccount(this.state.email, this.state.password)\n                }\n              >\n                Create\n              </Button>\n            ) : (\n              <Button\n                type=\"submit\"\n                onClick={() =>\n                  this.emailSignIn(this.state.email, this.state.password)\n                }\n              >\n                Login\n              </Button>\n            )}\n          </Form>\n        </Modal.Content>\n      </Modal>\n    );\n  }\n}\n","import React from 'react';\n// import { serverPath, getColorHex } from '../../utils';\nimport { serverPath } from '../../utils';\nimport { Icon, Popup, Button, Dropdown } from 'semantic-ui-react';\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { LoginModal } from '../Modal/LoginModal';\nimport axios from 'axios';\n\nexport class NewRoomButton extends React.Component<{ size?: string }> {\n  createRoom = async () => {\n    const response = await window.fetch(serverPath + '/createRoom', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({}),\n    });\n    const data = await response.json();\n    const { name } = data;\n    window.location.hash = '#' + name;\n    window.location.reload();\n  };\n  render() {\n    return (\n      <Popup\n        content=\"Create a new room with a random URL that you can share with friends\"\n        // trigger={\n        //   <Button\n        //     color=\"blue\"\n        //     size={this.props.size as any}\n        //     icon\n        //     labelPosition=\"left\"\n        //     onClick={this.createRoom}\n        //     className=\"toolButton\"\n        //   >\n        //     <Icon name=\"certificate\" />\n        //     WatchParty\n        //   </Button>\n        // }\n      />\n    );\n  }\n}\n\nexport class SignInButton extends React.Component<{\n  user: firebase.User | undefined;\n}> {\n  public state = { isLoginOpen: false };\n\n  facebookSignIn = async () => {\n    const provider = new firebase.auth.FacebookAuthProvider();\n    await firebase.auth().signInWithPopup(provider);\n  };\n\n  googleSignIn = async () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    await firebase.auth().signInWithPopup(provider);\n  };\n\n  signOut = () => {\n    firebase.auth().signOut();\n    window.location.reload();\n  };\n\n  render() {\n    if (this.props.user) {\n      return (\n        <Button\n          style={{ height: '36px' }}\n          icon\n          labelPosition=\"left\"\n          onClick={this.signOut}\n        >\n          <Icon name=\"sign out\" />\n          Sign out\n        </Button>\n      );\n    }\n    return (\n      <React.Fragment>\n        {this.state.isLoginOpen && (\n          <LoginModal\n            closeLogin={() => this.setState({ isLoginOpen: false })}\n          />\n        )}\n        {/* <Popup\n          basic\n          content=\"Sign in to automatically set your name and picture\"\n          trigger={\n            <Dropdown\n              style={{ height: '36px' }}\n              icon=\"sign in\"\n              labeled\n              className=\"icon\"\n              button\n              text=\"Sign in\"\n            >\n              <Dropdown.Menu>\n                <Dropdown.Item onClick={this.facebookSignIn}>\n                  <Icon name=\"facebook\" />\n                  Facebook\n                </Dropdown.Item>\n                <Dropdown.Item onClick={this.googleSignIn}>\n                  <Icon name=\"google\" />\n                  Google\n                </Dropdown.Item>\n                <Dropdown.Item\n                  onClick={() => this.setState({ isLoginOpen: true })}\n                >\n                  <Icon name=\"mail\" />\n                  Email\n                </Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n          }\n        /> */}\n      </React.Fragment>\n    );\n  }\n}\n\nexport class ListRoomsButton extends React.Component<{\n  user: firebase.User | undefined;\n}> {\n  public state = { rooms: [] as PermanentRoom[] };\n\n  componentDidMount() {\n    this.refreshRooms();\n  }\n\n  refreshRooms = async () => {\n    if (this.props.user) {\n      const token = await this.props.user.getIdToken();\n      const response = await axios.get(\n        serverPath + `/listRooms?uid=${this.props.user?.uid}&token=${token}`\n      );\n      this.setState({ rooms: response.data });\n    }\n  };\n\n  deleteRoom = async (roomId: string) => {\n    if (this.props.user) {\n      const token = await this.props.user.getIdToken();\n      await axios.delete(\n        serverPath +\n          `/deleteRoom?uid=${this.props.user?.uid}&token=${token}&roomId=${roomId}`\n      );\n      this.setState({\n        rooms: this.state.rooms.filter((room) => room.roomId !== roomId),\n      });\n      this.refreshRooms();\n    }\n  };\n\n  render() {\n    return (\n      <Dropdown\n        style={{ height: '36px' }}\n        icon=\"group\"\n        labeled\n        className=\"icon\"\n        button\n        text=\"My Rooms\"\n        onClick={this.refreshRooms}\n      >\n        <Dropdown.Menu>\n          {this.state.rooms.length === 0 && (\n            <Dropdown.Item disabled>You have no permanent rooms.</Dropdown.Item>\n          )}\n          {this.state.rooms.map((room: any) => {\n            return (\n              <Dropdown.Item\n                link\n                href={\n                  room.vanity\n                    ? '/r/' + room.vanity\n                    : '/' + room.roomId.replace('/', '#')\n                }\n                onClick={() => {\n                  if (!room.vanity) {\n                    setTimeout(() => window.location.reload(), 100);\n                  }\n                }}\n              >\n                <div style={{ display: 'flex' }}>\n                  {room.vanity\n                    ? `/r/${room.vanity}`\n                    : room.roomId.replace('/', '#')}\n                  <div style={{ marginLeft: 'auto', paddingLeft: '20px' }}>\n                    <Popup\n                      content=\"Delete room\"\n                      trigger={\n                        <Icon\n                          onClick={(e: React.MouseEvent) => {\n                            e.stopPropagation();\n                            this.deleteRoom(room.roomId);\n                          }}\n                          name=\"x\"\n                          color=\"red\"\n                        />\n                      }\n                    />\n                  </div>\n                </div>\n              </Dropdown.Item>\n            );\n          })}\n        </Dropdown.Menu>\n      </Dropdown>\n    );\n  }\n}\n\nexport class TopBar extends React.Component<{\n  user?: any;\n  hideNewRoom?: boolean;\n  hideSignin?: boolean;\n  hideMyRooms?: boolean;\n}> {\n  render() {\n    return (\n      <React.Fragment>\n        <div\n          style={{\n            display: 'flex',\n            flexWrap: 'wrap',\n            padding: '1em',\n            paddingBottom: '0px',\n          }}\n        >\n          <a href=\"/\" style={{ display: 'flex' }}>\n            {/* <div\n              style={{\n                height: '48px',\n                width: '48px',\n                marginRight: '10px',\n                borderRadius: '50%',\n                position: 'relative',\n                backgroundColor: '#' + getColorHex('blue8'),\n              }}\n            >\n              <Icon\n                inverted\n                name=\"film\"\n                size=\"large\"\n                style={{\n                  position: 'absolute',\n                  top: 8,\n                  width: '100%',\n                  margin: '0 auto',\n                }}\n              />\n              <Icon\n                inverted\n                name=\"group\"\n                size=\"large\"\n                color=\"green\"\n                style={{\n                  position: 'absolute',\n                  bottom: 8,\n                  width: '100%',\n                  margin: '0 auto', \n                }}\n              />\n            </div> */}\n            <img src=\"/fayrtv_logo.png\" alt=\"FAYR TV\"></img>\n            <div\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n              }}\n            >\n              {/* <div\n                style={{\n                  textTransform: 'uppercase',\n                  fontWeight: 700,\n                  color: '#2185d0',\n                  fontSize: '30px',\n                  lineHeight: '30px',\n                }}\n              >\n                FAYR\n              </div>\n              <div\n                style={{\n                  textTransform: 'uppercase',\n                  fontWeight: 700,\n                  color: '#21ba45',\n                  fontSize: '30px',\n                  lineHeight: '30px',\n                  marginLeft: 'auto',\n                }}\n              >\n                TV\n              </div> */}\n            </div>\n          </a>\n          <div\n            style={{\n              display: 'flex',\n              marginLeft: '10px',\n              alignItems: 'center',\n            }}\n          >\n            {/* <a\n              href=\"https://discord.gg/3rYj5HV\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"footerIcon\"\n              title=\"Discord\"\n            >\n              <Icon name=\"discord\" size=\"big\" link />\n            </a>\n            <a\n              href=\"https://github.com/howardchung/watchparty\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"footerIcon\"\n              title=\"GitHub\"\n            >\n              <Icon name=\"github\" size=\"big\" link />\n            </a>\n          </div>\n          <div\n            style={{\n              display: 'flex',\n              marginLeft: 'auto',\n            }}\n          > */}\n            {!this.props.hideNewRoom && <NewRoomButton />}\n            {!this.props.hideMyRooms && this.props.user && (\n              <ListRoomsButton user={this.props.user} />\n            )}\n            {!this.props.hideSignin && <SignInButton user={this.props.user} />}\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n","export const OPCODE = {\n  MOVE: 0x01,\n  SCROLL: 0x02,\n  KEY_DOWN: 0x03,\n  KEY_UP: 0x04,\n} as const;\n","export const EVENT = {\n  // Internal Events\n  CONNECTING: 'CONNECTING',\n  CONNECTED: 'CONNECTED',\n  DISCONNECTED: 'DISCONNECTED',\n  TRACK: 'TRACK',\n  MESSAGE: 'MESSAGE',\n  DATA: 'DATA',\n\n  // Websocket Events\n  SYSTEM: {\n    DISCONNECT: 'system/disconnect',\n  },\n  SIGNAL: {\n    ANSWER: 'signal/answer',\n    PROVIDE: 'signal/provide',\n  },\n  MEMBER: {\n    LIST: 'member/list',\n    CONNECTED: 'member/connected',\n    DISCONNECTED: 'member/disconnected',\n  },\n  CONTROL: {\n    LOCKED: 'control/locked',\n    RELEASE: 'control/release',\n    REQUEST: 'control/request',\n    REQUESTING: 'control/requesting',\n    CLIPBOARD: 'control/clipboard',\n    GIVE: 'control/give',\n  },\n  CHAT: {\n    MESSAGE: 'chat/message',\n    EMOTE: 'chat/emote',\n  },\n  SCREEN: {\n    CONFIGURATIONS: 'screen/configurations',\n    RESOLUTION: 'screen/resolution',\n    SET: 'screen/set',\n  },\n  ADMIN: {\n    BAN: 'admin/ban',\n    KICK: 'admin/kick',\n    LOCK: 'admin/lock',\n    UNLOCK: 'admin/unlock',\n    MUTE: 'admin/mute',\n    UNMUTE: 'admin/unmute',\n    CONTROL: 'admin/control',\n    RELEASE: 'admin/release',\n    GIVE: 'admin/give',\n  },\n} as const;\n\nexport type Events = typeof EVENT;\n\nexport type WebSocketEvents =\n  | SystemEvents\n  | ControlEvents\n  | MemberEvents\n  | SignalEvents\n  | ChatEvents\n  | ScreenEvents\n  | AdminEvents\n  | 'ka';\n\nexport type ControlEvents =\n  | typeof EVENT.CONTROL.LOCKED\n  | typeof EVENT.CONTROL.RELEASE\n  | typeof EVENT.CONTROL.REQUEST\n  | typeof EVENT.CONTROL.GIVE\n  | typeof EVENT.CONTROL.CLIPBOARD;\n\nexport type SystemEvents = typeof EVENT.SYSTEM.DISCONNECT;\nexport type MemberEvents =\n  | typeof EVENT.MEMBER.LIST\n  | typeof EVENT.MEMBER.CONNECTED\n  | typeof EVENT.MEMBER.DISCONNECTED;\nexport type SignalEvents =\n  | typeof EVENT.SIGNAL.ANSWER\n  | typeof EVENT.SIGNAL.PROVIDE;\nexport type ChatEvents = typeof EVENT.CHAT.MESSAGE | typeof EVENT.CHAT.EMOTE;\nexport type ScreenEvents =\n  | typeof EVENT.SCREEN.CONFIGURATIONS\n  | typeof EVENT.SCREEN.RESOLUTION\n  | typeof EVENT.SCREEN.SET;\n\nexport type AdminEvents =\n  | typeof EVENT.ADMIN.BAN\n  | typeof EVENT.ADMIN.KICK\n  | typeof EVENT.ADMIN.LOCK\n  | typeof EVENT.ADMIN.UNLOCK\n  | typeof EVENT.ADMIN.MUTE\n  | typeof EVENT.ADMIN.UNMUTE\n  | typeof EVENT.ADMIN.CONTROL\n  | typeof EVENT.ADMIN.RELEASE\n  | typeof EVENT.ADMIN.GIVE;\n","import EventEmitter from 'eventemitter3';\n\nimport { iceServers } from '../../utils';\nimport { OPCODE } from './data';\nimport { EVENT, WebSocketEvents } from './events';\nimport {\n  SignalProvidePayload,\n  WebSocketMessages,\n  WebSocketPayloads,\n} from './messages';\n\nexport abstract class BaseClient extends EventEmitter<any> {\n  protected _ws?: WebSocket;\n  protected _peer?: RTCPeerConnection;\n  protected _channel?: RTCDataChannel;\n  protected _timeout?: NodeJS.Timeout;\n  protected _displayname?: string;\n  protected _state: RTCIceConnectionState = 'disconnected';\n  protected _id = '';\n\n  get id() {\n    return this._id;\n  }\n\n  get supported() {\n    return (\n      typeof RTCPeerConnection !== 'undefined' &&\n      typeof RTCPeerConnection.prototype.addTransceiver !== 'undefined'\n    );\n  }\n\n  get socketOpen() {\n    return (\n      typeof this._ws !== 'undefined' && this._ws.readyState === WebSocket.OPEN\n    );\n  }\n\n  get peerConnected() {\n    return (\n      typeof this._peer !== 'undefined' &&\n      ['connected', 'checking', 'completed'].includes(this._state)\n    );\n  }\n\n  get connected() {\n    return this.peerConnected && this.socketOpen;\n  }\n\n  public connect(url: string, password: string, displayname: string) {\n    if (this.socketOpen) {\n      this.emit('warn', `attempting to create websocket while connection open`);\n      return;\n    }\n\n    if (!this.supported) {\n      this.onDisconnected(\n        new Error('browser does not support webrtc (RTCPeerConnection missing)')\n      );\n      return;\n    }\n\n    if (displayname === '') {\n      throw new Error('Must add a displayname');\n    }\n\n    this._displayname = displayname;\n    this[EVENT.CONNECTING]();\n\n    try {\n      this._ws = new WebSocket(`${url}ws?password=${password}`);\n      this.emit('debug', `connecting to ${this._ws.url}`);\n      this._ws.onmessage = this.onMessage.bind(this);\n      this._ws.onerror = (event) => this.onError.bind(this);\n      this._ws.onclose = (event) =>\n        this.onDisconnected.bind(this, new Error('websocket closed'));\n      this._timeout = setTimeout(this.onTimeout.bind(this), 15000);\n    } catch (err) {\n      this.onDisconnected(err);\n    }\n  }\n\n  protected disconnect() {\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n\n    if (this.socketOpen) {\n      try {\n        this._ws!.close();\n      } catch (err) {}\n      this._ws = undefined;\n    }\n\n    if (this.peerConnected) {\n      try {\n        this._peer!.close();\n      } catch (err) {}\n      this._peer = undefined;\n    }\n\n    this._state = 'disconnected';\n    this._displayname = undefined;\n    this._id = '';\n  }\n\n  public sendData(\n    event: 'wheel' | 'mousemove',\n    data: { x: number; y: number }\n  ): void;\n  public sendData(\n    event: 'mousedown' | 'mouseup' | 'keydown' | 'keyup',\n    data: { key: number }\n  ): void;\n  public sendData(event: string, data: any) {\n    if (!this.connected) {\n      this.emit('warn', `attempting to send data while disconnected`);\n      return;\n    }\n\n    let buffer: ArrayBuffer;\n    let payload: DataView;\n    switch (event) {\n      case 'mousemove':\n        buffer = new ArrayBuffer(7);\n        payload = new DataView(buffer);\n        payload.setUint8(0, OPCODE.MOVE);\n        payload.setUint16(1, 4, true);\n        payload.setUint16(3, data.x, true);\n        payload.setUint16(5, data.y, true);\n        break;\n      case 'wheel':\n        buffer = new ArrayBuffer(7);\n        payload = new DataView(buffer);\n        payload.setUint8(0, OPCODE.SCROLL);\n        payload.setUint16(1, 4, true);\n        payload.setInt16(3, data.x, true);\n        payload.setInt16(5, data.y, true);\n        break;\n      case 'keydown':\n      case 'mousedown':\n        buffer = new ArrayBuffer(5);\n        payload = new DataView(buffer);\n        payload.setUint8(0, OPCODE.KEY_DOWN);\n        payload.setUint16(1, 1, true);\n        payload.setUint16(3, data.key, true);\n        break;\n      case 'keyup':\n      case 'mouseup':\n        buffer = new ArrayBuffer(5);\n        payload = new DataView(buffer);\n        payload.setUint8(0, OPCODE.KEY_UP);\n        payload.setUint16(1, 1, true);\n        payload.setUint16(3, data.key, true);\n        break;\n      default:\n        this.emit('warn', `unknown data event: ${event}`);\n    }\n\n    // @ts-ignore\n    if (typeof buffer !== 'undefined') {\n      this._channel!.send(buffer);\n    }\n  }\n\n  public sendMessage(event: WebSocketEvents, payload?: WebSocketPayloads) {\n    if (!this.connected) {\n      this.emit('warn', `attempting to send message while disconnected`);\n      return;\n    }\n    this.emit(\n      'debug',\n      `sending event '${event}' ${payload ? `with payload: ` : ''}`,\n      payload\n    );\n    this._ws!.send(JSON.stringify({ event, ...payload }));\n  }\n\n  public createPeer(sdp: string, lite: boolean, servers: string[]) {\n    this.emit('debug', `creating peer`);\n    if (!this.socketOpen) {\n      this.emit(\n        'warn',\n        `attempting to create peer with no websocket: `,\n        this._ws ? `state: ${this._ws.readyState}` : 'no socket'\n      );\n      return;\n    }\n\n    if (this.peerConnected) {\n      this.emit('warn', `attempting to create peer while connected`);\n      return;\n    }\n\n    this._peer = new RTCPeerConnection();\n    if (lite !== true) {\n      this._peer = new RTCPeerConnection({\n        iceServers: servers ? [{ urls: servers }] : iceServers(),\n      });\n    }\n\n    this._peer.onconnectionstatechange = (event) => {\n      this.emit(\n        'debug',\n        `peer connection state changed`,\n        this._peer ? this._peer.connectionState : undefined\n      );\n    };\n\n    this._peer.onsignalingstatechange = (event) => {\n      this.emit(\n        'debug',\n        `peer signaling state changed`,\n        this._peer ? this._peer.signalingState : undefined\n      );\n    };\n\n    this._peer.oniceconnectionstatechange = (event) => {\n      this._state = this._peer!.iceConnectionState;\n\n      this.emit(\n        'debug',\n        `peer ice connection state changed: ${this._peer!.iceConnectionState}`\n      );\n\n      switch (this._state) {\n        case 'checking':\n          if (this._timeout) {\n            clearTimeout(this._timeout);\n          }\n          break;\n        case 'connected':\n          this.onConnected();\n          break;\n        case 'failed':\n          this.onDisconnected(new Error('peer failed'));\n          break;\n        case 'disconnected':\n          this.onDisconnected(new Error('peer disconnected'));\n          break;\n      }\n    };\n\n    this._peer.ontrack = this.onTrack.bind(this);\n    this._peer.addTransceiver('audio', { direction: 'recvonly' });\n    this._peer.addTransceiver('video', { direction: 'recvonly' });\n\n    this._channel = this._peer.createDataChannel('data');\n    this._channel.onerror = this.onError.bind(this);\n    this._channel.onmessage = this.onData.bind(this);\n    this._channel.onclose = this.onDisconnected.bind(\n      this,\n      new Error('peer data channel closed')\n    );\n\n    this._peer.setRemoteDescription({ type: 'offer', sdp });\n    this._peer\n      .createAnswer()\n      .then((d) => {\n        this._peer!.setLocalDescription(d);\n        this._ws!.send(\n          JSON.stringify({\n            event: EVENT.SIGNAL.ANSWER,\n            sdp: d.sdp,\n            displayname: this._displayname,\n          })\n        );\n      })\n      .catch((err) => this.emit('error', err));\n  }\n\n  private onMessage(e: MessageEvent) {\n    const { event, ...payload } = JSON.parse(e.data) as WebSocketMessages;\n\n    this.emit(\n      'debug',\n      `received websocket event ${event} ${payload ? `with payload: ` : ''}`,\n      payload\n    );\n\n    if (event === EVENT.SIGNAL.PROVIDE) {\n      const { sdp, lite, ice, id } = payload as SignalProvidePayload;\n      this._id = id;\n      this.createPeer(sdp, lite, ice);\n      return;\n    }\n\n    // @ts-ignore\n    if (typeof this[event] === 'function') {\n      // @ts-ignore\n      this[event](payload);\n    } else {\n      this[EVENT.MESSAGE](event, payload);\n    }\n  }\n\n  private onData(e: MessageEvent) {\n    this[EVENT.DATA](e.data);\n  }\n\n  private onTrack(event: RTCTrackEvent) {\n    this.emit(\n      'debug',\n      `received ${event.track.kind} track from peer: ${event.track.id}`,\n      event\n    );\n    const stream = event.streams[0];\n    if (!stream) {\n      this.emit(\n        'warn',\n        `no stream provided for track ${event.track.id}(${event.track.label})`\n      );\n      return;\n    }\n    this[EVENT.TRACK](event);\n  }\n\n  private onError(event: Event) {\n    this.emit('error', (event as ErrorEvent).error);\n  }\n\n  private onConnected() {\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n\n    if (!this.connected) {\n      this.emit('warn', `onConnected called while being disconnected`);\n      return;\n    }\n\n    this.emit('debug', `connected`);\n    this[EVENT.CONNECTED]();\n  }\n\n  private onTimeout() {\n    this.emit('debug', `connection timeout`);\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n    this.onDisconnected(new Error('connection timeout'));\n  }\n\n  protected onDisconnected(reason?: Error) {\n    this.disconnect();\n    this.emit('debug', `disconnected:`, reason);\n    this[EVENT.DISCONNECTED](reason);\n  }\n\n  protected [EVENT.MESSAGE](event: string, payload: any) {\n    this.emit('warn', `unhandled websocket event '${event}':`, payload);\n  }\n\n  protected abstract [EVENT.CONNECTING](): void;\n  protected abstract [EVENT.CONNECTED](): void;\n  protected abstract [EVENT.DISCONNECTED](reason?: Error): void;\n  protected abstract [EVENT.TRACK](event: RTCTrackEvent): void;\n  protected abstract [EVENT.DATA](data: any): void;\n}\n","import React from 'react';\n\nimport { EVENT } from './events';\nimport { NekoClient } from '.';\n\n// import { EVENT } from './events';\n\nexport default class VBrowser extends React.Component<{\n  username: string;\n  password: string;\n  hostname: string;\n  controlling: boolean;\n  setLoadingFalse: Function;\n  resolution: string;\n  setResolution: Function;\n  isAutoPlayable: boolean;\n}> {\n  // private observer = new ResizeObserver(this.onResize);\n  private focused = false;\n  private fullscreen = false;\n  private activeKeys: Set<number> = new Set();\n  private controlling = false;\n  private scroll = 1; // 1 to 10\n  private scroll_invert = true;\n  private width = 1280;\n  private height = 720;\n  private rate = 30;\n  private keepAliveInterval = 0;\n  // private _component = React.createRef<HTMLDivElement>();\n  private _container = React.createRef<HTMLDivElement>();\n  private _overlay = React.createRef<HTMLDivElement>();\n  // private _aspect = React.createRef<HTMLDivElement>();\n  // private _player = React.createRef<HTMLDivElement>();\n  private _video = React.createRef<HTMLVideoElement>();\n  // private _resolution = React.createRef<HTMLDivElement>();\n  private $client: NekoClient = new NekoClient();\n\n  componentDidMount() {\n    this.controlling = this.props.controlling;\n    this.keepAliveInterval = window.setInterval(\n      () => this.$client.sendMessage('ka'),\n      10000\n    );\n\n    this.$client.on(EVENT.CONNECTED, () => {\n      if (this.props.controlling) {\n        this.takeControl();\n      }\n    });\n    this.$client.on(EVENT.DISCONNECTED, () => {\n      this.$client.login(url, this.props.password, this.props.username);\n    });\n    this.$client.on(EVENT.SCREEN.RESOLUTION, (data) => {\n      this.width = data.width;\n      this.height = data.height;\n      this.rate = data.rate;\n      // Update our state with the resolution sent from server\n      this.props.setResolution(`${this.width}x${this.height}@${this.rate}`);\n    });\n    this.$client.on(EVENT.TRACK, (track: MediaStreamTrack, stream) => {\n      // console.log(track, streams);\n      const video = document.getElementById('leftVideo') as HTMLVideoElement;\n      video.src = '';\n      video.srcObject = stream;\n      if (!this.props.isAutoPlayable) {\n        video.muted = true;\n      }\n      video.play();\n    });\n    this.$client.on(EVENT.CONTROL.CLIPBOARD, this.onClipboardChanged);\n\n    if (process.env.NODE_ENV === 'development') {\n      this.$client.on('debug', (e, data) => console.log(e, data));\n    }\n\n    const url = 'wss://' + this.props.hostname + '/';\n    this.$client.login(url, this.props.password, this.props.username);\n\n    // this._container.current?.addEventListener('resize', this.onResize);\n    // this.onResize();\n\n    // document.addEventListener('fullscreenchange', () => {\n    //   this.onResize();\n    // });\n\n    document.addEventListener('focusin', this.onFocus.bind(this));\n    document.addEventListener('focusout', this.onBlur.bind(this));\n\n    document\n      .getElementById('leftOverlay')\n      ?.addEventListener('wheel', this.onWheel, { passive: false });\n  }\n\n  componentDidUpdate(prevProps: any) {\n    // console.log(this.props.controlling, prevProps.controlling);\n    this.controlling = this.props.controlling;\n    if (this.props.controlling && !prevProps.controlling) {\n      this.takeControl();\n    }\n    if (this.props.resolution !== prevProps.resolution) {\n      this.changeResolution(this.props.resolution);\n    }\n  }\n\n  componentWillUnmount() {\n    window.clearInterval(this.keepAliveInterval);\n    this.$client.removeAllListeners();\n    this.$client.logout();\n  }\n\n  takeControl = () => {\n    if (this.$client.connected) {\n      this.$client.sendMessage(EVENT.ADMIN.CONTROL);\n    } else {\n      this.$client.once(EVENT.CONNECTED, () => {\n        this.$client.sendMessage(EVENT.ADMIN.CONTROL);\n      });\n    }\n  };\n\n  changeResolution = (resString: string) => {\n    const split = resString.split(/x|@/);\n    const width = Number(split[0]);\n    const height = Number(split[1]);\n    const rate = Number(split[2]);\n    this.$client.sendMessage(EVENT.SCREEN.SET, { width, height, rate });\n  };\n\n  onClipboardChanged(clipboard: string) {\n    if (\n      navigator.clipboard &&\n      typeof navigator.clipboard.writeText === 'function'\n    ) {\n      // Received clipboard contents from vbrowser\n      navigator.clipboard.writeText(clipboard);\n    }\n  }\n  onFocus = async () => {\n    if (\n      this.props.controlling &&\n      navigator.clipboard &&\n      typeof navigator.clipboard.readText === 'function'\n    ) {\n      const text = await navigator.clipboard.readText();\n      // console.log('[FOCUS]', text);\n      // send clipboard contents to vbrowser\n      this.$client.sendMessage(EVENT.CONTROL.CLIPBOARD, { text });\n    }\n  };\n\n  onBlur = () => {\n    if (!this.focused || !this.controlling) {\n      return;\n    }\n\n    this.activeKeys.forEach((key) => {\n      this.$client.sendData('keyup', { key });\n      this.activeKeys.delete(key);\n    });\n  };\n\n  onClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n  };\n\n  onContextMenu = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n  };\n\n  onMousePos = (e: MouseEvent | React.MouseEvent) => {\n    const { w, h } = { w: this.width, h: this.height };\n    const rect = this._overlay.current!.getBoundingClientRect();\n    this.$client.sendData('mousemove', {\n      x: Math.round((w / rect.width) * (e.clientX - rect.left)),\n      y: Math.round((h / rect.height) * (e.clientY - rect.top)),\n    });\n  };\n\n  onWheel = (e: WheelEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (!this.controlling) {\n      return;\n    }\n    this.onMousePos(e);\n\n    let x = e.deltaX;\n    let y = e.deltaY;\n\n    if (this.scroll_invert) {\n      x = x * -1;\n      y = y * -1;\n    }\n\n    x = Math.min(Math.max(x, -this.scroll), this.scroll);\n    y = Math.min(Math.max(y, -this.scroll), this.scroll);\n\n    this.$client.sendData('wheel', { x, y });\n  };\n\n  onMouseDown = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (!this.controlling) {\n      return;\n    }\n    this.onMousePos(e);\n    this.$client.sendData('mousedown', { key: e.button });\n  };\n\n  onMouseUp = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (!this.controlling) {\n      return;\n    }\n    this.onMousePos(e);\n    this.$client.sendData('mouseup', { key: e.button });\n  };\n\n  onMouseMove = (e: React.MouseEvent) => {\n    if (!this.controlling) {\n      return;\n    }\n    this.onMousePos(e);\n  };\n\n  onMouseEnter = (e: React.MouseEvent) => {\n    if (!this.controlling) {\n      return;\n    }\n    this._overlay.current!.focus();\n    this.onFocus();\n    this.focused = true;\n  };\n\n  onMouseLeave = (e: React.MouseEvent) => {\n    if (!this.controlling) {\n      return;\n    }\n    this._overlay.current!.blur();\n    this.focused = false;\n  };\n\n  // frick you firefox\n  getCode = (e: React.KeyboardEvent): number => {\n    let key = e.keyCode;\n    if (key === 59 && (e.key === ';' || e.key === ':')) {\n      key = 186;\n    }\n\n    if (key === 61 && (e.key === '=' || e.key === '+')) {\n      key = 187;\n    }\n\n    if (key === 173 && (e.key === '-' || e.key === '_')) {\n      key = 189;\n    }\n\n    return key;\n  };\n\n  onKeyDown = (e: React.KeyboardEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (!this.focused || !this.controlling) {\n      return;\n    }\n\n    let key = this.getCode(e);\n    this.$client.sendData('keydown', { key });\n    this.activeKeys.add(key);\n  };\n\n  onKeyUp = (e: React.KeyboardEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (!this.focused || !this.controlling) {\n      return;\n    }\n\n    let key = this.getCode(e);\n    this.$client.sendData('keyup', { key });\n    this.activeKeys.delete(key);\n  };\n\n  onResize = () => {\n    // let height = 0;\n    // if (!this.fullscreen) {\n    //   const offsetWidth = this._component.current?.offsetWidth;\n    //   const offsetHeight = this._component.current?.offsetHeight;\n    //   this._player.current!.style.width = `${offsetWidth}px`;\n    //   this._player.current!.style.height = `${offsetHeight}px`;\n    //   height = offsetHeight as number;\n    // } else {\n    //   const offsetHeight = this._player.current?.offsetHeight;\n    //   height = offsetHeight as number;\n    // }\n    // this._container.current!.style.maxWidth = `${\n    //   (this.horizontal / this.vertical) * height\n    // }px`;\n    // this._aspect.current!.style.paddingBottom = `${\n    //   (this.vertical / this.horizontal) * 100\n    // }%`;\n  };\n\n  render() {\n    return (\n      <div\n        ref={this._container}\n        style={{ position: 'relative', width: '100%' }}\n      >\n        <video ref={this._video} id=\"leftVideo\" style={{ width: '100%' }} />\n        <div\n          ref={this._overlay}\n          id={'leftOverlay'}\n          tabIndex={0}\n          style={{\n            width: document.getElementById('leftVideo')?.clientWidth,\n            height: document.getElementById('leftVideo')?.clientHeight,\n            position: 'absolute',\n            top: 0,\n            bottom: 0,\n            // disable firefox scrollbars?\n            scrollbarWidth: 'none',\n          }}\n          onClick={this.onClick}\n          onContextMenu={this.onContextMenu}\n          // onWheel={this.onWheel}\n          onMouseMove={this.onMouseMove}\n          onMouseDown={this.onMouseDown}\n          onMouseUp={this.onMouseUp}\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n          onKeyDown={this.onKeyDown}\n          onKeyUp={this.onKeyUp}\n        />\n      </div>\n    );\n  }\n}\n","import EventEmitter from 'eventemitter3';\n\nimport { BaseClient } from './base';\n//import { Member } from './types';\nimport { EVENT } from './events';\nimport {\n  ControlClipboardPayload,\n  ControlPayload,\n  ControlTargetPayload,\n  DisconnectPayload,\n  ScreenConfigurationsPayload,\n  ScreenResolutionPayload,\n} from './messages';\n\nexport class NekoClient extends BaseClient implements EventEmitter<any> {\n  login(url: string, password: string, displayname: string) {\n    this.connect(url, password, displayname);\n  }\n\n  logout() {\n    this.disconnect();\n  }\n\n  /////////////////////////////\n  // Internal Events\n  /////////////////////////////\n  protected [EVENT.CONNECTING]() {}\n\n  protected [EVENT.CONNECTED]() {\n    this.emit(EVENT.CONNECTED);\n  }\n\n  protected [EVENT.DISCONNECTED](reason?: Error) {\n    console.warn(reason);\n    this.emit(EVENT.DISCONNECTED);\n  }\n\n  protected [EVENT.TRACK](event: RTCTrackEvent) {\n    const { track, streams } = event;\n    this.emit(EVENT.TRACK, track, streams[0]);\n  }\n\n  protected [EVENT.DATA](data: any) {\n    console.log('[DATA]', data);\n  }\n\n  /////////////////////////////\n  // System Events\n  /////////////////////////////\n  protected [EVENT.SYSTEM.DISCONNECT]({ message }: DisconnectPayload) {\n    this.onDisconnected(new Error(message));\n  }\n\n  /////////////////////////////\n  // Control Events\n  /////////////////////////////\n  protected [EVENT.CONTROL.LOCKED]({ id }: ControlPayload) {\n    //this.$accessor.remote.setHost(id);\n    // const member = this.member(id);\n    // if (!member) {\n    //   return;\n    // }\n  }\n\n  protected [EVENT.CONTROL.RELEASE]({ id }: ControlPayload) {\n    //this.$accessor.remote.reset();\n    // const member = this.member(id);\n    // if (!member) {\n    //   return;\n    // }\n  }\n\n  protected [EVENT.CONTROL.GIVE]({ id, target }: ControlTargetPayload) {\n    // const member = this.member(target);\n    // if (!member) {\n    //   return;\n    // }\n    //this.$accessor.remote.setHost(member);\n  }\n\n  protected [EVENT.CONTROL.CLIPBOARD]({ text }: ControlClipboardPayload) {\n    this.emit(EVENT.CONTROL.CLIPBOARD, text);\n  }\n\n  /////////////////////////////\n  // Screen Events\n  /////////////////////////////\n  protected [EVENT.SCREEN.CONFIGURATIONS]({\n    configurations,\n  }: ScreenConfigurationsPayload) {\n    // console.log('[CONFIGURATIONS]', configurations);\n    //this.$accessor.video.setConfigurations(configurations);\n  }\n\n  protected [EVENT.SCREEN.RESOLUTION]({\n    id,\n    width,\n    height,\n    rate,\n  }: ScreenResolutionPayload) {\n    this.emit(EVENT.SCREEN.RESOLUTION, { width, height, rate });\n  }\n}\n\nexport { default as VBrowser } from './VBrowser';\n","import React from 'react';\nimport { Button, Icon } from 'semantic-ui-react';\nimport { Socket } from 'socket.io';\n\nimport {\n  formatTimestamp,\n  getColorHex,\n  getDefaultPicture,\n  iceServers,\n} from '../../utils';\n\ninterface VideoChatProps {\n  socket: Socket;\n  participants: User[];\n  pictureMap: StringDict;\n  nameMap: StringDict;\n  tsMap: NumberDict;\n  rosterUpdateTS: Number;\n  hide?: boolean;\n}\n\nexport class VideoChat extends React.Component<VideoChatProps> {\n  ourStream?: MediaStream;\n  videoRefs: any = {};\n  videoPCs: PCDict = {};\n  socket = this.props.socket;\n\n  componentDidMount() {\n    this.socket.on('signal', this.handleSignal);\n  }\n\n  componentWillUnmount() {\n    this.socket.off('signal', this.handleSignal);\n  }\n\n  componentDidUpdate(prevProps: VideoChatProps) {\n    if (this.props.rosterUpdateTS !== prevProps.rosterUpdateTS) {\n      this.updateWebRTC();\n    }\n  }\n\n  handleSignal = async (data: any) => {\n    // Handle messages received from signaling server\n    const msg = data.msg;\n    const from = data.from;\n    const pc = this.videoPCs[from];\n    console.log('recv', from, data);\n    if (msg.ice !== undefined) {\n      pc.addIceCandidate(new RTCIceCandidate(msg.ice));\n    } else if (msg.sdp && msg.sdp.type === 'offer') {\n      // console.log('offer');\n      await pc.setRemoteDescription(new RTCSessionDescription(msg.sdp));\n      const answer = await pc.createAnswer();\n      await pc.setLocalDescription(answer);\n      this.sendSignal(from, { sdp: pc.localDescription });\n    } else if (msg.sdp && msg.sdp.type === 'answer') {\n      pc.setRemoteDescription(new RTCSessionDescription(msg.sdp));\n    }\n  };\n\n  setupWebRTC = async () => {\n    // Set up our own video\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: true,\n      video: true,\n    });\n    this.ourStream = stream;\n    // alert server we've joined video chat\n    this.socket.emit('CMD:joinVideo');\n  };\n\n  stopWebRTC = () => {\n    this.ourStream &&\n      this.ourStream.getTracks().forEach((track) => {\n        track.stop();\n      });\n    this.ourStream = undefined;\n    Object.values(this.videoPCs).forEach((pc) => {\n      pc.close();\n    });\n    this.videoPCs = {};\n    this.socket.emit('CMD:leaveVideo');\n  };\n\n  toggleVideoWebRTC = () => {\n    if (this.ourStream) {\n      this.ourStream.getVideoTracks()[0].enabled = !this.ourStream.getVideoTracks()[0]\n        .enabled;\n    }\n  };\n\n  getVideoWebRTC = () => {\n    return this.ourStream && this.ourStream.getVideoTracks()[0].enabled;\n  };\n\n  toggleAudioWebRTC = () => {\n    if (this.ourStream) {\n      this.ourStream.getAudioTracks()[0].enabled = !this.ourStream.getAudioTracks()[0]\n        .enabled;\n    }\n  };\n\n  getAudioWebRTC = () => {\n    return (\n      this.ourStream &&\n      this.ourStream.getAudioTracks()[0] &&\n      this.ourStream.getAudioTracks()[0].enabled\n    );\n  };\n\n  updateWebRTC = () => {\n    // TODO teardown connections to people who leave\n    if (!this.ourStream) {\n      // We haven't started video chat, exit\n      return;\n    }\n    this.props.participants.forEach((user) => {\n      const id = user.id;\n      if (!user.isVideoChat || this.videoPCs[id]) {\n        return;\n      }\n      if (id === this.socket.id) {\n        this.videoPCs[id] = new RTCPeerConnection();\n        this.videoRefs[id].srcObject = this.ourStream;\n      } else {\n        const pc = new RTCPeerConnection({ iceServers: iceServers() });\n        this.videoPCs[id] = pc;\n        // Add our own video as outgoing stream\n        //@ts-ignore\n        pc.addStream(this.ourStream);\n        pc.onicecandidate = (event) => {\n          // We generated an ICE candidate, send it to peer\n          if (event.candidate) {\n            this.sendSignal(id, { ice: event.candidate });\n          }\n        };\n        //@ts-ignore\n        pc.onaddstream = (event: any) => {\n          // Mount the stream from peer\n          const stream = event.stream;\n          // console.log(stream);\n          this.videoRefs[id].srcObject = stream;\n        };\n        // For each pair, have the lexicographically smaller ID be the offerer\n        const isOfferer = this.socket.id < id;\n        if (isOfferer) {\n          pc.onnegotiationneeded = async () => {\n            // Start connection for peer's video\n            const offer = await pc.createOffer();\n            await pc.setLocalDescription(offer);\n            this.sendSignal(id, { sdp: pc.localDescription });\n          };\n        }\n      }\n    });\n  };\n\n  sendSignal = async (to: string, data: any) => {\n    console.log('send', to, data);\n    this.socket.emit('signal', { to, msg: data });\n  };\n\n  render() {\n    const { participants, pictureMap, nameMap, tsMap, socket } = this.props;\n    return (\n      <div\n        style={{\n          display: this.props.hide ? 'none' : 'flex',\n          width: '100%',\n          flexDirection: 'column',\n          overflow: 'auto',\n        }}\n      >\n        {!this.ourStream && (\n          <div\n            style={{\n              display: 'flex',\n              flexWrap: 'wrap',\n            }}\n          >\n            <Button\n              fluid\n              title=\"Join Video Chat\"\n              color={'purple'}\n              size=\"medium\"\n              icon\n              labelPosition=\"left\"\n              onClick={this.setupWebRTC}\n            >\n              <Icon name=\"video\" />\n              {`Join Video Chat`}\n            </Button>\n          </div>\n        )}\n        {this.ourStream && (\n          <div\n            style={{\n              display: 'flex',\n              flexWrap: 'wrap',\n            }}\n          >\n            <Button\n              fluid\n              color={'red'}\n              size=\"medium\"\n              icon\n              labelPosition=\"left\"\n              onClick={this.stopWebRTC}\n            >\n              <Icon name=\"external\" />\n              {`Leave`}\n            </Button>\n            <Button\n              fluid\n              color={this.getVideoWebRTC() ? 'green' : 'red'}\n              size=\"medium\"\n              icon\n              labelPosition=\"left\"\n              onClick={this.toggleVideoWebRTC}\n            >\n              <Icon name=\"video\" />\n              {this.getVideoWebRTC() ? 'On' : 'Off'}\n            </Button>\n            <Button\n              fluid\n              color={this.getAudioWebRTC() ? 'green' : 'red'}\n              size=\"medium\"\n              icon\n              labelPosition=\"left\"\n              onClick={this.toggleAudioWebRTC}\n            >\n              <Icon\n                name={this.getAudioWebRTC() ? 'microphone' : 'microphone slash'}\n              />\n              {this.getAudioWebRTC() ? 'On' : 'Off'}\n            </Button>\n          </div>\n        )}\n        <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n          {participants.map((p) => {\n            return (\n              <div key={p.id}>\n                <div\n                  style={{\n                    position: 'relative',\n                    //marginLeft: '4px',\n                  }}\n                >\n                  <div>\n                    {this.ourStream && p.isVideoChat ? (\n                      <video\n                        ref={(el) => {\n                          this.videoRefs[p.id] = el;\n                        }}\n                        className=\"videoChatContent\"\n                        autoPlay\n                        muted={p.id === socket.id}\n                        data-id={p.id}\n                      />\n                    ) : (\n                      <img\n                        className=\"videoChatContent\"\n                        // broken image: https://ui-avatars.com/api/?name=haidee&background=B03060&size=256&color=ffffff\n                        src={\n                          pictureMap[p.id] ||\n                          getDefaultPicture(nameMap[p.id], getColorHex(p.id))\n                        }\n                        alt=\"\"\n                      />\n                    )}\n                    <div\n                      style={{\n                        position: 'absolute',\n                        bottom: '4px',\n                        left: '0px',\n                        width: '100%',\n                        backgroundColor: 'rgba(0,0,0,0)',\n                        color: 'white',\n                        borderRadius: '4px',\n                        fontSize: '10px',\n                        fontWeight: 700,\n                        display: 'flex',\n                      }}\n                    >\n                      <div\n                        title={nameMap[p.id] || p.id}\n                        style={{\n                          width: '80px',\n                          backdropFilter: 'brightness(80%)',\n                          padding: '4px',\n                          textOverflow: 'ellipsis',\n                          whiteSpace: 'nowrap',\n                          overflow: 'hidden',\n                          display: 'inline-block',\n                        }}\n                      >\n                        {p.isVideoChat && <Icon size=\"small\" name=\"video\" />}\n                        {nameMap[p.id] || p.id}\n                      </div>\n                      <div\n                        style={{\n                          backdropFilter: 'brightness(60%)',\n                          padding: '4px',\n                          flexGrow: 1,\n                          display: 'flex',\n                          justifyContent: 'center',\n                        }}\n                      >\n                        {formatTimestamp(tsMap[p.id] || 0)}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Button, Form, Header, Icon, Modal, TextArea } from 'semantic-ui-react';\n\nexport const SettingsModal = ({ trigger }: any) => (\n  <Modal trigger={trigger} basic closeIcon size=\"small\">\n    <Header icon=\"setting\" content=\"Settings\" />\n    <Modal.Content>\n      <Form>\n        <TextArea rows={10} id=\"settings_textarea\">\n          {window.localStorage.getItem('watchparty-setting') ||\n            JSON.stringify(getDefaultSettings(), null, 2)}\n        </TextArea>\n      </Form>\n    </Modal.Content>\n    <Modal.Actions>\n      <Button\n        color=\"green\"\n        inverted\n        onClick={() => {\n          const newSetting = (document.getElementById(\n            'settings_textarea'\n          ) as HTMLTextAreaElement)!.value;\n          try {\n            validateSettingsString(newSetting);\n            updateSettings(newSetting);\n            window.location.reload();\n          } catch (e) {\n            alert(e);\n          }\n        }}\n      >\n        <Icon name=\"checkmark\" />\n        Save\n      </Button>\n    </Modal.Actions>\n  </Modal>\n);\n\nexport function getDefaultSettings(): Settings {\n  return {};\n}\n\nexport function getCurrentSettings(): Settings {\n  const setting = window.localStorage.getItem('watchparty-setting');\n  try {\n    let settings = validateSettingsString(setting);\n    if (!settings) {\n      return {};\n    }\n    return settings;\n  } catch (e) {\n    console.warn(e);\n    return getDefaultSettings();\n  }\n}\n\n/**\n * Validate a setting string. Return a parsed setting object if valid, otherwise throw exception\n */\nexport function validateSettingsString(\n  setting: string | null\n): Settings | null {\n  // Don't have a setting or invalid value\n  let settingObject: Settings = JSON.parse(setting as any);\n  if (!setting) {\n    return {};\n  }\n  if (setting[0] !== '{') {\n    throw new Error('failed to parse settings, using defaults');\n  }\n  return settingObject;\n}\n\nexport function updateSettings(newSetting: string) {\n  window.localStorage.setItem('watchparty-setting', newSetting);\n}\n","import React from 'react';\nimport { Modal, Loader, List } from 'semantic-ui-react';\n\nexport const MultiStreamModal = ({\n  streams,\n  setMedia,\n  resetMultiSelect,\n}: {\n  streams: any[];\n  setMedia: Function;\n  resetMultiSelect: Function;\n}) => (\n  <Modal inverted basic open closeIcon onClose={resetMultiSelect as any}>\n    <Modal.Header>Select a file</Modal.Header>\n    <Modal.Content>\n      {streams.length === 0 && <Loader />}\n      {streams && (\n        <List inverted>\n          {streams.map((file: any) => (\n            <List.Item>\n              <List.Icon name=\"file\" />\n              <List.Content>\n                <List.Header\n                  as=\"a\"\n                  onClick={() => {\n                    setMedia(null, { value: file.url });\n                    resetMultiSelect();\n                  }}\n                >\n                  {file.name}\n                </List.Header>\n                <List.Description>\n                  {file.length.toLocaleString()} bytes\n                </List.Description>\n              </List.Content>\n            </List.Item>\n          ))}\n        </List>\n      )}\n    </Modal.Content>\n  </Modal>\n);\n","export const examples = [\n  'https://upload.wikimedia.org/wikipedia/commons/a/a5/Spring_-_Blender_Open_Movie.webm',\n  // 'https://download.blender.org/peach/bigbuckbunny_movies/big_buck_bunny_1080p_stereo.ogg',\n  // 'https://download.blender.org/demo/movies/Sintel.2010.720p.mkv',\n  // 'https://upload.wikimedia.org/wikipedia/commons/c/c0/Big_Buck_Bunny_4K.webm',\n  // 'https://upload.wikimedia.org/wikipedia/commons/f/f1/Sintel_movie_4K.webm',\n  // 'https://upload.wikimedia.org/wikipedia/commons/1/10/Tears_of_Steel_in_4k_-_Official_Blender_Foundation_release.webm',\n  'https://upload.wikimedia.org/wikipedia/commons/3/36/Cosmos_Laundromat_-_First_Cycle_-_Official_Blender_Foundation_release.webm',\n  'https://upload.wikimedia.org/wikipedia/commons/a/a2/Elephants_Dream_%282006%29.webm',\n  'https://upload.wikimedia.org/wikipedia/commons/a/a9/HERO_-_Blender_Open_Movie-full_movie.webm',\n  'https://upload.wikimedia.org/wikipedia/commons/0/02/Glass_Half_-_Blender_Open_Movie-full_movie.webm',\n  'https://upload.wikimedia.org/wikipedia/commons/d/d0/Caminandes-_Llama_Drama_-_Short_Movie.ogv',\n  'https://upload.wikimedia.org/wikipedia/commons/7/7c/Caminandes_-_Gran_Dillama_-_Blender_Foundation%27s_new_Open_Movie.webm',\n  'https://upload.wikimedia.org/wikipedia/commons/a/ab/Caminandes_3_-_Llamigos_-_Blender_Animated_Short.webm',\n].map((url) => ({\n  url,\n  type: 'file',\n  name: url.slice(url.lastIndexOf('/') + 1),\n}));\n","import React from 'react';\nimport { Menu, Icon, Label } from 'semantic-ui-react';\nimport { decodeEntities } from '../../utils';\n\nexport const YouTubeSearchResult = (\n  props: SearchResult & { setMedia: Function }\n) => {\n  const result = props;\n  const setMedia = props.setMedia;\n  return (\n    <Menu.Item\n      onClick={(e) => {\n        setMedia(e, { value: result.url });\n      }}\n    >\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        <img style={{ height: '40px' }} src={result.img} alt={result.name} />\n        <Icon name=\"youtube\" />\n        <div style={{ marginLeft: '5px' }}>{decodeEntities(result.name)}</div>\n      </div>\n    </Menu.Item>\n  );\n};\n\nexport const MediaPathSearchResult = (\n  props: SearchResult & { setMedia: Function }\n) => {\n  const result = props;\n  const setMedia = props.setMedia;\n  return (\n    <Menu.Item\n      onClick={(e) => {\n        setMedia(e, { value: result.url });\n      }}\n    >\n      <div style={{ display: 'flex' }}>\n        <Icon name=\"file\" />\n        {result.name}\n      </div>\n    </Menu.Item>\n  );\n};\n\nexport class StreamPathSearchResult extends React.Component<\n  SearchResult & {\n    setMedia: Function;\n    launchMultiSelect: Function;\n    streamPath: string;\n  }\n> {\n  render() {\n    const result = this.props;\n    const setMedia = this.props.setMedia;\n    return (\n      <React.Fragment>\n        <Menu.Item\n          onClick={async (e) => {\n            this.props.launchMultiSelect([]);\n            let response = await window.fetch(\n              this.props.streamPath +\n                '/data?torrent=' +\n                encodeURIComponent(result.magnet!)\n            );\n            let metadata = await response.json();\n            // console.log(metadata);\n            if (\n              metadata.files.filter(\n                (file: any) => file.length > 10 * 1024 * 1024\n              ).length > 1\n            ) {\n              // Multiple large files, present user selection\n              const multiStreamSelection = metadata.files.map(\n                (file: any, i: number) => ({\n                  ...file,\n                  url:\n                    this.props.streamPath +\n                    '/stream?torrent=' +\n                    encodeURIComponent(result.magnet!) +\n                    '&fileIndex=' +\n                    i,\n                })\n              );\n              multiStreamSelection.sort((a: any, b: any) =>\n                a.name.localeCompare(b.name)\n              );\n              this.props.launchMultiSelect(multiStreamSelection);\n            } else {\n              this.props.launchMultiSelect(undefined);\n              setMedia(e, {\n                value:\n                  this.props.streamPath +\n                  '/stream?torrent=' +\n                  encodeURIComponent(result.magnet!),\n              });\n            }\n          }}\n        >\n          <Label\n            circular\n            empty\n            color={Number(result.seeders) ? 'green' : 'red'}\n          />\n          <Icon name=\"film\" />\n          {result.name +\n            ' - ' +\n            result.size +\n            ' - ' +\n            result.seeders +\n            ' peers'}\n        </Menu.Item>\n      </React.Fragment>\n    );\n  }\n}\n","import React from 'react';\n// import { DropdownProps, Menu, Input, Icon } from 'semantic-ui-react';\nimport { DropdownProps, Menu } from 'semantic-ui-react';\nimport { debounce, getYouTubeResults } from '../../utils';\nimport { examples } from '../../utils/examples';\nimport { YouTubeSearchResult } from '../SearchResult/SearchResult';\n\ninterface ComboBoxProps {\n  setMedia: Function;\n  currentMedia: string;\n  getMediaDisplayName: Function;\n  launchMultiSelect: Function;\n  mediaPath: string | undefined;\n  streamPath: string | undefined;\n  disabled?: boolean;\n}\n\nexport class ComboBox extends React.Component<ComboBoxProps> {\n  state = {\n    inputMedia: undefined as string | undefined,\n    results: undefined,\n    loading: false,\n    lastResultTimestamp: Number(new Date()),\n  };\n  debounced: any = null;\n\n  setMedia = (e: any, data: DropdownProps) => {\n    window.setTimeout(\n      () => this.setState({ inputMedia: undefined, results: undefined }),\n      300\n    );\n    this.props.setMedia(e, data);\n  };\n\n  doSearch = async (e: any) => {\n    e.persist();\n    this.setState({ inputMedia: e.target.value }, () => {\n      if (!this.debounced) {\n        this.debounced = debounce(async () => {\n          this.setState({ loading: true });\n          const query: string = this.state.inputMedia || '';\n          let timestamp = Number(new Date());\n          let results: JSX.Element[] | undefined = undefined;\n          if (query === '' || (query && query.startsWith('http'))) {\n            results = examples.map((option: any) => (\n              <Menu.Item\n                key={option.url}\n                onClick={(e: any) => this.setMedia(e, { value: option.url })}\n              >\n                {option.url}\n              </Menu.Item>\n            ));\n          } else {\n            const data = await getYouTubeResults(query);\n            results = data.map((result) => (\n              <YouTubeSearchResult\n                key={result.url}\n                {...result}\n                setMedia={this.setMedia}\n              />\n            ));\n          }\n          if (timestamp > this.state.lastResultTimestamp) {\n            this.setState({\n              loading: false,\n              results,\n              lastResultTimestamp: timestamp,\n            });\n          }\n        }, 500);\n      }\n      this.debounced();\n    });\n  };\n\n  render() {\n    // const { currentMedia, getMediaDisplayName } = this.props;\n    const { results } = this.state;\n    return (\n      <div style={{ position: 'relative' }}>\n        <div style={{ display: 'flex' }}>\n          {/* <Input\n            style={{ flexGrow: 1 }}\n            inverted\n            fluid\n            focus\n            disabled={this.props.disabled}\n            onChange={this.doSearch}\n            onFocus={(e: any) => {\n              e.persist();\n              this.setState(\n                {\n                  inputMedia: getMediaDisplayName(currentMedia),\n                },\n                () => {\n                  if (\n                    !this.state.inputMedia ||\n                    (this.state.inputMedia &&\n                      this.state.inputMedia.startsWith('http'))\n                  ) {\n                    this.doSearch(e);\n                  }\n                }\n              );\n              setTimeout(() => e.target.select(), 100);\n            }}\n            onBlur={() =>\n              setTimeout(\n                () =>\n                  this.setState({ inputMedia: undefined, results: undefined }),\n                100\n              )\n            }\n            onKeyPress={(e: any) => {\n              if (e.key === 'Enter') {\n                this.setMedia(e, {\n                  value: this.state.inputMedia,\n                });\n              }\n            }}\n            icon={\n              <Icon\n                onClick={(e: any) =>\n                  this.setMedia(e, {\n                    value: this.state.inputMedia,\n                  })\n                }\n                name=\"arrow right\"\n                link\n                circular\n                //bordered\n              />\n            }\n            loading={this.state.loading}\n            label={'Now Watching:'}\n            placeholder=\"Enter video file URL, YouTube link, or YouTube search term\"\n            value={\n              this.state.inputMedia !== undefined\n                ? this.state.inputMedia\n                : getMediaDisplayName(currentMedia)\n            }\n          /> */}\n        </div>\n        {Boolean(results) && this.state.inputMedia !== undefined && (\n          <Menu\n            fluid\n            vertical\n            style={{\n              position: 'absolute',\n              top: '22px',\n              maxHeight: '250px',\n              overflow: 'scroll',\n              zIndex: 1001,\n            }}\n          >\n            {results}\n          </Menu>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  debounce,\n  getYouTubeResults,\n  getMediaPathResults,\n  getStreamPathResults,\n} from '../../utils';\nimport { DropdownProps, Dropdown } from 'semantic-ui-react';\nimport {\n  YouTubeSearchResult,\n  MediaPathSearchResult,\n  StreamPathSearchResult,\n} from '../SearchResult/SearchResult';\n\ninterface SearchComponentProps {\n  setMedia: Function;\n  type?: 'youtube' | 'media' | 'stream';\n  launchMultiSelect?: Function;\n  mediaPath: string | undefined;\n  streamPath: string | undefined;\n  disabled?: boolean;\n}\n\nexport class SearchComponent extends React.Component<SearchComponentProps> {\n  state = {\n    results: [] as SearchResult[],\n    resetDropdown: Number(new Date()),\n    loading: false,\n    lastResultTimestamp: Number(new Date()),\n    inputMedia: undefined,\n  };\n  debounced: any = null;\n\n  doSearch = async (e: any) => {\n    e.persist();\n    this.setState({ inputMedia: e.target.value }, () => {\n      if (!this.debounced) {\n        this.debounced = debounce(async () => {\n          this.setState({ loading: true });\n          let query = this.state.inputMedia || '';\n          let results: SearchResult[] = [];\n          let timestamp = Number(new Date());\n          if (this.props.type === 'youtube') {\n            results = await getYouTubeResults(query);\n          } else if (this.props.type === 'media' && this.props.mediaPath) {\n            results = await getMediaPathResults(this.props.mediaPath, query);\n          } else if (this.props.type === 'stream' && this.props.streamPath) {\n            results = await getStreamPathResults(this.props.streamPath, query);\n          }\n          if (timestamp > this.state.lastResultTimestamp) {\n            this.setState({\n              loading: false,\n              results,\n              lastResultTimestamp: timestamp,\n            });\n          }\n        }, 500);\n      }\n      this.debounced();\n    });\n  };\n\n  setMedia = (e: any, data: DropdownProps) => {\n    window.setTimeout(\n      () => this.setState({ resetDropdown: Number(new Date()) }),\n      300\n    );\n    this.props.setMedia(e, data);\n  };\n\n  render() {\n    const setMedia = this.setMedia;\n    let placeholder = 'Search streams';\n    let icon = 'film';\n    if (this.props.type === 'youtube') {\n      placeholder = 'Search YouTube';\n      icon = 'youtube';\n    } else if (this.props.type === 'media') {\n      placeholder = this.props.mediaPath || '';\n      icon = 'file';\n    }\n    if (this.state.loading) {\n      icon = 'loading circle notch';\n    }\n    return (\n      <React.Fragment>\n        <Dropdown\n          key={this.state.resetDropdown}\n          fluid\n          style={{ height: '36px' }}\n          button\n          icon={icon}\n          className=\"icon\"\n          labeled\n          disabled={this.props.disabled}\n          search={(() => {}) as any}\n          text={placeholder}\n          onSearchChange={this.doSearch}\n          onFocus={async (e) => {\n            if (this.props.type === 'media' && this.props.mediaPath) {\n              this.doSearch(e);\n            }\n          }}\n          // onBlur={() => this.setState({ results: this.state.watchOptions })}\n          //searchQuery={this.state.query}\n          //loading={this.state.loading}\n        >\n          {Boolean(this.state.results.length) ? (\n            <Dropdown.Menu>\n              {this.state.results.map((result: SearchResult) => {\n                if (this.props.type === 'youtube') {\n                  return (\n                    <YouTubeSearchResult\n                      key={result.url}\n                      {...result}\n                      setMedia={setMedia}\n                    />\n                  );\n                } else if (this.props.type === 'media') {\n                  return (\n                    <MediaPathSearchResult\n                      key={result.url}\n                      {...result}\n                      setMedia={setMedia}\n                    />\n                  );\n                }\n                return (\n                  <StreamPathSearchResult\n                    key={result.url}\n                    {...result}\n                    setMedia={setMedia}\n                    launchMultiSelect={this.props.launchMultiSelect as Function}\n                    streamPath={this.props.streamPath || ''}\n                  />\n                );\n              })}\n            </Dropdown.Menu>\n          ) : null}\n        </Dropdown>\n      </React.Fragment>\n    );\n  }\n}\n","import React from 'react';\nimport { Icon, Progress, Label, Popup } from 'semantic-ui-react';\nimport { Slider } from 'react-semantic-ui-range';\nimport { formatTimestamp } from '../../utils';\n\ninterface ControlsProps {\n  duration: number;\n  togglePlay: Function;\n  onSeek: Function;\n  fullScreen: Function;\n  toggleMute: Function;\n  toggleSubtitle: Function;\n  jumpToLeader: Function;\n  paused: boolean;\n  muted: boolean;\n  subtitled: boolean;\n  currentTime: number;\n  getVolume: Function;\n  setVolume: Function;\n  disabled?: boolean;\n  leaderTime?: number;\n}\n\n// TODO a lot of this state is currently tied to the per-second tsMap update, which is leading to some UI lag\n// Should probably have local state tracking CC/mute/time etc.\nexport class Controls extends React.Component<ControlsProps> {\n  state = {\n    showTimestamp: false,\n    currTimestamp: 0,\n    posTimestamp: 0,\n  };\n\n  onMouseOver = () => {\n    // console.log('mouseover');\n    this.setState({ showTimestamp: true });\n  };\n\n  onMouseOut = () => {\n    // console.log('mouseout');\n    this.setState({ showTimestamp: false });\n  };\n\n  onMouseMove = (e: any) => {\n    const rect = e.target.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const max = rect.width;\n    const pct = x / max;\n    // console.log(x, max);\n    const target = pct * this.props.duration;\n    // console.log(pct);\n    if (pct >= 0) {\n      this.setState({ currTimestamp: target, posTimestamp: pct });\n    }\n  };\n\n  render() {\n    const {\n      togglePlay,\n      onSeek,\n      fullScreen,\n      toggleMute,\n      toggleSubtitle,\n      jumpToLeader,\n      paused,\n      muted,\n      subtitled,\n      currentTime,\n      duration,\n      leaderTime,\n    } = this.props;\n    const isBehind = leaderTime && leaderTime - currentTime > 5;\n    return (\n      <div className=\"controls\">\n        <Icon\n          size=\"large\"\n          onClick={togglePlay}\n          className=\"control action\"\n          disabled={this.props.disabled}\n          name={paused ? 'play' : 'pause'}\n        />\n        <Popup\n          content={\n            (isBehind ? \"We've detected that your stream is behind. \" : '') +\n            'Click to sync to leader.'\n          }\n          trigger={\n            <Icon\n              size=\"large\"\n              onClick={jumpToLeader}\n              className={`control action ${isBehind ? 'glowing' : ''}`}\n              name={'angle double right'}\n            />\n          }\n        />\n        <div className=\"control\">{formatTimestamp(currentTime)}</div>\n        <Progress\n          size=\"tiny\"\n          color=\"blue\"\n          onClick={\n            duration < Infinity && !this.props.disabled ? onSeek : undefined\n          }\n          onMouseOver={this.onMouseOver}\n          onMouseOut={this.onMouseOut}\n          onMouseMove={this.onMouseMove}\n          className=\"control action\"\n          inverted\n          style={{\n            flexGrow: 1,\n            marginTop: 0,\n            marginBottom: 0,\n            position: 'relative',\n            minWidth: '100px',\n          }}\n          value={currentTime}\n          total={duration}\n        >\n          {duration < Infinity && this.state.showTimestamp && (\n            <div\n              style={{\n                position: 'absolute',\n                bottom: '0px',\n                left: `calc(${this.state.posTimestamp * 100 + '% - 27px'})`,\n                pointerEvents: 'none',\n              }}\n            >\n              <Label basic color=\"blue\" pointing=\"below\">\n                <div style={{ width: '34px' }}>\n                  {formatTimestamp(this.state.currTimestamp)}\n                </div>\n              </Label>\n            </div>\n          )}\n        </Progress>\n        <div className=\"control\">{formatTimestamp(duration)}</div>\n        <Icon\n          size=\"large\"\n          onClick={toggleSubtitle}\n          className=\"control action\"\n          name={subtitled ? 'closed captioning' : 'closed captioning outline'}\n          title=\"Captions\"\n        />\n        <Icon\n          size=\"large\"\n          onClick={() => fullScreen(false)}\n          className=\"control action\"\n          name=\"window maximize outline\"\n          title=\"Theater Mode\"\n        />\n        <Icon\n          size=\"large\"\n          onClick={() => fullScreen(true)}\n          className=\"control action\"\n          name=\"expand\"\n          title=\"Fullscreen\"\n        />\n        <Icon\n          size=\"large\"\n          onClick={toggleMute}\n          className=\"control action\"\n          name={muted ? 'volume off' : 'volume up'}\n          title=\"Mute\"\n        />\n        <div style={{ width: '100px', marginRight: '10px' }}>\n          <Slider\n            value={this.props.getVolume()}\n            color=\"blue\"\n            settings={{\n              min: 0,\n              max: 1,\n              step: 0.01,\n              onChange: (value: number) => {\n                this.props.setVolume(value);\n              },\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Modal, Header, Table, Button, Icon } from 'semantic-ui-react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { SignInButton } from '../TopBar/TopBar';\n\n// Make sure to call `loadStripe` outside of a components render to avoid\n// recreating the `Stripe` object on every render.\nconst stripePromise = process.env.REACT_APP_STRIPE_PUBLIC_KEY\n  ? loadStripe(process.env.REACT_APP_STRIPE_PUBLIC_KEY as string)\n  : null;\n\nexport class SubscribeModal extends React.Component<{\n  closeSubscribe: Function;\n  user?: firebase.User;\n  isSubscriber: boolean;\n}> {\n  onSubscribe = async () => {\n    if (!stripePromise) {\n      console.warn('Stripe integration is not configured, cannot subscribe');\n      return;\n    }\n    const stripe = await stripePromise;\n    const result = await stripe?.redirectToCheckout({\n      lineItems: [\n        {\n          price:\n            process.env.NODE_ENV === 'development'\n              ? 'price_HNGtabCzD5qyfd'\n              : 'price_HNDBoPDI7yYRi9',\n          quantity: 1,\n        },\n      ] as any,\n      mode: 'subscription',\n      successUrl: window.location.href,\n      cancelUrl: window.location.href,\n      customerEmail: this.props.user?.email,\n      clientReferenceId: this.props.user?.uid,\n    } as any);\n    // If `redirectToCheckout` fails due to a browser or network\n    // error, display the localized error message to your customer\n    // using `error.message`.\n    if (result && result.error) {\n      console.error(result.error.message);\n    }\n  };\n  render() {\n    if (this.props.isSubscriber) {\n      this.props.closeSubscribe();\n      return null;\n    }\n    const { closeSubscribe } = this.props;\n    return (\n      <Modal open={true} onClose={closeSubscribe as any}>\n        <Modal.Header>Subscribe to WatchParty Plus</Modal.Header>\n        <Modal.Content image>\n          {/* <Image wrapped size='medium' src='https://react.semantic-ui.com/images/avatar/large/rachel.png' /> */}\n          <Modal.Description>\n            <div>\n              Subscriptions help us maintain the service and build new features!\n              Please consider supporting us if you're enjoying WatchParty.\n            </div>\n            <Header>Features</Header>\n            <Table definition unstackable striped>\n              <Table.Header>\n                <Table.Row>\n                  <Table.HeaderCell />\n                  <Table.HeaderCell>WatchParty Free</Table.HeaderCell>\n                  <Table.HeaderCell>WatchParty Plus</Table.HeaderCell>\n                </Table.Row>\n              </Table.Header>\n\n              <Table.Body>\n                {/* Priority support */}\n                <Table.Row>\n                  <Table.Cell>\n                    Basic (Synchronized watching, chat, screenshare)\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Icon name=\"check\" />\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Icon name=\"check\" />\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>VBrowser Resolution</Table.Cell>\n                  <Table.Cell>720p</Table.Cell>\n                  <Table.Cell>1080p</Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>VBrowser CPU/RAM</Table.Cell>\n                  <Table.Cell>Standard</Table.Cell>\n                  <Table.Cell>Extra</Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>VBrowser Session Length</Table.Cell>\n                  <Table.Cell>3 hours</Table.Cell>\n                  <Table.Cell>12 hours</Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>Number of Permanent Rooms</Table.Cell>\n                  <Table.Cell>1</Table.Cell>\n                  <Table.Cell>10</Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>Custom Room URLs</Table.Cell>\n                  <Table.Cell></Table.Cell>\n                  <Table.Cell>\n                    <Icon name=\"check\" />\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>Discord Subscriber Role</Table.Cell>\n                  <Table.Cell></Table.Cell>\n                  <Table.Cell>\n                    <Icon name=\"check\" />\n                  </Table.Cell>\n                </Table.Row>\n                <Table.Row>\n                  <Table.Cell>Price</Table.Cell>\n                  <Table.Cell>$0 / month</Table.Cell>\n                  <Table.Cell>$5 / month</Table.Cell>\n                </Table.Row>\n              </Table.Body>\n            </Table>\n            <div style={{ textAlign: 'right' }}>\n              {/* if user isn't logged in, provide login prompt */}\n              {this.props.user && this.props.user.email ? (\n                <Button\n                  icon\n                  labelPosition=\"left\"\n                  color=\"blue\"\n                  size=\"large\"\n                  onClick={this.onSubscribe}\n                >\n                  <Icon name=\"cc stripe\" />\n                  Subscribe with Stripe\n                </Button>\n              ) : (\n                <div>\n                  Please sign in to subscribe: <SignInButton user={undefined} />\n                </div>\n              )}\n            </div>\n          </Modal.Description>\n        </Modal.Content>\n      </Modal>\n    );\n  }\n}\n","import React from 'react';\nimport { Modal, Button, Icon, Table } from 'semantic-ui-react';\nimport {\n  GoogleReCaptchaProvider,\n  withGoogleReCaptcha,\n} from 'react-google-recaptcha-v3';\n\nexport class VBrowserModal extends React.Component<{\n  closeModal: Function;\n  openSubscribe: Function;\n  startVBrowser: Function;\n  isSubscriber: boolean;\n}> {\n  render() {\n    const { closeModal, startVBrowser, openSubscribe } = this.props;\n    const LaunchButton = withGoogleReCaptcha(\n      ({ googleReCaptchaProps, large }: any) => (\n        <Button\n          size=\"large\"\n          color={large ? 'orange' : undefined}\n          onClick={async () => {\n            const token = await (googleReCaptchaProps as any).executeRecaptcha(\n              'launchVBrowser'\n            );\n            startVBrowser(token, { size: large ? 'large' : '' });\n            closeModal();\n          }}\n        >\n          {large ? 'Launch VBrowser+' : 'Continue with Free'}\n        </Button>\n      )\n    );\n    return (\n      <GoogleReCaptchaProvider\n        reCaptchaKey={process.env.REACT_APP_RECAPTCHA_SITE_KEY as string}\n        useRecaptchaNet\n      >\n        <Modal open={true} onClose={closeModal as any}>\n          <Modal.Header>Launch a VBrowser</Modal.Header>\n          <Modal.Content image>\n            <Modal.Description>\n              <div>\n                You're about to launch a virtual browser to share in this room.\n              </div>\n              <Table definition unstackable striped>\n                <Table.Header>\n                  <Table.Row>\n                    <Table.HeaderCell />\n                    <Table.HeaderCell>WatchParty Free</Table.HeaderCell>\n                    <Table.HeaderCell>WatchParty Plus</Table.HeaderCell>\n                  </Table.Row>\n                </Table.Header>\n\n                <Table.Body>\n                  <Table.Row>\n                    <Table.Cell>VBrowser Resolution</Table.Cell>\n                    <Table.Cell>720p</Table.Cell>\n                    <Table.Cell>1080p</Table.Cell>\n                  </Table.Row>\n                  <Table.Row>\n                    <Table.Cell>VBrowser CPU/RAM</Table.Cell>\n                    <Table.Cell>Standard</Table.Cell>\n                    <Table.Cell>Extra</Table.Cell>\n                  </Table.Row>\n                  <Table.Row>\n                    <Table.Cell>VBrowser Session Length</Table.Cell>\n                    <Table.Cell>3 hours</Table.Cell>\n                    <Table.Cell>12 hours</Table.Cell>\n                  </Table.Row>\n                  <Table.Row>\n                    <Table.Cell></Table.Cell>\n                    <Table.Cell>\n                      <LaunchButton />\n                    </Table.Cell>\n                    <Table.Cell>\n                      {!this.props.isSubscriber ? (\n                        <Button\n                          icon\n                          labelPosition=\"left\"\n                          size=\"large\"\n                          color=\"orange\"\n                          onClick={openSubscribe as any}\n                        >\n                          <Icon name=\"plus\" />\n                          Subscribe\n                        </Button>\n                      ) : (\n                        <LaunchButton large />\n                      )}\n                    </Table.Cell>\n                  </Table.Row>\n                </Table.Body>\n              </Table>\n            </Modal.Description>\n          </Modal.Content>\n        </Modal>\n      </GoogleReCaptchaProvider>\n    );\n  }\n}\n","import React, { useState, useEffect, useCallback } from 'react';\nimport {\n  Icon,\n  Divider,\n  Radio,\n  CheckboxProps,\n  Message,\n  Input,\n  Button,\n  Label,\n} from 'semantic-ui-react';\n// import { SignInButton } from '../TopBar/TopBar';\nimport { getCurrentSettings, updateSettings } from './LocalSettings';\nimport { Socket } from 'socket.io';\nimport axios from 'axios';\nimport { serverPath } from '../../utils';\n\ninterface SettingsTabProps {\n  hide: boolean;\n  user: firebase.User | undefined;\n  roomLock: string;\n  setRoomLock: Function;\n  socket: Socket;\n  isSubscriber: boolean;\n  roomId: string;\n}\n\nexport const SettingsTab = ({\n  hide,\n  user,\n  roomLock,\n  setRoomLock,\n  socket,\n  isSubscriber,\n  roomId,\n}: SettingsTabProps) => {\n  const [updateTS, setUpdateTS] = useState(0);\n  const [vanity, setVanity] = useState<string | undefined>(undefined);\n  const [password, setPassword] = useState<string | undefined>(undefined);\n  const [owner, setOwner] = useState<string | undefined>(undefined);\n  const [validVanity, setValidVanity] = useState(true);\n  const [validVanityLoading, setValidVanityLoading] = useState(false);\n  const [roomLink, setRoomLink] = useState<string>('');\n  useEffect(() => {\n    if (socket) {\n      socket.emit('CMD:getRoomState');\n      const handleRoomState = (data: any) => {\n        setOwner(data.owner);\n        setVanity(data.vanity);\n        setPassword(data.password);\n        setRoomLink(getRoomLink(data.vanity));\n      };\n      const getRoomLink = (vanity: string) => {\n        if (vanity) {\n          return `${window.location.origin}/r/${vanity}`;\n        }\n        return `${window.location.origin}${roomId.replace('/', '#')}`;\n      };\n      socket.on('REC:getRoomState', handleRoomState);\n      return function cleanup() {\n        socket.off('REC:getRoomState', handleRoomState);\n      };\n    }\n  }, [socket, roomId]);\n  const setRoomState = useCallback(\n    async (data: any) => {\n      const token = await user?.getIdToken();\n      socket.emit('CMD:setRoomState', {\n        uid: user?.uid,\n        token,\n        ...data,\n      });\n    },\n    [socket, user]\n  );\n  const setRoomOwner = useCallback(\n    async (data: any) => {\n      const token = await user?.getIdToken();\n      socket.emit('CMD:setRoomOwner', {\n        uid: user?.uid,\n        token,\n        ...data,\n      });\n    },\n    [socket, user]\n  );\n  const checkValidVanity = useCallback(\n    async (input: string) => {\n      if (!input) {\n        setValidVanity(true);\n        return;\n      }\n      setValidVanityLoading(true);\n      const response = await axios.get(serverPath + '/resolveRoom/' + input);\n      const data = response.data;\n      setValidVanityLoading(false);\n      // console.log(data.vanity, vanity);\n      if (data && data.vanity && data.vanity !== vanity) {\n        // Already exists and doesn't match current room\n        setValidVanity(false);\n      } else {\n        setValidVanity(true);\n      }\n    },\n    [setValidVanity, vanity]\n  );\n  const lockDisabled =\n    !Boolean(user) || Boolean(roomLock && roomLock !== user?.uid);\n\n  return (\n    <div style={{ display: hide ? 'none' : 'block', color: 'white' }}>\n      <div className=\"sectionHeader\">Room Settings</div>\n      {!user && (\n        <Message color=\"yellow\" size=\"tiny\">\n          You need to be signed in to change these settings.\n        </Message>\n      )}\n      <SettingRow\n        icon={roomLock ? 'lock' : 'lock open'}\n        name={`Lock Room`}\n        description=\"Only the person who locked the room can control the video.\"\n        checked={Boolean(roomLock)}\n        disabled={lockDisabled}\n        onChange={(e, data) => setRoomLock(data.checked)}\n      />\n      {\n        <SettingRow\n          icon={'clock'}\n          name={`Make Room Permanent`}\n          description=\"Standard rooms are deleted after one day of inactivity. Permanent rooms aren't deleted and can have passwords/custom URLs. Free users can only have one permanent room at a time.\"\n          checked={Boolean(owner)}\n          disabled={Boolean(owner && owner !== user?.uid)}\n          onChange={(e, data) => setRoomOwner({ undo: !data.checked })}\n        />\n      }\n      {owner && owner === user?.uid && (\n        <div className=\"sectionHeader\">Admin Settings</div>\n      )}\n      {owner && owner === user?.uid && (\n        <SettingRow\n          icon={'key'}\n          name={`Set Room Password`}\n          description=\"Users must know this password in order to join the room.\"\n          content={\n            <Input\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              fluid\n            />\n          }\n          disabled={false}\n        />\n      )}\n      {owner && owner === user?.uid && (\n        <SettingRow\n          icon={'linkify'}\n          name={`Set Custom Room URL`}\n          description=\"Set a custom URL for this room. Inappropriate names may be revoked.\"\n          checked={Boolean(roomLock)}\n          disabled={!isSubscriber}\n          subOnly={true}\n          content={\n            <React.Fragment>\n              <Input\n                value={vanity}\n                disabled={!isSubscriber}\n                onChange={(e) => {\n                  checkValidVanity(e.target.value);\n                  setVanity(e.target.value);\n                }}\n                label={<Label>{`${window.location.origin}/r/`}</Label>}\n                loading={validVanityLoading}\n                fluid\n                size=\"mini\"\n                icon\n                action={\n                  validVanity ? (\n                    <Icon name=\"checkmark\" color=\"green\" />\n                  ) : (\n                    <Icon name=\"close\" color=\"red\" />\n                  )\n                }\n              ></Input>\n              <Button\n                size=\"mini\"\n                fluid\n                icon\n                labelPosition=\"left\"\n                color=\"orange\"\n                title=\"Copy link to clipboard\"\n                onClick={() => {\n                  navigator.clipboard.writeText(roomLink);\n                }}\n              >\n                <Icon name=\"copy\" />\n                {roomLink}\n              </Button>\n              <p />\n            </React.Fragment>\n          }\n        />\n      )}\n      <p />\n      {owner && owner === user?.uid && (\n        <Button\n          primary\n          disabled={!validVanity}\n          labelPosition=\"left\"\n          icon\n          fluid\n          onClick={() =>\n            setRoomState({\n              vanity: vanity,\n              password: password,\n            })\n          }\n        >\n          <Icon name=\"save\" />\n          Save Admin Settings\n        </Button>\n      )}\n      {/* MEDIA_PATH */}\n      <div className=\"sectionHeader\">Local Settings</div>\n      <SettingRow\n        updateTS={updateTS}\n        icon=\"bell\"\n        name=\"Disable chat notification sound\"\n        description=\"Don't play a sound when a chat message is sent while you're on another tab\"\n        checked={Boolean(getCurrentSettings().disableChatSound)}\n        disabled={false}\n        onChange={(e, data) => {\n          updateSettings(\n            JSON.stringify({\n              ...getCurrentSettings(),\n              disableChatSound: data.checked,\n            })\n          );\n          setUpdateTS(Number(new Date()));\n        }}\n      />\n    </div>\n  );\n};\n\nconst SettingRow = ({\n  icon,\n  name,\n  description,\n  checked,\n  disabled,\n  onChange,\n  updateTS,\n  content,\n  subOnly,\n}: {\n  icon: string;\n  name: string;\n  description: React.ReactNode;\n  checked?: boolean;\n  disabled: boolean;\n  updateTS?: number;\n  onChange?: (e: React.FormEvent, data: CheckboxProps) => void;\n  content?: React.ReactNode;\n  subOnly?: boolean;\n}) => {\n  return (\n    <React.Fragment>\n      <Divider inverted horizontal />\n      <div>\n        <div style={{ display: 'flex' }}>\n          <Icon size=\"large\" name={icon as any} />\n          <div>\n            {name}{' '}\n            {subOnly ? (\n              <Label size=\"mini\" color=\"orange\">\n                Subscriber only\n              </Label>\n            ) : null}\n          </div>\n          {!content && (\n            <Radio\n              style={{ marginLeft: 'auto' }}\n              toggle\n              checked={checked}\n              disabled={disabled}\n              onChange={onChange}\n            />\n          )}\n        </div>\n        <div className=\"smallText\">{description}</div>\n        {content}\n      </div>\n    </React.Fragment>\n  );\n};\n","import React from 'react';\nimport { Modal, Header, Button, Icon } from 'semantic-ui-react';\n\nexport const ErrorModal = ({ error }: { error: string }) => {\n  return (\n    <Modal inverted basic open>\n      <Header as=\"h1\" style={{ textAlign: 'center' }}>\n        {error}\n      </Header>\n      <div style={{ display: 'flex', justifyContent: 'center' }}>\n        <Button\n          primary\n          size=\"huge\"\n          onClick={() => {\n            window.location.href = '/';\n          }}\n          icon\n          labelPosition=\"left\"\n        >\n          <Icon name=\"home\" />\n          Go to home page\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import React, { useCallback } from 'react';\nimport { Modal, Header, Input, Icon } from 'semantic-ui-react';\n\nexport const PasswordModal = ({\n  savedPasswords,\n  roomId,\n}: {\n  savedPasswords: StringDict;\n  roomId: string;\n}) => {\n  const setPassword = useCallback(() => {\n    window.localStorage.setItem(\n      'watchparty-passwords',\n      JSON.stringify({\n        ...savedPasswords,\n        [roomId]: (document.getElementById('roomPassword') as HTMLInputElement)\n          ?.value,\n      })\n    );\n    window.location.reload();\n  }, [savedPasswords, roomId]);\n  return (\n    <Modal inverted basic open>\n      <Header as=\"h1\" style={{ textAlign: 'center' }}>\n        This room requires a password.\n      </Header>\n      <div style={{ display: 'flex', justifyContent: 'center' }}>\n        <Input\n          id=\"roomPassword\"\n          type=\"password\"\n          size=\"large\"\n          onKeyPress={(e: any) => e.key === 'Enter' && setPassword()}\n          icon={\n            <Icon onClick={setPassword} name=\"key\" inverted circular link />\n          }\n        />\n      </div>\n    </Modal>\n  );\n};\n","import './App.css';\n\nimport querystring from 'querystring';\nimport axios from 'axios';\n//@ts-ignore\nimport magnet from 'magnet-uri';\nimport React from 'react';\nimport {\n  Button,\n  Dimmer,\n  Dropdown,\n  DropdownProps,\n  Grid,\n  Icon,\n  Input,\n  Loader,\n  Message,\n  Modal,\n  Popup,\n  Progress,\n  Menu,\n} from 'semantic-ui-react';\n//@ts-ignore\nimport io from 'socket.io-client';\n//@ts-ignore\nimport VTTConverter from 'srt-webvtt';\nimport {\n  formatSpeed,\n  getMediaType,\n  iceServers,\n  isMobile,\n  serverPath,\n  testAutoplay,\n  openFileSelector,\n  getAndSaveClientId,\n} from '../../utils';\nimport { generateName } from '../../utils/generateName';\nimport { Chat } from '../Chat';\nimport { TopBar } from '../TopBar';\nimport { VBrowser } from '../VBrowser';\nimport { VideoChat } from '../VideoChat';\nimport { getCurrentSettings } from '../Settings';\nimport { MultiStreamModal } from '../Modal/MultiStreamModal';\nimport { ComboBox } from '../ComboBox/ComboBox';\nimport { SearchComponent } from '../SearchComponent/SearchComponent';\nimport { Controls } from '../Controls/Controls';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { SubscribeModal } from '../Modal/SubscribeModal';\nimport { VBrowserModal } from '../Modal/VBrowserModal';\nimport { SettingsTab } from '../Settings/SettingsTab';\nimport { ErrorModal } from '../Modal/ErrorModal';\nimport { PasswordModal } from '../Modal/PasswordModal';\n\nconst firebaseConfig = process.env.REACT_APP_FIREBASE_CONFIG;\nif (firebaseConfig) {\n  firebase.initializeApp(JSON.parse(firebaseConfig));\n}\n\ndeclare global {\n  interface Window {\n    onYouTubeIframeAPIReady: any;\n    YT: any;\n    FB: any;\n    fbAsyncInit: Function;\n  }\n}\n\ninterface AppProps {\n  vanity?: string;\n}\n\ninterface AppState {\n  state: 'init' | 'starting' | 'connected';\n  currentMedia: string;\n  currentSubtitle: string;\n  currentMediaPaused: boolean;\n  participants: User[];\n  rosterUpdateTS: Number;\n  chat: ChatMessage[];\n  tsMap: NumberDict;\n  nameMap: StringDict;\n  pictureMap: StringDict;\n  myName: string;\n  myPicture: string;\n  loading: boolean;\n  scrollTimestamp: number;\n  fullScreen: boolean;\n  controlsTimestamp: number;\n  watchOptions: SearchResult[];\n  isScreenSharing: boolean;\n  isScreenSharingFile: boolean;\n  isVBrowser: boolean;\n  user?: firebase.User;\n  isYouTubeReady: boolean;\n  isAutoPlayable: boolean;\n  downloaded: number;\n  total: number;\n  speed: number;\n  connections: number;\n  multiStreamSelection?: any[];\n  error: string;\n  isErrorAuth: boolean;\n  settings: Settings;\n  vBrowserResolution: string;\n  isVBrowserLarge: boolean;\n  nonPlayableMedia: boolean;\n  currentTab: string;\n  isSubscriber: boolean;\n  isSubscribeModalOpen: boolean;\n  isVBrowserModalOpen: boolean;\n  roomLock: string;\n  controller?: string;\n  savedPasswords: StringDict;\n  roomId: string;\n  errorMessage: string;\n  successMessage: string;\n}\n\nexport default class App extends React.Component<AppProps, AppState> {\n  state: AppState = {\n    state: 'starting',\n    currentMedia: '',\n    currentMediaPaused: false,\n    currentSubtitle: '',\n    participants: [],\n    rosterUpdateTS: Number(new Date()),\n    chat: [],\n    tsMap: {},\n    nameMap: {},\n    pictureMap: {},\n    myName: '',\n    myPicture: '',\n    loading: true,\n    scrollTimestamp: 0,\n    fullScreen: false,\n    controlsTimestamp: 0,\n    watchOptions: [],\n    isScreenSharing: false,\n    isScreenSharingFile: false,\n    isVBrowser: false,\n    user: undefined,\n    isYouTubeReady: false,\n    isAutoPlayable: true,\n    downloaded: 0,\n    total: 0,\n    speed: 0,\n    connections: 0,\n    multiStreamSelection: undefined,\n    error: '',\n    isErrorAuth: false,\n    settings: {},\n    vBrowserResolution: '1280x720@30',\n    isVBrowserLarge: false,\n    nonPlayableMedia: false,\n    currentTab:\n      (querystring.parse(window.location.search.substring(1)).tab as string) ||\n      'chat',\n    isSubscriber: false,\n    isSubscribeModalOpen: false,\n    isVBrowserModalOpen: false,\n    roomLock: '',\n    controller: '',\n    roomId: '',\n    savedPasswords: {},\n    errorMessage: '',\n    successMessage: '',\n  };\n  socket: any = null;\n  watchPartyYTPlayer: any = null;\n  ytDebounce = true;\n  screenShareStream?: MediaStream;\n  screenHostPC: PCDict = {};\n  screenSharePC?: RTCPeerConnection;\n  progressUpdater?: number;\n\n  async componentDidMount() {\n    document.onfullscreenchange = () => {\n      this.setState({ fullScreen: Boolean(document.fullscreenElement) });\n    };\n\n    // Send heartbeat to the server\n    window.setInterval(() => {\n      window.fetch(serverPath + '/ping');\n    }, 10 * 60 * 1000);\n\n    if (firebaseConfig) {\n      firebase.auth().onAuthStateChanged(async (user: firebase.User | null) => {\n        if (user) {\n          // console.log(user);\n          this.setState({ user }, async () => {\n            this.loadSignInData();\n          });\n        }\n      });\n    }\n    this.loadSettings();\n    this.loadYouTube();\n    this.init();\n  }\n\n  loadSettings = async () => {\n    // Load settings from localstorage and remote\n    const customSettingsData = await fetch(serverPath + '/settings');\n    const customSettings = await customSettingsData.json();\n    let settings = { ...getCurrentSettings(), ...customSettings };\n    this.setState({ settings });\n  };\n\n  loadSignInData = async () => {\n    const user = this.state.user;\n    if (user && this.socket) {\n      // NOTE: firebase auth doesn't provide the actual first name data that individual providers (G/FB) do\n      // It's accessible at the time the user logs in but not afterward\n      // If we want accurate surname/given name we'll need to save that somewhere\n      const firstName = user.displayName?.split(' ')[0];\n      if (firstName) {\n        this.updateName(null, { value: firstName });\n      }\n      if (user.photoURL) {\n        this.updatePicture(user.photoURL + '?height=128&width=128');\n      }\n      this.updateUid(user);\n      const token = await user.getIdToken();\n      const response = await window.fetch(\n        serverPath + `/metadata?uid=${user.uid}&token=${token}`\n      );\n      const data = await response.json();\n      this.setState({ isSubscriber: data.isSubscriber });\n    }\n  };\n\n  loadYouTube = () => {\n    // This code loads the IFrame Player API code asynchronously.\n    const tag = document.createElement('script');\n    tag.src = 'https://www.youtube.com/iframe_api';\n    var firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag!.parentNode!.insertBefore(tag, firstScriptTag);\n\n    window.onYouTubeIframeAPIReady = () => {\n      // Note: this fails silently if the element is not available\n      const ytPlayer = new window.YT.Player('leftYt', {\n        events: {\n          onReady: () => {\n            this.watchPartyYTPlayer = ytPlayer;\n            this.setState({ isYouTubeReady: true, loading: false });\n            // We might have failed to play YT originally, ask for the current video again\n            if (this.isYouTube()) {\n              this.socket.emit('CMD:askHost');\n            }\n          },\n          onStateChange: (e: any) => {\n            if (\n              getMediaType(this.state.currentMedia) === 'youtube' &&\n              e.data === window.YT?.PlayerState?.CUED\n            ) {\n              this.setState({ loading: false });\n            }\n            // console.log(this.ytDebounce, e.data, this.watchPartyYTPlayer?.getVideoUrl());\n            if (\n              this.ytDebounce &&\n              ((e.data === window.YT?.PlayerState?.PLAYING &&\n                this.state.currentMediaPaused) ||\n                (e.data === window.YT?.PlayerState?.PAUSED &&\n                  !this.state.currentMediaPaused))\n            ) {\n              this.ytDebounce = false;\n              if (e.data === window.YT?.PlayerState?.PLAYING) {\n                this.socket.emit('CMD:play');\n                this.doPlay();\n              } else {\n                this.socket.emit('CMD:pause');\n                this.doPause();\n              }\n              window.setTimeout(() => (this.ytDebounce = true), 500);\n            }\n          },\n        },\n      });\n    };\n  };\n\n  init = async () => {\n    // Load room ID from url\n    let roomId = '/default';\n    let query = window.location.hash.substring(1);\n    if (query) {\n      roomId = '/' + query;\n    }\n    // if a vanity name, resolve the url to a room id\n    if (this.props.vanity) {\n      try {\n        const response = await axios.get(\n          serverPath + '/resolveRoom/' + this.props.vanity\n        );\n        if (response.data.roomId) {\n          roomId = response.data.roomId;\n        } else {\n          throw new Error('failed to resolve room name');\n        }\n      } catch (e) {\n        console.error(e);\n        this.setState({ error: \"There's no room with this name.\" });\n        return;\n      }\n    }\n    this.setState({ roomId });\n    this.join(roomId);\n  };\n\n  join = async (roomId: string) => {\n    let password = '';\n    try {\n      const savedPasswordsString = window.localStorage.getItem(\n        'watchparty-passwords'\n      );\n      const savedPasswords = JSON.parse(savedPasswordsString || '{}');\n      this.setState({ savedPasswords });\n      password = savedPasswords[roomId] || '';\n    } catch (e) {\n      console.warn('[ALERT] Could not parse saved passwords');\n    }\n    const socket = io.connect(serverPath + roomId, {\n      transports: ['websocket'],\n      query: {\n        clientId: getAndSaveClientId(),\n        password,\n      },\n    });\n    this.socket = socket;\n    socket.on('connect', async () => {\n      const canAutoplay = await testAutoplay();\n      this.setState({ isAutoPlayable: canAutoplay });\n      this.setState({ state: 'connected' });\n      // Load username from localstorage\n      let userName = window.localStorage.getItem('watchparty-username');\n      this.updateName(null, { value: userName || generateName() });\n      // if (!this.state.user && firebaseConfig) {\n      //   await firebase.auth().signInAnonymously();\n      // }\n      this.loadSignInData();\n    });\n    socket.on('error', (err: any) => {\n      console.error(err);\n      if (err === 'Invalid namespace') {\n        this.setState({ error: \"There's no room with this name.\" });\n      } else if (err === 'not authorized') {\n        this.setState({ isErrorAuth: true });\n      } else {\n        this.setState({ error: 'An error occurred.' });\n      }\n    });\n    socket.on('errorMessage', (err: string) => {\n      this.setState({ errorMessage: err });\n      setTimeout(() => {\n        this.setState({ errorMessage: '' });\n      }, 3000);\n    });\n    socket.on('successMessage', (success: string) => {\n      this.setState({ successMessage: success });\n      setTimeout(() => {\n        this.setState({ successMessage: '' });\n      }, 3000);\n    });\n    socket.on('REC:play', () => {\n      this.doPlay();\n    });\n    socket.on('REC:pause', () => {\n      this.doPause();\n    });\n    socket.on('REC:seek', (data: any) => {\n      this.doSeek(data);\n    });\n    socket.on('REC:subtitle', (data: string) => {\n      this.setState(\n        { currentSubtitle: serverPath + '/subtitle/' + data },\n        () => {\n          if (!this.isSubtitled()) {\n            this.toggleSubtitle();\n          }\n        }\n      );\n    });\n    socket.on('REC:changeController', (data: string) => {\n      this.setState({ controller: data });\n    });\n    socket.on('REC:host', (data: HostState) => {\n      let currentMedia = data.video || '';\n      if (this.isScreenShare() && !currentMedia.startsWith('screenshare://')) {\n        this.stopScreenShare();\n      }\n      if (this.isFileShare() && !currentMedia.startsWith('fileshare://')) {\n        this.stopScreenShare();\n      }\n      if (this.isScreenShare() && currentMedia.startsWith('screenshare://')) {\n        // Ignore, it's probably a reconnection\n        return;\n      }\n      if (this.isFileShare() && currentMedia.startsWith('fileshare://')) {\n        // Ignore, it's probably a reconnection\n        return;\n      }\n      if (this.isVBrowser() && !currentMedia.startsWith('vbrowser://')) {\n        this.stopVBrowser();\n      }\n      this.setState(\n        {\n          currentMedia,\n          currentMediaPaused: data.paused,\n          currentSubtitle: Boolean(data.subtitle)\n            ? serverPath + '/subtitle/' + data.subtitle\n            : '',\n          loading: Boolean(data.video),\n          nonPlayableMedia: false,\n          isVBrowserLarge: data.isVBrowserLarge,\n          vBrowserResolution: data.isVBrowserLarge\n            ? '1920x1080@30'\n            : '1280x720@30',\n          controller: data.controller,\n        },\n        () => {\n          if (\n            this.state.isScreenSharingFile ||\n            (this.isVBrowser() && this.getVBrowserHost())\n          ) {\n            console.log(\n              'skipping REC:host video since fileshare is using leftVideo or this is a vbrowser'\n            );\n            this.setLoadingFalse();\n            return;\n          }\n          // Stop all players\n          const leftVideo = document.getElementById(\n            'leftVideo'\n          ) as HTMLMediaElement;\n          leftVideo?.pause();\n          this.watchPartyYTPlayer?.stopVideo();\n\n          // If we can't autoplay, start muted\n          if (!this.state.isAutoPlayable) {\n            this.setMute(true);\n          }\n\n          if (this.isYouTube() && !this.watchPartyYTPlayer) {\n            console.log(\n              'YT player not ready, onReady callback will retry when it is'\n            );\n          } else if (this.isVBrowser()) {\n            console.log(\n              'not playing video as this is a vbrowser:// placeholder'\n            );\n          } else {\n            // Start this video\n            this.doSrc(data.video, data.videoTS);\n            if (!data.paused) {\n              this.doPlay();\n            }\n            if (data.subtitle) {\n              if (!this.isSubtitled()) {\n                this.toggleSubtitle();\n              }\n            }\n            // One time, when we're ready to play\n            leftVideo?.addEventListener(\n              'canplay',\n              () => {\n                this.setLoadingFalse();\n                this.jumpToLeader();\n              },\n              { once: true }\n            );\n\n            // Progress updater\n            window.clearInterval(this.progressUpdater);\n            this.setState({ downloaded: 0, total: 0, speed: 0 });\n            if (currentMedia.includes('/stream?torrent=magnet')) {\n              this.progressUpdater = window.setInterval(async () => {\n                const response = await window.fetch(\n                  currentMedia.replace('/stream', '/progress')\n                );\n                const data = await response.json();\n                this.setState({\n                  downloaded: data.downloaded,\n                  total: data.total,\n                  speed: data.speed,\n                  connections: data.connections,\n                });\n              }, 1000);\n            }\n          }\n        }\n      );\n    });\n    socket.on('REC:chat', (data: ChatMessage) => {\n      if (\n        !getCurrentSettings().disableChatSound &&\n        document.visibilityState &&\n        document.visibilityState !== 'visible'\n      ) {\n        new Audio('/clearly.mp3').play();\n      }\n      this.state.chat.push(data);\n      this.setState({\n        chat: this.state.chat,\n        scrollTimestamp: Number(new Date()),\n      });\n    });\n    socket.on('REC:tsMap', (data: NumberDict) => {\n      this.setState({ tsMap: data });\n      this.syncSubtitle();\n    });\n    socket.on('REC:nameMap', (data: StringDict) => {\n      this.setState({ nameMap: data });\n    });\n    socket.on('REC:pictureMap', (data: StringDict) => {\n      this.setState({ pictureMap: data });\n    });\n    socket.on('REC:lock', (data: string) => {\n      this.setState({ roomLock: data });\n    });\n    socket.on('roster', (data: User[]) => {\n      this.setState(\n        { participants: data, rosterUpdateTS: Number(new Date()) },\n        () => {\n          this.updateScreenShare();\n        }\n      );\n    });\n    socket.on('chatinit', (data: any) => {\n      this.setState({ chat: data, scrollTimestamp: Number(new Date()) });\n    });\n    socket.on('signalSS', async (data: any) => {\n      // Handle messages received from signaling server\n      const msg = data.msg;\n      const from = data.from;\n      // Determine whether the message came from the sharer or the sharee\n      const pc = (data.sharer\n        ? this.screenSharePC\n        : this.screenHostPC[from]) as RTCPeerConnection;\n      if (msg.ice !== undefined) {\n        pc.addIceCandidate(new RTCIceCandidate(msg.ice));\n      } else if (msg.sdp && msg.sdp.type === 'offer') {\n        // console.log('offer');\n        await pc.setRemoteDescription(new RTCSessionDescription(msg.sdp));\n        const answer = await pc.createAnswer();\n        await pc.setLocalDescription(answer);\n        this.sendSignalSS(from, { sdp: pc.localDescription }, !data.sharer);\n      } else if (msg.sdp && msg.sdp.type === 'answer') {\n        pc.setRemoteDescription(new RTCSessionDescription(msg.sdp));\n      }\n    });\n    window.setInterval(() => {\n      if (this.state.currentMedia) {\n        this.socket.emit('CMD:ts', this.getCurrentTime());\n      }\n    }, 1000);\n  };\n\n  setupFileShare = async () => {\n    const files = await openFileSelector();\n    if (!files) {\n      return;\n    }\n    const file = files[0];\n    const leftVideo = document.getElementById('leftVideo') as HTMLMediaElement;\n    leftVideo.srcObject = null;\n    leftVideo.src = URL.createObjectURL(file);\n    leftVideo.play();\n    //@ts-ignore\n    const stream = leftVideo.captureStream();\n    // Can render video to a canvas to resize it, reduce size\n    stream.onaddtrack = () => {\n      console.log(stream, stream.getVideoTracks(), stream.getAudioTracks());\n      if (\n        !this.screenShareStream &&\n        stream.getVideoTracks().length &&\n        stream.getAudioTracks().length\n      ) {\n        stream.getVideoTracks()[0].onended = this.stopScreenShare;\n        this.screenShareStream = stream;\n        this.socket.emit('CMD:joinScreenShare', { file: true });\n        this.setState({ isScreenSharing: true, isScreenSharingFile: true });\n        stream.onaddtrack = undefined;\n      }\n    };\n  };\n\n  setupScreenShare = async () => {\n    //@ts-ignore\n    const stream = await navigator.mediaDevices.getDisplayMedia({\n      video: { cursor: 'never', height: 720, logicalSurface: true },\n      audio: true,\n    });\n    stream.getVideoTracks()[0].onended = this.stopScreenShare;\n    this.screenShareStream = stream;\n    this.socket.emit('CMD:joinScreenShare');\n    this.setState({ isScreenSharing: true });\n  };\n\n  stopScreenShare = async () => {\n    this.screenShareStream &&\n      this.screenShareStream.getTracks().forEach((track) => {\n        track.stop();\n      });\n    this.screenShareStream = undefined;\n    if (this.screenSharePC) {\n      this.screenSharePC.close();\n      this.screenSharePC = undefined;\n    }\n    Object.values(this.screenHostPC).forEach((pc) => {\n      pc.close();\n    });\n    this.screenHostPC = {};\n    if (this.state.isScreenSharing) {\n      this.socket.emit('CMD:leaveScreenShare');\n    }\n    this.setState({ isScreenSharing: false, isScreenSharingFile: false });\n  };\n\n  updateScreenShare = async () => {\n    if (!this.isScreenShare() && !this.isFileShare()) {\n      return;\n    }\n    // TODO teardown for those who leave\n    const sharer = this.state.participants.find((p) => p.isScreenShare);\n    if (sharer && sharer.id === this.socket.id) {\n      // We're the sharer, create a connection to each other member\n      this.state.participants.forEach((user) => {\n        const id = user.id;\n        if (id === this.socket.id && this.state.isScreenSharingFile) {\n          // Don't set up a connection to ourselves if sharing file\n          return;\n        }\n        if (!this.screenHostPC[id]) {\n          // Set up the RTCPeerConnection for sharing media to each member\n          const pc = new RTCPeerConnection({ iceServers: iceServers() });\n          this.screenHostPC[id] = pc;\n          //@ts-ignore\n          pc.addStream(this.screenShareStream);\n          pc.onicecandidate = (event) => {\n            // We generated an ICE candidate, send it to peer\n            if (event.candidate) {\n              this.sendSignalSS(id, { ice: event.candidate }, true);\n            }\n          };\n          pc.onnegotiationneeded = async () => {\n            // Start connection for peer's video\n            const offer = await pc.createOffer();\n            await pc.setLocalDescription(offer);\n            this.sendSignalSS(id, { sdp: pc.localDescription }, true);\n          };\n        }\n      });\n    }\n    // We're a watcher, establish connection to sharer\n    // If screensharing, sharer also does this\n    // If filesharing, sharer does not do this since we use leftVideo\n    if (sharer && !this.screenSharePC && !this.state.isScreenSharingFile) {\n      const pc = new RTCPeerConnection({ iceServers: iceServers() });\n      this.screenSharePC = pc;\n      pc.onicecandidate = (event) => {\n        // We generated an ICE candidate, send it to peer\n        if (event.candidate) {\n          this.sendSignalSS(sharer.id, { ice: event.candidate });\n        }\n      };\n      //@ts-ignore\n      pc.onaddstream = (event: any) => {\n        console.log('stream from webrtc peer');\n        // Mount the stream from peer\n        const stream = event.stream;\n        // console.log(stream);\n        const leftVideo = document.getElementById(\n          'leftVideo'\n        ) as HTMLMediaElement;\n        if (leftVideo) {\n          leftVideo.src = '';\n          leftVideo.srcObject = stream;\n          if (!this.state.isAutoPlayable) {\n            this.setMute(true);\n          }\n          leftVideo.play();\n        }\n      };\n    }\n  };\n\n  setupVBrowser = async (rcToken: string, options: { size: string }) => {\n    // user.uid is the public user identifier\n    // user.getIdToken() is the secret access token we can send to the server to prove identity\n    const user = this.state.user;\n    const uid = user?.uid;\n    const token = await user?.getIdToken();\n    this.socket.emit('CMD:startVBrowser', { options, uid, token, rcToken });\n  };\n\n  stopVBrowser = async () => {\n    this.socket.emit('CMD:stopVBrowser');\n  };\n\n  changeController = async (e: any, data: DropdownProps) => {\n    // console.log(data);\n    this.socket.emit('CMD:changeController', data.value);\n  };\n\n  setSubtitle = async () => {\n    const files = await openFileSelector('.srt');\n    if (!files) {\n      return;\n    }\n    const file = files[0];\n    const reader = new FileReader();\n    reader.addEventListener('load', (event) => {\n      const subData = event.target?.result;\n      this.socket.emit('CMD:subtitle', subData);\n    });\n    reader.readAsText(file);\n  };\n\n  sendSignalSS = async (to: string, data: any, sharer?: boolean) => {\n    // console.log('sendSS', to, data);\n    this.socket.emit('signalSS', { to, msg: data, sharer });\n  };\n\n  isYouTube = () => {\n    return getMediaType(this.state.currentMedia) === 'youtube';\n  };\n\n  isVideo = () => {\n    return getMediaType(this.state.currentMedia) === 'video';\n  };\n\n  isScreenShare = () => {\n    return this.state.currentMedia.startsWith('screenshare://');\n  };\n\n  isFileShare = () => {\n    return this.state.currentMedia.startsWith('fileshare://');\n  };\n\n  isVBrowser = () => {\n    return this.state.currentMedia.startsWith('vbrowser://');\n  };\n\n  isHttp = () => {\n    return this.state.currentMedia.startsWith('http');\n  };\n\n  getVBrowserPass = () => {\n    return this.state.currentMedia.replace('vbrowser://', '').split('@')[0];\n  };\n\n  getVBrowserHost = () => {\n    return this.state.currentMedia.replace('vbrowser://', '').split('@')[1];\n  };\n\n  getCurrentTime = () => {\n    if (this.isVideo()) {\n      const leftVideo = document.getElementById(\n        'leftVideo'\n      ) as HTMLMediaElement;\n      return leftVideo?.currentTime;\n    }\n    if (this.isYouTube()) {\n      return this.watchPartyYTPlayer?.getCurrentTime();\n    }\n  };\n\n  getDuration = () => {\n    if (this.isVideo()) {\n      const leftVideo = document.getElementById(\n        'leftVideo'\n      ) as HTMLMediaElement;\n      return leftVideo.duration;\n    }\n    if (this.isYouTube()) {\n      return this.watchPartyYTPlayer?.getDuration();\n    }\n    return 0;\n  };\n\n  isPaused = () => {\n    if (this.isVideo()) {\n      const leftVideo = document.getElementById(\n        'leftVideo'\n      ) as HTMLMediaElement;\n      return leftVideo.paused || leftVideo.ended;\n    }\n    if (this.isYouTube()) {\n      return (\n        this.watchPartyYTPlayer?.getPlayerState() ===\n          window.YT?.PlayerState?.PAUSED ||\n        this.watchPartyYTPlayer?.getPlayerState() ===\n          window.YT?.PlayerState?.ENDED\n      );\n    }\n    return false;\n  };\n\n  isMuted = () => {\n    if (this.isVideo()) {\n      const leftVideo = document.getElementById(\n        'leftVideo'\n      ) as HTMLMediaElement;\n      return leftVideo?.muted;\n    }\n    if (this.isYouTube()) {\n      return this.watchPartyYTPlayer?.isMuted();\n    }\n    return false;\n  };\n\n  isSubtitled = () => {\n    if (this.isVideo()) {\n      const leftVideo = document.getElementById(\n        'leftVideo'\n      ) as HTMLMediaElement;\n      return (\n        leftVideo.textTracks[0] && leftVideo.textTracks[0].mode === 'showing'\n      );\n    }\n    if (this.isYouTube()) {\n      try {\n        const current = this.watchPartyYTPlayer?.getOption('captions', 'track');\n        return Boolean(current && current.languageCode);\n      } catch (e) {\n        console.warn(e);\n        return false;\n      }\n    }\n    return false;\n  };\n\n  jumpToLeader = () => {\n    // Jump to the leader's position\n    const maxTS = this.getLeaderTime();\n    if (maxTS > 0) {\n      console.log('jump to leader at ', maxTS);\n      this.doSeek(maxTS);\n    }\n  };\n\n  doSrc = async (src: string, time: number) => {\n    console.log('doSrc', src, time);\n    if (this.isScreenShare() || this.isFileShare() || this.isVBrowser()) {\n      // No-op as we'll set video when WebRTC completes\n      return;\n    }\n    if (this.isVideo()) {\n      const leftVideo = document.getElementById(\n        'leftVideo'\n      ) as HTMLMediaElement;\n      if (leftVideo) {\n        leftVideo.srcObject = null;\n        leftVideo.src = src;\n        leftVideo.currentTime = time;\n        // Clear subtitles\n        leftVideo.innerHTML = '';\n      }\n    }\n    if (this.isYouTube()) {\n      let url = new window.URL(src);\n      // Standard link https://www.youtube.com/watch?v=ID\n      let videoId = querystring.parse(url.search.substring(1))['v'];\n      // Link shortener https://youtu.be/ID\n      let altVideoId = src.split('/').slice(-1)[0];\n      this.watchPartyYTPlayer?.cueVideoById(videoId || altVideoId, time);\n    }\n  };\n\n  doPlay = async () => {\n    this.setState({ currentMediaPaused: false }, async () => {\n      if (this.isVideo()) {\n        const leftVideo = document.getElementById(\n          'leftVideo'\n        ) as HTMLMediaElement;\n        try {\n          await leftVideo?.play();\n        } catch (e) {\n          // console.warn(e);\n          console.warn(e.name);\n          if (e.name === 'NotSupportedError') {\n            this.setState({ loading: false, nonPlayableMedia: true });\n          }\n        }\n      }\n      if (this.isYouTube()) {\n        console.log('play yt');\n        this.watchPartyYTPlayer?.playVideo();\n      }\n    });\n  };\n\n  doPause = () => {\n    this.setState({ currentMediaPaused: true }, async () => {\n      if (this.isVideo()) {\n        const leftVideo = document.getElementById(\n          'leftVideo'\n        ) as HTMLMediaElement;\n        leftVideo.pause();\n      }\n      if (this.isYouTube()) {\n        console.log('pause');\n        this.watchPartyYTPlayer?.pauseVideo();\n      }\n    });\n  };\n\n  doSeek = (time: number) => {\n    if (this.isVideo()) {\n      const leftVideo = document.getElementById(\n        'leftVideo'\n      ) as HTMLMediaElement;\n      leftVideo.currentTime = time;\n    }\n    if (this.isYouTube()) {\n      this.watchPartyYTPlayer?.seekTo(time, true);\n    }\n  };\n\n  togglePlay = () => {\n    let shouldPlay = true;\n    if (this.isVideo()) {\n      const leftVideo = document.getElementById(\n        'leftVideo'\n      ) as HTMLMediaElement;\n      shouldPlay = leftVideo.paused || leftVideo.ended;\n    } else if (this.isYouTube()) {\n      shouldPlay =\n        this.watchPartyYTPlayer?.getPlayerState() ===\n          window.YT?.PlayerState.PAUSED ||\n        this.getCurrentTime() === this.getDuration();\n    }\n    if (shouldPlay) {\n      this.socket.emit('CMD:play');\n      this.doPlay();\n    } else {\n      this.socket.emit('CMD:pause');\n      this.doPause();\n    }\n  };\n\n  onSeek = (e: any, time: number) => {\n    let target = time;\n    if (e) {\n      const rect = e.target.getBoundingClientRect();\n      const x = e.clientX - rect.left;\n      const max = rect.width;\n      target = (x / max) * this.getDuration();\n    }\n    target = Math.max(target, 0);\n    this.doSeek(target);\n    this.socket.emit('CMD:seek', target);\n  };\n\n  onVideoKeydown = (e: any) => {\n    if (e.key === ' ') {\n      e.preventDefault();\n      this.togglePlay();\n    } else if (e.key === 'ArrowRight') {\n      this.onSeek(null, this.getCurrentTime() + 10);\n    } else if (e.key === 'ArrowLeft') {\n      this.onSeek(null, this.getCurrentTime() - 10);\n    } else if (e.key === 'c') {\n      this.toggleSubtitle();\n    } else if (e.key === 't') {\n      this.fullScreen(false);\n    } else if (e.key === 'f') {\n      this.fullScreen(true);\n    } else if (e.key === 'm') {\n      this.toggleMute();\n    }\n  };\n\n  fullScreen = async (bVideoOnly: boolean) => {\n    let container = document.getElementById(\n      'fullScreenContainer'\n    ) as HTMLElement;\n    if (bVideoOnly || isMobile()) {\n      container = document.getElementById(\n        this.isYouTube() ? 'leftYt' : 'leftVideo'\n      ) as HTMLElement;\n    }\n    if (!document.fullscreenElement) {\n      await container.requestFullscreen();\n      return;\n    }\n    const bChangeElements = document.fullscreenElement !== container;\n    await document.exitFullscreen();\n    if (bChangeElements) {\n      await container.requestFullscreen();\n    }\n  };\n\n  toggleMute = () => {\n    this.setMute(!this.isMuted());\n  };\n\n  setMute = (muted: boolean) => {\n    if (this.isVideo()) {\n      const leftVideo = document.getElementById(\n        'leftVideo'\n      ) as HTMLMediaElement;\n      if (leftVideo) {\n        leftVideo.muted = muted;\n      }\n    }\n    if (this.isYouTube()) {\n      if (muted) {\n        this.watchPartyYTPlayer?.mute();\n      } else {\n        this.watchPartyYTPlayer?.unMute();\n      }\n    }\n  };\n\n  setVolume = (volume: number) => {\n    if (this.isVideo()) {\n      const leftVideo = document.getElementById(\n        'leftVideo'\n      ) as HTMLMediaElement;\n      leftVideo.volume = volume;\n    }\n    if (this.isYouTube()) {\n      this.watchPartyYTPlayer?.setVolume(volume * 100);\n    }\n  };\n\n  getVolume = () => {\n    if (this.isVideo()) {\n      const leftVideo = document.getElementById(\n        'leftVideo'\n      ) as HTMLMediaElement;\n      return leftVideo.volume;\n    }\n    if (this.isYouTube()) {\n      const volume = this.watchPartyYTPlayer?.getVolume();\n      return volume / 100;\n    }\n  };\n\n  loadSubtitles = async () => {\n    const leftVideo = document.getElementById('leftVideo') as HTMLMediaElement;\n    // Clear subtitles\n    leftVideo.innerHTML = '';\n    let subtitleSrc = '';\n    const src = this.state.currentMedia;\n    if (this.state.currentSubtitle) {\n      subtitleSrc = this.state.currentSubtitle;\n    } else if (src.includes('/stream?torrent=magnet')) {\n      subtitleSrc = src.replace('/stream', '/subtitles2');\n    } else if (src.startsWith('http')) {\n      const subtitlePath = src.slice(0, src.lastIndexOf('/') + 1);\n      // Expect subtitle name to be file name + .srt\n      subtitleSrc =\n        subtitlePath + 'subtitles/' + this.getFileName(src) + '.srt';\n    }\n    if (subtitleSrc) {\n      const response = await window.fetch(subtitleSrc);\n      const buffer = await response.arrayBuffer();\n      const vttConverter = new VTTConverter(new Blob([buffer]));\n      const url = await vttConverter.getURL();\n      const track = document.createElement('track');\n      track.kind = 'captions';\n      track.label = 'English';\n      track.srclang = 'en';\n      track.src = url;\n      leftVideo.appendChild(track);\n      leftVideo.textTracks[0].mode = 'showing';\n    }\n  };\n\n  syncSubtitle = () => {\n    const sharer = this.state.participants.find((p) => p.isScreenShare);\n    if (!sharer || sharer.id === this.socket.id) {\n      return;\n    }\n    // When sharing, our timestamp doesn't match the subtitles so adjust them\n    // For each cue, subtract the videoTS of the sharer, then add our own\n    const leftVideo = document.getElementById('leftVideo') as HTMLMediaElement;\n    const track = leftVideo?.textTracks[0];\n    let offset = leftVideo.currentTime - this.state.tsMap[sharer.id];\n    if (track && offset && track.cues) {\n      for (let i = 0; i < track.cues.length; i++) {\n        let cue = track.cues[i];\n        // console.log(cue.text, offset, (cue as any).origStart, (cue as any).origEnd);\n        if (!(cue as any).origStart) {\n          (cue as any).origStart = cue.startTime;\n          (cue as any).origEnd = cue.endTime;\n        }\n        cue.startTime = (cue as any).origStart + offset;\n        cue.endTime = (cue as any).origEnd + offset;\n      }\n    }\n  };\n\n  toggleSubtitle = () => {\n    if (this.isVideo()) {\n      const leftVideo = document.getElementById(\n        'leftVideo'\n      ) as HTMLMediaElement;\n      if (this.isSubtitled()) {\n        leftVideo.innerHTML = '';\n      } else {\n        this.loadSubtitles();\n      }\n    }\n    if (this.isYouTube()) {\n      const isSubtitled = this.isSubtitled();\n      // console.log(isSubtitled);\n      if (isSubtitled) {\n        // BUG this doesn't actually set the value so subtitles can't be toggled off\n        this.watchPartyYTPlayer?.setOption('captions', 'track', {});\n      } else {\n        this.watchPartyYTPlayer?.setOption('captions', 'reload', true);\n        const tracks = this.watchPartyYTPlayer?.getOption(\n          'captions',\n          'tracklist'\n        );\n        this.watchPartyYTPlayer?.setOption('captions', 'track', tracks[0]);\n      }\n    }\n  };\n\n  setMedia = (e: any, data: DropdownProps) => {\n    this.socket.emit('CMD:host', data.value);\n  };\n\n  launchMultiSelect = (data: any) => {\n    this.setState({ multiStreamSelection: data });\n  };\n\n  resetMultiSelect = () => {\n    this.setState({ multiStreamSelection: undefined });\n  };\n\n  updateName = (e: any, data: { value: string }) => {\n    this.setState({ myName: data.value });\n    this.socket.emit('CMD:name', data.value);\n    window.localStorage.setItem('watchparty-username', data.value);\n  };\n\n  updatePicture = (url: string) => {\n    this.setState({ myPicture: url });\n    this.socket.emit('CMD:picture', url);\n  };\n\n  updateUid = async (user: firebase.User) => {\n    const uid = user.uid;\n    const token = await user.getIdToken();\n    this.socket.emit('CMD:uid', { uid, token });\n  };\n\n  getMediaDisplayName = (input: string) => {\n    if (!input) {\n      return '';\n    }\n    // Show the whole URL for youtube\n    if (getMediaType(input) === 'youtube') {\n      return input;\n    }\n    if (input.startsWith('screenshare://')) {\n      let id = input.slice('screenshare://'.length);\n      return this.state.nameMap[id] + \"'s screen\";\n    }\n    if (input.startsWith('fileshare://')) {\n      let id = input.slice('fileshare://'.length);\n      return this.state.nameMap[id] + \"'s file\";\n    }\n    if (input.startsWith('vbrowser://')) {\n      return 'Virtual Browser' + (this.state.isVBrowserLarge ? '+' : '');\n    }\n    if (input.includes('/stream?torrent=magnet')) {\n      const search = new URL(input).search;\n      const magnetUrl = querystring.parse(search.substring(1)).torrent;\n      const magnetParsed = magnet.decode(magnetUrl);\n      return magnetParsed.name;\n    }\n    // Get the filename out of the URL\n    return input;\n  };\n\n  getFileName = (input: string) => {\n    return input.split('/').slice(-1)[0];\n  };\n\n  setLoadingFalse = () => {\n    this.setState({ loading: false });\n  };\n\n  onManage = async () => {\n    const resp = await window.fetch(serverPath + '/manageSub', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        uid: this.state.user?.uid,\n        token: await this.state.user?.getIdToken(),\n        return_url: window.location.href,\n      }),\n    });\n    const session = await resp.json();\n    console.log(session);\n    window.location.assign(session.url);\n  };\n\n  setRoomLock = async (locked: boolean) => {\n    const uid = this.state.user?.uid;\n    const token = await this.state.user?.getIdToken();\n    this.socket.emit('CMD:lock', { uid, token, locked });\n  };\n\n  haveLock = () => {\n    if (!this.state.roomLock) {\n      return true;\n    }\n    return this.state.user?.uid === this.state.roomLock;\n  };\n\n  getLeaderTime = () => {\n    return Math.max(...Object.values(this.state.tsMap));\n  };\n\n  render() {\n    const sharer = this.state.participants.find((p) => p.isScreenShare);\n    const controls = (\n      <Controls\n        key={this.state.controlsTimestamp}\n        togglePlay={this.togglePlay}\n        onSeek={this.onSeek}\n        fullScreen={this.fullScreen}\n        toggleMute={this.toggleMute}\n        toggleSubtitle={this.toggleSubtitle}\n        setVolume={this.setVolume}\n        getVolume={this.getVolume}\n        jumpToLeader={this.jumpToLeader}\n        paused={this.isPaused()}\n        muted={this.isMuted()}\n        subtitled={this.isSubtitled()}\n        currentTime={this.getCurrentTime()}\n        duration={this.getDuration()}\n        disabled={!this.haveLock()}\n        leaderTime={this.isHttp() ? this.getLeaderTime() : undefined}\n      />\n    );\n    return (\n      <React.Fragment>\n        {this.state.multiStreamSelection && (\n          <MultiStreamModal\n            streams={this.state.multiStreamSelection}\n            setMedia={this.setMedia}\n            resetMultiSelect={this.resetMultiSelect}\n          />\n        )}\n        {this.state.isSubscribeModalOpen && (\n          <SubscribeModal\n            user={this.state.user}\n            isSubscriber={this.state.isSubscriber}\n            closeSubscribe={() =>\n              this.setState({ isSubscribeModalOpen: false })\n            }\n          />\n        )}\n        {this.state.isVBrowserModalOpen && (\n          <VBrowserModal\n            isSubscriber={this.state.isSubscriber}\n            closeModal={() => this.setState({ isVBrowserModalOpen: false })}\n            openSubscribe={() => this.setState({ isSubscribeModalOpen: true })}\n            startVBrowser={this.setupVBrowser}\n          />\n        )}\n        {this.state.error && <ErrorModal error={this.state.error} />}\n        {this.state.isErrorAuth && (\n          <PasswordModal\n            savedPasswords={this.state.savedPasswords}\n            roomId={this.state.roomId}\n          />\n        )}\n        {this.state.errorMessage && (\n          <Message\n            negative\n            header=\"Error\"\n            content={this.state.errorMessage}\n            style={{ position: 'fixed', bottom: '10px', right: '10px' }}\n          ></Message>\n        )}\n        {this.state.successMessage && (\n          <Message\n            positive\n            header=\"Success\"\n            content={this.state.successMessage}\n            style={{ position: 'fixed', bottom: '10px', right: '10px' }}\n          ></Message>\n        )}\n        {!this.state.error && !this.state.isAutoPlayable && (\n          <Modal inverted basic open>\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n              <Button\n                primary\n                size=\"huge\"\n                onClick={() => {\n                  this.setState({ isAutoPlayable: true });\n                  this.setMute(false);\n                }}\n                icon\n                labelPosition=\"left\"\n              >\n                <Icon name=\"sign-in\" />\n                Join Party\n              </Button>\n            </div>\n          </Modal>\n        )}\n        <TopBar user={this.state.user} />\n        {\n          <Grid stackable celled=\"internally\">\n            <Grid.Row>\n              <Grid.Column width={12} className=\"fullHeightColumn\">\n                <div\n                  style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    height: '100%',\n                  }}\n                >\n                  <ComboBox\n                    setMedia={this.setMedia}\n                    currentMedia={this.state.currentMedia}\n                    getMediaDisplayName={this.getMediaDisplayName}\n                    launchMultiSelect={this.launchMultiSelect}\n                    streamPath={this.state.settings.streamPath}\n                    mediaPath={this.state.settings.mediaPath}\n                    disabled={!this.haveLock()}\n                  />\n                  <Separator />\n                  <div className=\"mobileStack\" style={{ display: 'flex' }}>\n                    {this.screenShareStream && (\n                      <Button\n                        fluid\n                        className=\"toolButton\"\n                        icon\n                        labelPosition=\"left\"\n                        color=\"red\"\n                        onClick={this.stopScreenShare}\n                        disabled={sharer?.id !== this.socket?.id}\n                      >\n                        <Icon name=\"cancel\" />\n                        Stop Share\n                      </Button>\n                    )}\n                    {!this.screenShareStream && !sharer && !this.isVBrowser() && (\n                      <Popup\n                        content={`Share a tab or an application. Make sure to check \"Share audio\" for best results.`}\n                        trigger={\n                          <Button\n                            fluid\n                            className=\"toolButton\"\n                            disabled={!this.haveLock()}\n                            icon\n                            labelPosition=\"left\"\n                            color={'instagram'}\n                            onClick={this.setupScreenShare}\n                          >\n                            <Icon name={'slideshare'} />\n                            Screenshare\n                          </Button>\n                        }\n                      />\n                    )}\n                    {!this.screenShareStream && !sharer && !this.isVBrowser() && (\n                      <Popup\n                        content=\"Launch a shared virtual browser\"\n                        trigger={\n                          <Button\n                            fluid\n                            className=\"toolButton\"\n                            disabled={!this.haveLock()}\n                            icon\n                            labelPosition=\"left\"\n                            color=\"green\"\n                            onClick={() => {\n                              this.setState({ isVBrowserModalOpen: true });\n                            }}\n                          >\n                            <Icon name=\"desktop\" />\n                            VBrowser\n                          </Button>\n                        }\n                      />\n                    )}\n                    {this.isVBrowser() && (\n                      <Popup\n                        content=\"Choose the person controlling the VBrowser\"\n                        trigger={\n                          <Dropdown\n                            icon=\"keyboard\"\n                            labeled\n                            className=\"icon\"\n                            style={{ height: '36px' }}\n                            button\n                            value={this.state.controller}\n                            placeholder=\"No controller\"\n                            onChange={this.changeController}\n                            selection\n                            disabled={!this.haveLock()}\n                            options={this.state.participants.map((p) => ({\n                              text: this.state.nameMap[p.id] || p.id,\n                              value: p.id,\n                            }))}\n                          ></Dropdown>\n                        }\n                      />\n                    )}\n                    {this.isVBrowser() && (\n                      <Dropdown\n                        icon=\"desktop\"\n                        labeled\n                        className=\"icon\"\n                        style={{ height: '36px' }}\n                        button\n                        disabled={!this.haveLock()}\n                        value={this.state.vBrowserResolution}\n                        onChange={(e, data) =>\n                          this.setState({\n                            vBrowserResolution: data.value as string,\n                          })\n                        }\n                        selection\n                        options={[\n                          {\n                            text: '1080p',\n                            value: '1920x1080@30',\n                            disabled: !this.state.isVBrowserLarge,\n                          },\n                          {\n                            text: '720p',\n                            value: '1280x720@30',\n                          },\n                          {\n                            text: '576p',\n                            value: '1024x576@60',\n                          },\n                          {\n                            text: '486p',\n                            value: '864x486@60',\n                          },\n                          {\n                            text: '360p',\n                            value: '640x360@60',\n                          },\n                        ]}\n                      ></Dropdown>\n                    )}\n                    {this.isVBrowser() && (\n                      <Button\n                        fluid\n                        className=\"toolButton\"\n                        icon\n                        labelPosition=\"left\"\n                        color=\"red\"\n                        disabled={!this.haveLock()}\n                        onClick={this.stopVBrowser}\n                      >\n                        <Icon name=\"cancel\" />\n                        Stop VBrowser\n                      </Button>\n                    )}\n                    {!this.screenShareStream && !sharer && !this.isVBrowser() && (\n                      <Popup\n                        content=\"Stream your own video file\"\n                        trigger={\n                          <Button\n                            fluid\n                            className=\"toolButton\"\n                            disabled={!this.haveLock()}\n                            icon\n                            labelPosition=\"left\"\n                            onClick={this.setupFileShare}\n                          >\n                            <Icon name=\"file\" />\n                            File\n                          </Button>\n                        }\n                      />\n                    )}\n                    {false && (\n                      <SearchComponent\n                        setMedia={this.setMedia}\n                        type={'youtube'}\n                        streamPath={this.state.settings.streamPath}\n                        mediaPath={this.state.settings.mediaPath}\n                        disabled={!this.haveLock()}\n                      />\n                    )}\n                    {Boolean(this.state.settings.mediaPath) && (\n                      <SearchComponent\n                        setMedia={this.setMedia}\n                        type={'media'}\n                        streamPath={this.state.settings.streamPath}\n                        mediaPath={this.state.settings.mediaPath}\n                        disabled={!this.haveLock()}\n                      />\n                    )}\n                    {Boolean(this.state.settings.streamPath) && (\n                      <SearchComponent\n                        setMedia={this.setMedia}\n                        type={'stream'}\n                        streamPath={this.state.settings.streamPath}\n                        mediaPath={this.state.settings.mediaPath}\n                        launchMultiSelect={this.launchMultiSelect}\n                        disabled={!this.haveLock()}\n                      />\n                    )}\n                    {this.state.currentMedia && (\n                      <Popup\n                        content=\"Upload a .srt subtitle file for this video\"\n                        trigger={\n                          <Button\n                            fluid\n                            color=\"violet\"\n                            className=\"toolButton\"\n                            icon\n                            labelPosition=\"left\"\n                            onClick={this.setSubtitle}\n                            disabled={!this.haveLock()}\n                          >\n                            <Icon name=\"closed captioning\" />\n                            Subtitle\n                          </Button>\n                        }\n                      />\n                    )}\n                    {!this.state.isSubscriber && (\n                      <Popup\n                        content=\"Subscribe to help support us and enable additional features!\"\n                        trigger={\n                          <Button\n                            fluid\n                            color=\"orange\"\n                            className=\"toolButton\"\n                            icon\n                            labelPosition=\"left\"\n                            onClick={() =>\n                              this.setState({ isSubscribeModalOpen: true })\n                            }\n                          >\n                            <Icon name=\"plus\" />\n                            Subscribe\n                          </Button>\n                        }\n                      />\n                    )}\n                    {this.state.isSubscriber && (\n                      <Popup\n                        content=\"Manage your subscription\"\n                        trigger={\n                          <Button\n                            fluid\n                            color=\"orange\"\n                            className=\"toolButton\"\n                            icon\n                            labelPosition=\"left\"\n                            onClick={this.onManage}\n                          >\n                            <Icon name=\"wrench\" />\n                            Manage\n                          </Button>\n                        }\n                      />\n                    )}\n                  </div>\n                  <Separator />\n                  <div\n                    id=\"fullScreenContainer\"\n                    className={\n                      this.state.fullScreen ? 'fullScreenContainer' : ''\n                    }\n                    style={{ flexGrow: 1 }}\n                  >\n                    <div\n                      id=\"playerContainer\"\n                      tabIndex={1}\n                      onKeyDown={this.onVideoKeydown}\n                    >\n                      {(this.state.loading ||\n                        !this.state.currentMedia ||\n                        this.state.nonPlayableMedia) && (\n                        <div\n                          id=\"loader\"\n                          className=\"videoContent\"\n                          style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                          }}\n                        >\n                          {this.state.loading && (\n                            <Dimmer active>\n                              <Loader>\n                                {this.isVBrowser()\n                                  ? 'Launching virtual browser. This can take up to a minute.'\n                                  : ''}\n                              </Loader>\n                            </Dimmer>\n                          )}\n                          {!this.state.loading && !this.state.currentMedia && (\n                            <Message\n                              color=\"yellow\"\n                              icon=\"hand point up\"\n                              header=\"You're not watching anything!\"\n                              content=\"Pick something to watch above.\"\n                            />\n                          )}\n                          {!this.state.loading &&\n                            this.state.nonPlayableMedia && (\n                              <Message\n                                color=\"red\"\n                                icon=\"frown\"\n                                header=\"It doesn't look like this is a media file!\"\n                                content=\"Maybe you meant to launch a VBrowser if you're trying to visit a web page?\"\n                              />\n                            )}\n                        </div>\n                      )}\n                      <iframe\n                        style={{\n                          display:\n                            this.isYouTube() && !this.state.loading\n                              ? 'block'\n                              : 'none',\n                        }}\n                        title=\"YouTube\"\n                        id=\"leftYt\"\n                        className=\"videoContent\"\n                        allowFullScreen\n                        frameBorder=\"0\"\n                        allow=\"autoplay\"\n                        src=\"https://www.youtube.com/embed/?enablejsapi=1&controls=0&rel=0\"\n                      />\n                      {this.isVBrowser() &&\n                      this.getVBrowserPass() &&\n                      this.getVBrowserHost() ? (\n                        <VBrowser\n                          username={this.socket.id}\n                          password={this.getVBrowserPass()}\n                          hostname={this.getVBrowserHost()}\n                          controlling={this.state.controller === this.socket.id}\n                          setLoadingFalse={this.setLoadingFalse}\n                          resolution={this.state.vBrowserResolution}\n                          isAutoPlayable={this.state.isAutoPlayable}\n                          setResolution={(data: string) =>\n                            this.setState({ vBrowserResolution: data })\n                          }\n                        />\n                      ) : (\n                        <video\n                          style={{\n                            display:\n                              this.isVideo() && !this.state.loading\n                                ? 'block'\n                                : 'none',\n                            width: '100%',\n                          }}\n                          id=\"leftVideo\"\n                        ></video>\n                      )}\n                      {this.state.fullScreen && this.state.currentMedia && (\n                        <div className=\"controlsContainer\">{controls}</div>\n                      )}\n                    </div>\n                    {this.state.fullScreen && (\n                      <Chat\n                        className=\"fullScreenChat\"\n                        chat={this.state.chat}\n                        nameMap={this.state.nameMap}\n                        pictureMap={this.state.pictureMap}\n                        socket={this.socket}\n                        scrollTimestamp={this.state.scrollTimestamp}\n                        getMediaDisplayName={this.getMediaDisplayName}\n                      />\n                    )}\n                  </div>\n                  {this.state.currentMedia && controls}\n                  {Boolean(this.state.total) && (\n                    <div>\n                      <Progress\n                        size=\"tiny\"\n                        color=\"green\"\n                        inverted\n                        value={this.state.downloaded}\n                        total={this.state.total}\n                        // indicating\n                        label={\n                          Math.min(\n                            (this.state.downloaded / this.state.total) * 100,\n                            100\n                          ).toFixed(2) +\n                          '% - ' +\n                          formatSpeed(this.state.speed) +\n                          ' - ' +\n                          this.state.connections +\n                          ' connections'\n                        }\n                      ></Progress>\n                    </div>\n                  )}\n                </div>\n              </Grid.Column>\n              <Grid.Column\n                width={4}\n                style={{ display: 'flex', flexDirection: 'column' }}\n                className=\"fullHeightColumn\"\n              >\n                <Input\n                  inverted\n                  fluid\n                  label={'Name:'}\n                  value={this.state.myName}\n                  onChange={this.updateName}\n                  icon={\n                    <Icon\n                      onClick={() =>\n                        this.updateName(null, { value: generateName() })\n                      }\n                      name=\"refresh\"\n                      inverted\n                      circular\n                      link\n                    />\n                  }\n                />\n                {/* <Divider inverted horizontal></Divider> */}\n                {!this.state.fullScreen && (\n                  <Menu\n                    inverted\n                    widths={3}\n                    style={{ marginTop: '4px', marginBottom: '4px' }}\n                  >\n                    <Menu.Item\n                      name=\"chat\"\n                      active={this.state.currentTab === 'chat'}\n                      onClick={() => this.setState({ currentTab: 'chat' })}\n                      as=\"a\"\n                    >\n                      {/* <Icon name=\"conversation\" /> */}\n                      Chat\n                    </Menu.Item>\n                    <Menu.Item\n                      name=\"people\"\n                      active={this.state.currentTab === 'people'}\n                      onClick={() => this.setState({ currentTab: 'people' })}\n                      as=\"a\"\n                    >\n                      {/* <Icon name=\"group\" /> */}\n                      Webcam ({this.state.participants.length})\n                    </Menu.Item>\n                  </Menu>\n                )}\n                <Chat\n                  chat={this.state.chat}\n                  nameMap={this.state.nameMap}\n                  pictureMap={this.state.pictureMap}\n                  socket={this.socket}\n                  scrollTimestamp={this.state.scrollTimestamp}\n                  getMediaDisplayName={this.getMediaDisplayName}\n                  hide={this.state.currentTab !== 'chat'}\n                />\n                {this.state.state === 'connected' && (\n                  <VideoChat\n                    socket={this.socket}\n                    participants={this.state.participants}\n                    nameMap={this.state.nameMap}\n                    pictureMap={this.state.pictureMap}\n                    tsMap={this.state.tsMap}\n                    rosterUpdateTS={this.state.rosterUpdateTS}\n                    hide={this.state.currentTab !== 'people'}\n                  />\n                )}\n                <SettingsTab\n                  hide={this.state.currentTab !== 'settings'}\n                  user={this.state.user}\n                  roomLock={this.state.roomLock}\n                  setRoomLock={this.setRoomLock}\n                  socket={this.socket}\n                  isSubscriber={this.state.isSubscriber}\n                  roomId={this.state.roomId}\n                />\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        }\n      </React.Fragment>\n    );\n  }\n}\n\nexport const Separator = () => <div style={{ height: '4px', flexShrink: 0 }} />;\n","import React from 'react';\nimport { Divider, Header, Icon, Step } from 'semantic-ui-react';\n\nimport { NewRoomButton } from '../TopBar';\nimport styles from './Home.module.css';\n\nexport const Home: React.FC = () => {\n  return (\n    <div>\n      <div className={styles.container}>\n        <Hero\n          heroText={'Watch videos in-sync with friends far away.'}\n          subText={'No registration or download required.'}\n          action={\n            <div style={{ marginTop: '8px', width: '160px' }}>\n              <NewRoomButton />\n            </div>\n          }\n          image={'/screenshot4.png'}\n        />\n        <Divider horizontal>\n          <Header inverted as=\"h4\">\n            <Icon name=\"film\" />\n            Multiple ways to watch\n          </Header>\n        </Divider>\n        <div className={styles.featureSection}>\n          <Feature\n            icon=\"slideshare\"\n            title={`Screensharing`}\n            text=\"Share a browser tab or an application.\"\n          />\n          <Feature\n            icon=\"desktop\"\n            title={`VBrowser`}\n            text=\"Launch a virtual browser in the cloud that all room members can view and control. No need to worry about slow upload speeds!\"\n          />\n          <Feature\n            icon=\"file\"\n            title={`File`}\n            text=\"Upload and stream your own file.\"\n          />\n          <Feature\n            icon=\"linkify\"\n            title={`URL`}\n            text=\"Paste in a URL for everyone to watch from.\"\n          />\n          <Feature\n            icon=\"youtube\"\n            title={`YouTube`}\n            text=\"Watch videos in-sync from YouTube.\"\n          />\n        </div>\n        <Hero\n          heroText={'React to moments together.'}\n          subText={\"Find moments of shared joy even when you're apart.\"}\n          image={'/screenshot18.png'}\n          color=\"green\"\n        />\n        <Divider horizontal>\n          <Header inverted as=\"h4\">\n            <Icon name=\"cogs\" />\n            Features\n          </Header>\n        </Divider>\n        <div className={styles.featureSection}>\n          <Feature\n            icon=\"sync\"\n            title=\"Synchronized\"\n            text=\"Starts, stops, and seeks are synchronized to everyone, so take those restroom and snack breaks without worrying about falling behind.\"\n          />\n          <Feature\n            icon=\"conversation\"\n            title=\"Chat\"\n            text=\"Chat with others in your room. Memes and inside jokes encouraged.\"\n          />\n          <Feature\n            icon=\"video\"\n            title=\"Video chat\"\n            text=\"Jump into video chat if there's something that you just can't express with text.\"\n          />\n        </div>\n        <Hero\n          heroText={'Theater mode.'}\n          subText={\n            'Bring video and chat front-and-center for minimal distractions.'\n          }\n          image={'/screenshot14.png'}\n        />\n        <Divider horizontal />\n        <div\n          style={{\n            padding: '30px',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <div className={styles.heroText}>Get started!</div>\n          <div className={styles.featureSection}>\n            <Step.Group style={{ margin: '8px' }}>\n              <Step>\n                <Icon name=\"certificate\" />\n                <Step.Content>\n                  <Step.Title>1.</Step.Title>\n                  <Step.Description>Make a room</Step.Description>\n                </Step.Content>\n              </Step>\n\n              <Step>\n                <Icon name=\"group\" />\n                <Step.Content>\n                  <Step.Title>2.</Step.Title>\n                  <Step.Description>Share link with friends</Step.Description>\n                </Step.Content>\n              </Step>\n\n              <Step>\n                <Icon name=\"film\" />\n                <Step.Content>\n                  <Step.Title>3.</Step.Title>\n                  <Step.Description>Pick something to watch</Step.Description>\n                </Step.Content>\n              </Step>\n\n              <Step>\n                <Icon name=\"thumbs up outline\" />\n                <Step.Content>\n                  <Step.Title>4.</Step.Title>\n                  <Step.Description>Success!</Step.Description>\n                </Step.Content>\n              </Step>\n            </Step.Group>\n          </div>\n          <div style={{ width: '160px' }}>\n            <NewRoomButton />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Feature = ({\n  icon,\n  text,\n  title,\n}: {\n  icon: string;\n  text: string;\n  title: string;\n}) => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flex: '1 1 0px',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: '10px',\n        minWidth: '180px',\n      }}\n    >\n      <Icon fitted size=\"huge\" name={icon as any} />\n      <h4 className={styles.featureTitle}>{title}</h4>\n      <div className={styles.featureText}>{text}</div>\n    </div>\n  );\n};\n\nconst Hero = ({\n  heroText,\n  subText,\n  action,\n  image,\n  color,\n}: {\n  heroText?: string;\n  subText?: string;\n  action?: React.ReactNode;\n  image?: string;\n  color?: string;\n}) => {\n  return (\n    <div className={`${styles.hero} ${color === 'green' ? styles.green : ''}`}>\n      <div className={styles.heroInner}>\n        <div style={{ padding: '30px', flex: '1 1 0' }}>\n          <div className={styles.heroText}>{heroText}</div>\n          <div className={styles.subText}>{subText}</div>\n          {action}\n        </div>\n        <div\n          style={{\n            flex: '1 1 0',\n          }}\n        >\n          <img\n            alt=\"hero\"\n            style={{ width: '100%', borderRadius: '10px' }}\n            src={image}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\n\nconst mdStyle = { color: 'white', margin: '50px', maxWidth: '800px' };\n\nexport const Privacy = () => {\n  return (\n    <div style={mdStyle}>\n      <ReactMarkdown>\n        {`\nPrivacy Policy\n====\n- Rooms are temporary and expire after one day of inactivity.\n- We do not keep logs of the content that users watch.\n\nPersonal Information\n----\n- You are not required to register to use the service, but you have the option to sign in with an email or authentication provider, which will be used to display your name and picture in the rooms you join.\n- If you provide this information, we may use it to contact you regarding your use of the service, or to link your account to a subscription.\n- We do not sell personal information to third parties.\n- You have the right to request deletion of your user data, in accordance with various laws governing data protection.\n- Payment information is handled by providers such as Stripe. We do not collect or access financial information directly.\n\nCookies\n----\n- We use services such as Google Analytics to measure usage. These services may set cookies or other information locally on your device.\n\nVirtual Browsers\n----\n- Virtual machines are recycled after each session ends and any data on them is destroyed.\n- Your commands are encrypted while in-transit to the virtual machine.\n`}\n      </ReactMarkdown>\n    </div>\n  );\n};\n\nexport const Terms = () => {\n  return (\n    <div style={mdStyle}>\n      <ReactMarkdown>\n        {`\nTerms of Service\n====\nBy using this service you agree to the following terms:\n- You are over 13 years of age\n- Your use of the service may be terminated if you are found to be sharing illegal or infringing content\n- The service provides no guarantee of uptime or availability\n- You use the service at your own risk of encountering objectionable content, as we do not actively moderate rooms unless content is found to be illegal or infringing\n`}\n      </ReactMarkdown>\n    </div>\n  );\n};\n\nexport const FAQ = () => {\n  return (\n    <div style={mdStyle}>\n      <ReactMarkdown>\n        {`\nFAQ\n====\nWhat's a VBrowser?\n----\nA virtual browser (VBrowser) is a browser running in the cloud that a room's members can connect to. Everyone in the room sees the same thing, so it's a great way to watch videos or collaborate on tasks together.\n\nWhy did my VBrowser session stop?\n----\nVBrowsers will terminate automatically if no one is in the room for a while.\nVBrowser sessions are also limited to a maximum of 3 hours for free users, and 12 hours for subscribers.\n\nDoes everyone in the room need to be a subscriber to get the benefits?\n----\nNo, only the person who created the VBrowser needs to be.\n\nHow do I access sites that have a \"not available\" message in the VBrowser?\n----\nSome sites may block traffic that's detected as coming from certain geographic regions. You may need to install an extension like Hola VPN inside the virtual browser.\n\nHow come I'm not getting any audio when screensharing?\n----\nTo share audio, you must be using Chrome, and check a small checkbox at the bottom-left of the share screen dialog.\n\nIs there a limit to how many people can be in a room?\n----\nCurrently there isn't a hard limit, although the service hasn't been tested with more than 15 people or so. Screensharing and filesharing rely on one person uploading to everyone else, so it may not work well with large room sizes.\n`}\n      </ReactMarkdown>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Footer = () => (\n  <div style={{ margin: '1em', fontSize: '14px', color: 'white' }}>\n    <Link style={{ color: 'white' }} to=\"/terms\">\n      Terms\n    </Link>\n    {'  '}\n    <Link style={{ color: 'white' }} to=\"/privacy\">\n      Privacy\n    </Link>\n    {'  '}\n    <Link style={{ color: 'white' }} to=\"/faq\">\n      FAQ\n    </Link>\n  </div>\n);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import './index.css';\nimport 'semantic-ui-css/semantic.min.css';\n\nimport React, { lazy, Suspense } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\n\nimport App from './components/App';\nimport { Home } from './components/Home';\nimport { Privacy, Terms, FAQ } from './components/PrivacyTerms/PrivacyTerms';\nimport { TopBar } from './components/TopBar/TopBar';\nimport { Footer } from './components/Footer/Footer';\nimport * as serviceWorker from './serviceWorker';\n\nconst Debug = lazy(() => import('./components/Debug/Debug'));\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Route\n        path=\"/\"\n        exact\n        render={(props) => {\n          if (props.location?.hash) {\n            return <App />;\n          }\n          return (\n            <React.Fragment>\n              <TopBar hideNewRoom hideSignin />\n              <Home />\n              <Footer />\n            </React.Fragment>\n          );\n        }}\n      />\n      <Route\n        path=\"/r/:vanity\"\n        exact\n        render={(props) => {\n          return <App vanity={props.match.params.vanity} />;\n        }}\n      />\n      <Route path=\"/terms\">\n        <TopBar hideNewRoom hideSignin />\n        <Terms />\n        <Footer />\n      </Route>\n      <Route path=\"/privacy\">\n        <TopBar hideNewRoom hideSignin />\n        <Privacy />\n        <Footer />\n      </Route>\n      <Route path=\"/faq\">\n        <TopBar hideNewRoom hideSignin />\n        <FAQ />\n        <Footer />\n      </Route>\n      <Route path=\"/debug\">\n        <TopBar hideNewRoom hideSignin />\n        <Suspense fallback={null}>\n          <Debug />\n        </Suspense>\n        <Footer />\n      </Route>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}